var m4=Object.defineProperty;var g4=(t,e,n)=>e in t?m4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Nt=(t,e,n)=>g4(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var y4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Tw(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var m0={exports:{}},jd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P2;function v4(){if(P2)return jd;P2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:t,type:i,key:o,ref:r!==void 0?r:null,props:a}}return jd.Fragment=e,jd.jsx=n,jd.jsxs=n,jd}var L2;function x4(){return L2||(L2=1,m0.exports=v4()),m0.exports}var w=x4(),g0={exports:{}},Ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2;function b4(){if(D2)return Ht;D2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function P(U,le,k){this.props=U,this.context=le,this.refs=C,this.updater=k||b}P.prototype.isReactComponent={},P.prototype.setState=function(U,le){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,le,"setState")},P.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function M(){}M.prototype=P.prototype;function L(U,le,k){this.props=U,this.context=le,this.refs=C,this.updater=k||b}var N=L.prototype=new M;N.constructor=L,A(N,P.prototype),N.isPureReactComponent=!0;var R=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function B(U,le,k,$,ie,ue){return k=ue.ref,{$$typeof:t,type:U,key:le,ref:k!==void 0?k:null,props:ue}}function V(U,le){return B(U.type,le,void 0,void 0,void 0,U.props)}function X(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function K(U){var le={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(k){return le[k]})}var O=/\/+/g;function j(U,le){return typeof U=="object"&&U!==null&&U.key!=null?K(""+U.key):le.toString(36)}function Q(){}function Z(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(Q,Q):(U.status="pending",U.then(function(le){U.status==="pending"&&(U.status="fulfilled",U.value=le)},function(le){U.status==="pending"&&(U.status="rejected",U.reason=le)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function me(U,le,k,$,ie){var ue=typeof U;(ue==="undefined"||ue==="boolean")&&(U=null);var fe=!1;if(U===null)fe=!0;else switch(ue){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(U.$$typeof){case t:case e:fe=!0;break;case h:return fe=U._init,me(fe(U._payload),le,k,$,ie)}}if(fe)return ie=ie(U),fe=$===""?"."+j(U,0):$,R(ie)?(k="",fe!=null&&(k=fe.replace(O,"$&/")+"/"),me(ie,le,k,"",function(ve){return ve})):ie!=null&&(X(ie)&&(ie=V(ie,k+(ie.key==null||U&&U.key===ie.key?"":(""+ie.key).replace(O,"$&/")+"/")+fe)),le.push(ie)),1;fe=0;var we=$===""?".":$+":";if(R(U))for(var ce=0;ce<U.length;ce++)$=U[ce],ue=we+j($,ce),fe+=me($,le,k,ue,ie);else if(ce=x(U),typeof ce=="function")for(U=ce.call(U),ce=0;!($=U.next()).done;)$=$.value,ue=we+j($,ce++),fe+=me($,le,k,ue,ie);else if(ue==="object"){if(typeof U.then=="function")return me(Z(U),le,k,$,ie);throw le=String(U),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return fe}function z(U,le,k){if(U==null)return U;var $=[],ie=0;return me(U,$,"","",function(ue){return le.call(k,ue,ie++)}),$}function G(U){if(U._status===-1){var le=U._result;le=le(),le.then(function(k){(U._status===0||U._status===-1)&&(U._status=1,U._result=k)},function(k){(U._status===0||U._status===-1)&&(U._status=2,U._result=k)}),U._status===-1&&(U._status=0,U._result=le)}if(U._status===1)return U._result.default;throw U._result}var te=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function H(){}return Ht.Children={map:z,forEach:function(U,le,k){z(U,function(){le.apply(this,arguments)},k)},count:function(U){var le=0;return z(U,function(){le++}),le},toArray:function(U){return z(U,function(le){return le})||[]},only:function(U){if(!X(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ht.Component=P,Ht.Fragment=n,Ht.Profiler=r,Ht.PureComponent=L,Ht.StrictMode=i,Ht.Suspense=u,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ht.__COMPILER_RUNTIME={__proto__:null,c:function(U){return F.H.useMemoCache(U)}},Ht.cache=function(U){return function(){return U.apply(null,arguments)}},Ht.cloneElement=function(U,le,k){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var $=A({},U.props),ie=U.key,ue=void 0;if(le!=null)for(fe in le.ref!==void 0&&(ue=void 0),le.key!==void 0&&(ie=""+le.key),le)!Y.call(le,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&le.ref===void 0||($[fe]=le[fe]);var fe=arguments.length-2;if(fe===1)$.children=k;else if(1<fe){for(var we=Array(fe),ce=0;ce<fe;ce++)we[ce]=arguments[ce+2];$.children=we}return B(U.type,ie,void 0,void 0,ue,$)},Ht.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},Ht.createElement=function(U,le,k){var $,ie={},ue=null;if(le!=null)for($ in le.key!==void 0&&(ue=""+le.key),le)Y.call(le,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ie[$]=le[$]);var fe=arguments.length-2;if(fe===1)ie.children=k;else if(1<fe){for(var we=Array(fe),ce=0;ce<fe;ce++)we[ce]=arguments[ce+2];ie.children=we}if(U&&U.defaultProps)for($ in fe=U.defaultProps,fe)ie[$]===void 0&&(ie[$]=fe[$]);return B(U,ue,void 0,void 0,null,ie)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(U){return{$$typeof:c,render:U}},Ht.isValidElement=X,Ht.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:G}},Ht.memo=function(U,le){return{$$typeof:f,type:U,compare:le===void 0?null:le}},Ht.startTransition=function(U){var le=F.T,k={};F.T=k;try{var $=U(),ie=F.S;ie!==null&&ie(k,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(H,te)}catch(ue){te(ue)}finally{F.T=le}},Ht.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ht.use=function(U){return F.H.use(U)},Ht.useActionState=function(U,le,k){return F.H.useActionState(U,le,k)},Ht.useCallback=function(U,le){return F.H.useCallback(U,le)},Ht.useContext=function(U){return F.H.useContext(U)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(U,le){return F.H.useDeferredValue(U,le)},Ht.useEffect=function(U,le,k){var $=F.H;if(typeof k=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(U,le)},Ht.useId=function(){return F.H.useId()},Ht.useImperativeHandle=function(U,le,k){return F.H.useImperativeHandle(U,le,k)},Ht.useInsertionEffect=function(U,le){return F.H.useInsertionEffect(U,le)},Ht.useLayoutEffect=function(U,le){return F.H.useLayoutEffect(U,le)},Ht.useMemo=function(U,le){return F.H.useMemo(U,le)},Ht.useOptimistic=function(U,le){return F.H.useOptimistic(U,le)},Ht.useReducer=function(U,le,k){return F.H.useReducer(U,le,k)},Ht.useRef=function(U){return F.H.useRef(U)},Ht.useState=function(U){return F.H.useState(U)},Ht.useSyncExternalStore=function(U,le,k){return F.H.useSyncExternalStore(U,le,k)},Ht.useTransition=function(){return F.H.useTransition()},Ht.version="19.1.0",Ht}var R2;function H1(){return R2||(R2=1,g0.exports=b4()),g0.exports}var pe=H1();const Of=Wm(pe);var y0={exports:{}},Ud={},v0={exports:{}},x0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2;function w4(){return k2||(k2=1,function(t){function e(z,G){var te=z.length;z.push(G);e:for(;0<te;){var H=te-1>>>1,U=z[H];if(0<r(U,G))z[H]=G,z[te]=U,te=H;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var G=z[0],te=z.pop();if(te!==G){z[0]=te;e:for(var H=0,U=z.length,le=U>>>1;H<le;){var k=2*(H+1)-1,$=z[k],ie=k+1,ue=z[ie];if(0>r($,te))ie<U&&0>r(ue,$)?(z[H]=ue,z[ie]=te,H=ie):(z[H]=$,z[k]=te,H=k);else if(ie<U&&0>r(ue,te))z[H]=ue,z[ie]=te,H=ie;else break e}}return G}function r(z,G){var te=z.sortIndex-G.sortIndex;return te!==0?te:z.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],f=[],h=1,g=null,x=3,b=!1,A=!1,C=!1,P=!1,M=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function R(z){for(var G=n(f);G!==null;){if(G.callback===null)i(f);else if(G.startTime<=z)i(f),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(f)}}function F(z){if(C=!1,R(z),!A)if(n(u)!==null)A=!0,Y||(Y=!0,j());else{var G=n(f);G!==null&&me(F,G.startTime-z)}}var Y=!1,B=-1,V=5,X=-1;function K(){return P?!0:!(t.unstable_now()-X<V)}function O(){if(P=!1,Y){var z=t.unstable_now();X=z;var G=!0;try{e:{A=!1,C&&(C=!1,L(B),B=-1),b=!0;var te=x;try{t:{for(R(z),g=n(u);g!==null&&!(g.expirationTime>z&&K());){var H=g.callback;if(typeof H=="function"){g.callback=null,x=g.priorityLevel;var U=H(g.expirationTime<=z);if(z=t.unstable_now(),typeof U=="function"){g.callback=U,R(z),G=!0;break t}g===n(u)&&i(u),R(z)}else i(u);g=n(u)}if(g!==null)G=!0;else{var le=n(f);le!==null&&me(F,le.startTime-z),G=!1}}break e}finally{g=null,x=te,b=!1}G=void 0}}finally{G?j():Y=!1}}}var j;if(typeof N=="function")j=function(){N(O)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Z=Q.port2;Q.port1.onmessage=O,j=function(){Z.postMessage(null)}}else j=function(){M(O,0)};function me(z,G){B=M(function(){z(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(z){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var te=x;x=G;try{return z()}finally{x=te}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=x;x=z;try{return G()}finally{x=te}},t.unstable_scheduleCallback=function(z,G,te){var H=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?H+te:H):te=H,z){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=te+U,z={id:h++,callback:G,priorityLevel:z,startTime:te,expirationTime:U,sortIndex:-1},te>H?(z.sortIndex=te,e(f,z),n(u)===null&&z===n(f)&&(C?(L(B),B=-1):C=!0,me(F,te-H))):(z.sortIndex=U,e(u,z),A||b||(A=!0,Y||(Y=!0,j()))),z},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(z){var G=x;return function(){var te=x;x=G;try{return z.apply(this,arguments)}finally{x=te}}}}(x0)),x0}var I2;function _4(){return I2||(I2=1,v0.exports=w4()),v0.exports}var b0={exports:{}},fr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2;function S4(){if(F2)return fr;F2=1;var t=H1();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(u,f,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:u,containerInfo:f,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return fr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,fr.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,h)},fr.flushSync=function(u){var f=o.T,h=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=f,i.p=h,i.d.f()}},fr.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(u,f))},fr.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},fr.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,g=c(h,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?i.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:b}):h==="script"&&i.d.X(u,{crossOrigin:g,integrity:x,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},fr.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=c(f.as,f.crossOrigin);i.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(u)},fr.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,g=c(h,f.crossOrigin);i.d.L(u,h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},fr.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=c(f.as,f.crossOrigin);i.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(u)},fr.requestFormReset=function(u){i.d.r(u)},fr.unstable_batchedUpdates=function(u,f){return u(f)},fr.useFormState=function(u,f,h){return o.H.useFormState(u,f,h)},fr.useFormStatus=function(){return o.H.useHostTransitionStatus()},fr.version="19.1.0",fr}var O2;function C4(){if(O2)return b0.exports;O2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),b0.exports=S4(),b0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function A4(){if(j2)return Ud;j2=1;var t=_4(),e=H1(),n=C4();function i(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(i(188))}function u(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(i(188));return l!==s?null:s}for(var d=s,y=l;;){var _=d.return;if(_===null)break;var T=_.alternate;if(T===null){if(y=_.return,y!==null){d=y;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===d)return c(_),s;if(T===y)return c(_),l;T=T.sibling}throw Error(i(188))}if(d.return!==y.return)d=_,y=T;else{for(var q=!1,ae=_.child;ae;){if(ae===d){q=!0,d=_,y=T;break}if(ae===y){q=!0,y=_,d=T;break}ae=ae.sibling}if(!q){for(ae=T.child;ae;){if(ae===d){q=!0,d=T,y=_;break}if(ae===y){q=!0,y=T,d=_;break}ae=ae.sibling}if(!q)throw Error(i(189))}}if(d.alternate!==y)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?s:l}function f(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=f(s),l!==null)return l;s=s.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),N=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var Q=Symbol.for("react.client.reference");function Z(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Q?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case P:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case Y:return"SuspenseList";case X:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case N:return(s.displayName||"Context")+".Provider";case L:return(s._context.displayName||"Context")+".Consumer";case R:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return l=s.displayName||null,l!==null?l:Z(s.type)||"Memo";case V:l=s._payload,s=s._init;try{return Z(s(l))}catch{}}return null}var me=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},H=[],U=-1;function le(s){return{current:s}}function k(s){0>U||(s.current=H[U],H[U]=null,U--)}function $(s,l){U++,H[U]=s.current,s.current=l}var ie=le(null),ue=le(null),fe=le(null),we=le(null);function ce(s,l){switch($(fe,l),$(ue,s),$(ie,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?r2(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=r2(l),s=a2(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}k(ie),$(ie,s)}function ve(){k(ie),k(ue),k(fe)}function _e(s){s.memoizedState!==null&&$(we,s);var l=ie.current,d=a2(l,s.type);l!==d&&($(ue,s),$(ie,d))}function Te(s){ue.current===s&&(k(ie),k(ue)),we.current===s&&(k(we),Rd._currentValue=te)}var Oe=Object.prototype.hasOwnProperty,je=t.unstable_scheduleCallback,Ke=t.unstable_cancelCallback,ge=t.unstable_shouldYield,oe=t.unstable_requestPaint,Ue=t.unstable_now,ot=t.unstable_getCurrentPriorityLevel,qe=t.unstable_ImmediatePriority,Xe=t.unstable_UserBlockingPriority,Qe=t.unstable_NormalPriority,Ze=t.unstable_LowPriority,ft=t.unstable_IdlePriority,Ct=t.log,Rt=t.unstable_setDisableYieldValue,dt=null,yt=null;function kt(s){if(typeof Ct=="function"&&Rt(s),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(dt,s)}catch{}}var nt=Math.clz32?Math.clz32:Pi,Ut=Math.log,rt=Math.LN2;function Pi(s){return s>>>=0,s===0?32:31-(Ut(s)/rt|0)|0}var zt=256,Kn=4194304;function Zt(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function pn(s,l,d){var y=s.pendingLanes;if(y===0)return 0;var _=0,T=s.suspendedLanes,q=s.pingedLanes;s=s.warmLanes;var ae=y&134217727;return ae!==0?(y=ae&~T,y!==0?_=Zt(y):(q&=ae,q!==0?_=Zt(q):d||(d=ae&~s,d!==0&&(_=Zt(d))))):(ae=y&~T,ae!==0?_=Zt(ae):q!==0?_=Zt(q):d||(d=y&~s,d!==0&&(_=Zt(d)))),_===0?0:l!==0&&l!==_&&(l&T)===0&&(T=_&-_,d=l&-l,T>=d||T===32&&(d&4194048)!==0)?l:_}function nr(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function cn(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gs(){var s=zt;return zt<<=1,(zt&4194048)===0&&(zt=256),s}function Fn(){var s=Kn;return Kn<<=1,(Kn&62914560)===0&&(Kn=4194304),s}function wr(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function _r(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Vn(s,l,d,y,_,T){var q=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var ae=s.entanglements,ye=s.expirationTimes,Re=s.hiddenUpdates;for(d=q&~d;0<d;){var Ve=31-nt(d),Ye=1<<Ve;ae[Ve]=0,ye[Ve]=-1;var ke=Re[Ve];if(ke!==null)for(Re[Ve]=null,Ve=0;Ve<ke.length;Ve++){var Ie=ke[Ve];Ie!==null&&(Ie.lane&=-536870913)}d&=~Ye}y!==0&&It(s,y,0),T!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=T&~(q&~l))}function It(s,l,d){s.pendingLanes|=l,s.suspendedLanes&=~l;var y=31-nt(l);s.entangledLanes|=l,s.entanglements[y]=s.entanglements[y]|1073741824|d&4194090}function an(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var y=31-nt(d),_=1<<y;_&l|s[y]&l&&(s[y]|=l),d&=~_}}function ka(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function fi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Wr(){var s=G.p;return s!==0?s:(s=window.event,s===void 0?32:C2(s.type))}function fa(s,l){var d=G.p;try{return G.p=s,l()}finally{G.p=d}}var gt=Math.random().toString(36).slice(2),Sn="__reactFiber$"+gt,On="__reactProps$"+gt,di="__reactContainer$"+gt,Xn="__reactEvents$"+gt,ri="__reactListeners$"+gt,Sr="__reactHandles$"+gt,co="__reactResources$"+gt,Cr="__reactMarker$"+gt;function Ar(s){delete s[Sn],delete s[On],delete s[Xn],delete s[ri],delete s[Sr]}function Ui(s){var l=s[Sn];if(l)return l;for(var d=s.parentNode;d;){if(l=d[di]||d[Sn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=c2(s);s!==null;){if(d=s[Sn])return d;s=c2(s)}return l}s=d,d=s.parentNode}return null}function Bi(s){if(s=s[Sn]||s[di]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function ir(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(i(33))}function Li(s){var l=s[co];return l||(l=s[co]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function gn(s){s[Cr]=!0}var ys=new Set,uo={};function Dr(s,l){Yr(s,l),Yr(s+"Capture",l)}function Yr(s,l){for(uo[s]=l,s=0;s<l.length;s++)ys.add(l[s])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hc={},_u={};function Yf(s){return Oe.call(_u,s)?!0:Oe.call(hc,s)?!1:el.test(s)?_u[s]=!0:(hc[s]=!0,!1)}function Ia(s,l,d){if(Yf(l))if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var y=l.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+d)}}function fo(s,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+d)}}function Jr(s,l,d,y){if(y===null)s.removeAttribute(d);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(l,d,""+y)}}var ho,Su;function Fa(s){if(ho===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ho=l&&l[1]||"",Su=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ho+s+Su}var pc=!1;function vs(s,l){if(!s||pc)return"";pc=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(l){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(Ie){var ke=Ie}Reflect.construct(s,[],Ye)}else{try{Ye.call()}catch(Ie){ke=Ie}s.call(Ye.prototype)}}else{try{throw Error()}catch(Ie){ke=Ie}(Ye=s())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(Ie){if(Ie&&ke&&typeof Ie.stack=="string")return[Ie.stack,ke.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=y.DetermineComponentFrameRoot(),q=T[0],ae=T[1];if(q&&ae){var ye=q.split(`
`),Re=ae.split(`
`);for(_=y=0;y<ye.length&&!ye[y].includes("DetermineComponentFrameRoot");)y++;for(;_<Re.length&&!Re[_].includes("DetermineComponentFrameRoot");)_++;if(y===ye.length||_===Re.length)for(y=ye.length-1,_=Re.length-1;1<=y&&0<=_&&ye[y]!==Re[_];)_--;for(;1<=y&&0<=_;y--,_--)if(ye[y]!==Re[_]){if(y!==1||_!==1)do if(y--,_--,0>_||ye[y]!==Re[_]){var Ve=`
`+ye[y].replace(" at new "," at ");return s.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",s.displayName)),Ve}while(1<=y&&0<=_);break}}}finally{pc=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Fa(d):""}function Jf(s){switch(s.tag){case 26:case 27:case 5:return Fa(s.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 15:return vs(s.type,!1);case 11:return vs(s.type.render,!1);case 1:return vs(s.type,!0);case 31:return Fa("Activity");default:return""}}function Hn(s){try{var l="";do l+=Jf(s),s=s.return;while(s);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Ji(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function mc(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Cu(s){var l=mc(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),y=""+s[l];if(!s.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,T=d.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return _.call(this)},set:function(q){y=""+q,T.call(this,q)}}),Object.defineProperty(s,l,{enumerable:d.enumerable}),{getValue:function(){return y},setValue:function(q){y=""+q},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function xs(s){s._valueTracker||(s._valueTracker=Cu(s))}function Au(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),y="";return s&&(y=mc(s)?s.checked?"true":"false":s.value),s=y,s!==d?(l.setValue(s),!0):!1}function rr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var tl=/[\n"\\]/g;function Nn(s){return s.replace(tl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function po(s,l,d,y,_,T,q,ae){s.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?s.type=q:s.removeAttribute("type"),l!=null?q==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Ji(l)):s.value!==""+Ji(l)&&(s.value=""+Ji(l)):q!=="submit"&&q!=="reset"||s.removeAttribute("value"),l!=null?yc(s,q,Ji(l)):d!=null?yc(s,q,Ji(d)):y!=null&&s.removeAttribute("value"),_==null&&T!=null&&(s.defaultChecked=!!T),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"?s.name=""+Ji(ae):s.removeAttribute("name")}function gc(s,l,d,y,_,T,q,ae){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.type=T),l!=null||d!=null){if(!(T!=="submit"&&T!=="reset"||l!=null))return;d=d!=null?""+Ji(d):"",l=l!=null?""+Ji(l):d,ae||l===s.value||(s.value=l),s.defaultValue=l}y=y??_,y=typeof y!="function"&&typeof y!="symbol"&&!!y,s.checked=ae?s.checked:!!y,s.defaultChecked=!!y,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(s.name=q)}function yc(s,l,d){l==="number"&&rr(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function Oa(s,l,d,y){if(s=s.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<s.length;d++)_=l.hasOwnProperty("$"+s[d].value),s[d].selected!==_&&(s[d].selected=_),_&&y&&(s[d].defaultSelected=!0)}else{for(d=""+Ji(d),l=null,_=0;_<s.length;_++){if(s[_].value===d){s[_].selected=!0,y&&(s[_].defaultSelected=!0);return}l!==null||s[_].disabled||(l=s[_])}l!==null&&(l.selected=!0)}}function Tu(s,l,d){if(l!=null&&(l=""+Ji(l),l!==s.value&&(s.value=l),d==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=d!=null?""+Ji(d):""}function vc(s,l,d,y){if(l==null){if(y!=null){if(d!=null)throw Error(i(92));if(me(y)){if(1<y.length)throw Error(i(93));y=y[0]}d=y}d==null&&(d=""),l=d}d=Ji(l),s.defaultValue=d,y=s.textContent,y===d&&y!==""&&y!==null&&(s.value=y)}function bs(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var xc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nu(s,l,d){var y=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?y?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":y?s.setProperty(l,d):typeof d!="number"||d===0||xc.has(l)?l==="float"?s.cssFloat=d:s[l]=(""+d).trim():s[l]=d+"px"}function Eu(s,l,d){if(l!=null&&typeof l!="object")throw Error(i(62));if(s=s.style,d!=null){for(var y in d)!d.hasOwnProperty(y)||l!=null&&l.hasOwnProperty(y)||(y.indexOf("--")===0?s.setProperty(y,""):y==="float"?s.cssFloat="":s[y]="");for(var _ in l)y=l[_],l.hasOwnProperty(_)&&d[_]!==y&&Nu(s,_,y)}else for(var T in l)l.hasOwnProperty(T)&&Nu(s,T,l[T])}function bc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ja=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(s){return nl.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var il=null;function Si(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ws=null,Ba=null;function Lt(s){var l=Bi(s);if(l&&(s=l.stateNode)){var d=s[On]||null;e:switch(s=l.stateNode,l.type){case"input":if(po(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Nn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var y=d[l];if(y!==s&&y.form===s.form){var _=y[On]||null;if(!_)throw Error(i(90));po(y,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<d.length;l++)y=d[l],y.form===s.form&&Au(y)}break e;case"textarea":Tu(s,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Oa(s,!!d.multiple,l,!1)}}}var wc=!1;function Mu(s,l,d){if(wc)return s(l,d);wc=!0;try{var y=s(l);return y}finally{if(wc=!1,(ws!==null||Ba!==null)&&(gp(),ws&&(l=ws,s=Ba,Ba=ws=null,Lt(l),s)))for(l=0;l<s.length;l++)Lt(s[l])}}function ar(s,l){var d=s.stateNode;if(d===null)return null;var y=d[On]||null;if(y===null)return null;d=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(i(231,l,typeof d));return d}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rl=!1;if(Rr)try{var da={};Object.defineProperty(da,"passive",{get:function(){rl=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{rl=!1}var kr=null,_c=null,al=null;function Pu(){if(al)return al;var s,l=_c,d=l.length,y,_="value"in kr?kr.value:kr.textContent,T=_.length;for(s=0;s<d&&l[s]===_[s];s++);var q=d-s;for(y=1;y<=q&&l[d-y]===_[T-y];y++);return al=_.slice(s,1<y?1-y:void 0)}function _s(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function ha(){return!0}function za(){return!1}function zi(s){function l(d,y,_,T,q){this._reactName=d,this._targetInst=_,this.type=y,this.nativeEvent=T,this.target=q,this.currentTarget=null;for(var ae in s)s.hasOwnProperty(ae)&&(d=s[ae],this[ae]=d?d(T):T[ae]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?ha:za,this.isPropagationStopped=za,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),l}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=zi(Tr),pa=h({},Tr,{view:0,detail:0}),Lu=zi(pa),sl,ol,Cs,Nr=h({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fl,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Cs&&(Cs&&s.type==="mousemove"?(sl=s.screenX-Cs.screenX,ol=s.screenY-Cs.screenY):ol=sl=0,Cs=s),sl)},movementY:function(s){return"movementY"in s?s.movementY:ol}}),ma=zi(Nr),Kf=h({},Nr,{dataTransfer:0}),As=zi(Kf),Kr=h({},pa,{relatedTarget:0}),mo=zi(Kr),go=h({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xf=zi(go),ll=h({},Tr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qf=zi(ll),Sc=h({},Tr,{data:0}),cl=zi(Sc),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ul={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ac(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Cc[s])?!!l[s]:!1}function fl(){return Ac}var Zf=h({},pa,{key:function(s){if(s.key){var l=Du[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=_s(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ul[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fl,charCode:function(s){return s.type==="keypress"?_s(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_s(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),dl=zi(Zf),yo=h({},Nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=zi(yo),Ts=h({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fl}),Tc=zi(Ts),E=h({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),J=zi(E),he=h({},Nr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),xe=zi(he),Me=h({},Tr,{newState:0,oldState:0}),Be=zi(Me),Je=[9,13,27,32],at=Rr&&"CompositionEvent"in window,mt=null;Rr&&"documentMode"in document&&(mt=document.documentMode);var jt=Rr&&"TextEvent"in window&&!mt,Ft=Rr&&(!at||mt&&8<mt&&11>=mt),Jt=" ",Dn=!1;function jn(s,l){switch(s){case"keyup":return Je.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qn(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Zn=!1;function Ci(s,l){switch(s){case"compositionend":return Qn(l);case"keypress":return l.which!==32?null:(Dn=!0,Jt);case"textInput":return s=l.data,s===Jt&&Dn?null:s;default:return null}}function Xr(s,l){if(Zn)return s==="compositionend"||!at&&jn(s,l)?(s=Pu(),al=_c=kr=null,Zn=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ft&&l.locale!=="ko"?null:l.data;default:return null}}var Er={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qr(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Er[s.type]:l==="textarea"}function Nc(s,l,d,y){ws?Ba?Ba.push(y):Ba=[y]:ws=y,l=_p(l,"onChange"),0<l.length&&(d=new Ss("onChange","change",null,d,y),s.push({event:d,listeners:l}))}var qa=null,Va=null;function pl(s){Zv(s,0)}function Ns(s){var l=ir(s);if(Au(l))return s}function ml(s,l){if(s==="change")return l}var vo=!1;if(Rr){var hi;if(Rr){var Es="oninput"in document;if(!Es){var xo=document.createElement("div");xo.setAttribute("oninput","return;"),Es=typeof xo.oninput=="function"}hi=Es}else hi=!1;vo=hi&&(!document.documentMode||9<document.documentMode)}function bo(){qa&&(qa.detachEvent("onpropertychange",gl),Va=qa=null)}function gl(s){if(s.propertyName==="value"&&Ns(Va)){var l=[];Nc(l,Va,s,Si(s)),Mu(pl,l)}}function sr(s,l,d){s==="focusin"?(bo(),qa=l,Va=d,qa.attachEvent("onpropertychange",gl)):s==="focusout"&&bo()}function ed(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ns(Va)}function Ec(s,l){if(s==="click")return Ns(l)}function Ru(s,l){if(s==="input"||s==="change")return Ns(l)}function Ir(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Ai=typeof Object.is=="function"?Object.is:Ir;function Ms(s,l){if(Ai(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),y=Object.keys(l);if(d.length!==y.length)return!1;for(y=0;y<d.length;y++){var _=d[y];if(!Oe.call(l,_)||!Ai(s[_],l[_]))return!1}return!0}function Mc(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ha(s,l){var d=Mc(s);s=0;for(var y;d;){if(d.nodeType===3){if(y=s+d.textContent.length,s<=l&&y>=l)return{node:d,offset:l-s};s=y}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Mc(d)}}function Ps(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Ps(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Ki(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=rr(s.document);l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=rr(s.document)}return l}function Di(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Ls=Rr&&"documentMode"in document&&11>=document.documentMode,or=null,Zr=null,ga=null,ea=!1;function Gn(s,l,d){var y=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ea||or==null||or!==rr(y)||(y=or,"selectionStart"in y&&Di(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),ga&&Ms(ga,y)||(ga=y,y=_p(Zr,"onSelect"),0<y.length&&(l=new Ss("onSelect","select",null,l,d),s.push({event:l,listeners:y}),l.target=or)))}function ta(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var ai={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},lr={},wo={};Rr&&(wo=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function ya(s){if(lr[s])return lr[s];if(!ai[s])return s;var l=ai[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in wo)return lr[s]=l[d];return s}var yl=ya("animationend"),Ds=ya("animationiteration"),Rs=ya("animationstart"),ks=ya("transitionrun"),_o=ya("transitionstart"),vl=ya("transitioncancel"),Is=ya("transitionend"),Ga=new Map,So="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");So.push("scrollEnd");function $n(s,l){Ga.set(s,l),Dr(l,[s])}var Mr=new WeakMap;function $t(s,l){if(typeof s=="object"&&s!==null){var d=Mr.get(s);return d!==void 0?d:(l={value:s,source:l,stack:Hn(l)},Mr.set(s,l),l)}return{value:s,source:l,stack:Hn(l)}}var Wt=[],Cn=0,ei=0;function Fr(){for(var s=Cn,l=ei=Cn=0;l<s;){var d=Wt[l];Wt[l++]=null;var y=Wt[l];Wt[l++]=null;var _=Wt[l];Wt[l++]=null;var T=Wt[l];if(Wt[l++]=null,y!==null&&_!==null){var q=y.pending;q===null?_.next=_:(_.next=q.next,q.next=_),y.pending=_}T!==0&&ku(d,_,T)}}function Fs(s,l,d,y){Wt[Cn++]=s,Wt[Cn++]=l,Wt[Cn++]=d,Wt[Cn++]=y,ei|=y,s.lanes|=y,s=s.alternate,s!==null&&(s.lanes|=y)}function Os(s,l,d,y){return Fs(s,l,d,y),Co(s)}function $a(s,l){return Fs(s,null,null,l),Co(s)}function ku(s,l,d){s.lanes|=d;var y=s.alternate;y!==null&&(y.lanes|=d);for(var _=!1,T=s.return;T!==null;)T.childLanes|=d,y=T.alternate,y!==null&&(y.childLanes|=d),T.tag===22&&(s=T.stateNode,s===null||s._visibility&1||(_=!0)),s=T,T=T.return;return s.tag===3?(T=s.stateNode,_&&l!==null&&(_=31-nt(d),s=T.hiddenUpdates,y=s[_],y===null?s[_]=[l]:y.push(l),l.lane=d|536870912),T):null}function Co(s){if(50<Ad)throw Ad=0,Ug=null,Error(i(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Ti={};function Or(s,l,d,y){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(s,l,d,y){return new Or(s,l,d,y)}function xl(s){return s=s.prototype,!(!s||!s.isReactComponent)}function va(s,l){var d=s.alternate;return d===null?(d=qi(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function Pc(s,l){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,l=d.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Ao(s,l,d,y,_,T){var q=0;if(y=s,typeof s=="function")xl(s)&&(q=1);else if(typeof s=="string")q=n4(s,d,ie.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case X:return s=qi(31,d,l,_),s.elementType=X,s.lanes=T,s;case A:return Wa(d.children,_,T,l);case C:q=8,_|=24;break;case P:return s=qi(12,d,l,_|2),s.elementType=P,s.lanes=T,s;case F:return s=qi(13,d,l,_),s.elementType=F,s.lanes=T,s;case Y:return s=qi(19,d,l,_),s.elementType=Y,s.lanes=T,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:case N:q=10;break e;case L:q=9;break e;case R:q=11;break e;case B:q=14;break e;case V:q=16,y=null;break e}q=29,d=Error(i(130,s===null?"null":typeof s,"")),y=null}return l=qi(q,d,l,_),l.elementType=s,l.type=y,l.lanes=T,l}function Wa(s,l,d,y){return s=qi(7,s,y,l),s.lanes=d,s}function Iu(s,l,d){return s=qi(6,s,null,l),s.lanes=d,s}function Lc(s,l,d){return l=qi(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var js=[],Ya=0,bl=null,Fu=0,jr=[],Pr=0,To=null,Ja=1,Ka="";function No(s,l){js[Ya++]=Fu,js[Ya++]=bl,bl=s,Fu=l}function Bh(s,l,d){jr[Pr++]=Ja,jr[Pr++]=Ka,jr[Pr++]=To,To=s;var y=Ja;s=Ka;var _=32-nt(y)-1;y&=~(1<<_),d+=1;var T=32-nt(l)+_;if(30<T){var q=_-_%5;T=(y&(1<<q)-1).toString(32),y>>=q,_-=q,Ja=1<<32-nt(l)+_|d<<_|y,Ka=T+s}else Ja=1<<T|d<<_|y,Ka=s}function Dc(s){s.return!==null&&(No(s,1),Bh(s,1,0))}function Rc(s){for(;s===bl;)bl=js[--Ya],js[Ya]=null,Fu=js[--Ya],js[Ya]=null;for(;s===To;)To=jr[--Pr],jr[Pr]=null,Ka=jr[--Pr],jr[Pr]=null,Ja=jr[--Pr],jr[Pr]=null}var pi=null,Wn=null,sn=!1,Us=null,xa=!1,td=Error(i(519));function Eo(s){var l=Error(i(418,""));throw wl($t(l,s)),td}function zh(s){var l=s.stateNode,d=s.type,y=s.memoizedProps;switch(l[Sn]=s,l[On]=y,d){case"dialog":Xt("cancel",l),Xt("close",l);break;case"iframe":case"object":case"embed":Xt("load",l);break;case"video":case"audio":for(d=0;d<Nd.length;d++)Xt(Nd[d],l);break;case"source":Xt("error",l);break;case"img":case"image":case"link":Xt("error",l),Xt("load",l);break;case"details":Xt("toggle",l);break;case"input":Xt("invalid",l),gc(l,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),xs(l);break;case"select":Xt("invalid",l);break;case"textarea":Xt("invalid",l),vc(l,y.value,y.defaultValue,y.children),xs(l)}d=y.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||y.suppressHydrationWarning===!0||i2(l.textContent,d)?(y.popover!=null&&(Xt("beforetoggle",l),Xt("toggle",l)),y.onScroll!=null&&Xt("scroll",l),y.onScrollEnd!=null&&Xt("scrollend",l),y.onClick!=null&&(l.onclick=Sp),l=!0):l=!1,l||Eo(s)}function Xa(s){for(pi=s.return;pi;)switch(pi.tag){case 5:case 13:xa=!1;return;case 27:case 3:xa=!0;return;default:pi=pi.return}}function Xi(s){if(s!==pi)return!1;if(!sn)return Xa(s),sn=!0,!1;var l=s.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||t0(s.type,s.memoizedProps)),d=!d),d&&Wn&&Eo(s),Xa(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(d=s.data,d==="/$"){if(l===0){Wn=as(s.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;s=s.nextSibling}Wn=null}}else l===27?(l=Wn,jl(s.type)?(s=a0,a0=null,Wn=s):Wn=l):Wn=pi?as(s.stateNode.nextSibling):null;return!0}function Lr(){Wn=pi=null,sn=!1}function qh(){var s=Us;return s!==null&&(zr===null?zr=s:zr.push.apply(zr,s),Us=null),s}function wl(s){Us===null?Us=[s]:Us.push(s)}var ba=le(null),Ni=null,Qa=null;function Bs(s,l,d){$(ba,l._currentValue),l._currentValue=d}function wa(s){s._currentValue=ba.current,k(ba)}function Ou(s,l,d){for(;s!==null;){var y=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),s===d)break;s=s.return}}function ju(s,l,d,y){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var T=_.dependencies;if(T!==null){var q=_.child;T=T.firstContext;e:for(;T!==null;){var ae=T;T=_;for(var ye=0;ye<l.length;ye++)if(ae.context===l[ye]){T.lanes|=d,ae=T.alternate,ae!==null&&(ae.lanes|=d),Ou(T.return,d,s),y||(q=null);break e}T=ae.next}}else if(_.tag===18){if(q=_.return,q===null)throw Error(i(341));q.lanes|=d,T=q.alternate,T!==null&&(T.lanes|=d),Ou(q,d,s),q=null}else q=_.child;if(q!==null)q.return=_;else for(q=_;q!==null;){if(q===s){q=null;break}if(_=q.sibling,_!==null){_.return=q.return,q=_;break}q=q.return}_=q}}function _l(s,l,d,y){s=null;for(var _=l,T=!1;_!==null;){if(!T){if((_.flags&524288)!==0)T=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var q=_.alternate;if(q===null)throw Error(i(387));if(q=q.memoizedProps,q!==null){var ae=_.type;Ai(_.pendingProps.value,q.value)||(s!==null?s.push(ae):s=[ae])}}else if(_===we.current){if(q=_.alternate,q===null)throw Error(i(387));q.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(Rd):s=[Rd])}_=_.return}s!==null&&ju(l,s,d,y),l.flags|=262144}function Uu(s){for(s=s.firstContext;s!==null;){if(!Ai(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function _a(s){Ni=s,Qa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function mi(s){return Bu(Ni,s)}function zs(s,l){return Ni===null&&_a(s),Bu(s,l)}function Bu(s,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Qa===null){if(s===null)throw Error(i(308));Qa=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Qa=Qa.next=l;return d}var ug=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(d,y){s.push(y)}};this.abort=function(){l.aborted=!0,s.forEach(function(d){return d()})}},Vh=t.unstable_scheduleCallback,fg=t.unstable_NormalPriority,gi={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nd(){return{controller:new ug,data:new Map,refCount:0}}function kc(s){s.refCount--,s.refCount===0&&Vh(fg,function(){s.controller.abort()})}var Ic=null,id=0,Mo=0,Za=null;function dg(s,l){if(Ic===null){var d=Ic=[];id=0,Mo=$g(),Za={status:"pending",value:void 0,then:function(y){d.push(y)}}}return id++,l.then(Hh,Hh),l}function Hh(){if(--id===0&&Ic!==null){Za!==null&&(Za.status="fulfilled");var s=Ic;Ic=null,Mo=0,Za=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function Gh(s,l){var d=[],y={status:"pending",value:null,reason:null,then:function(_){d.push(_)}};return s.then(function(){y.status="fulfilled",y.value=l;for(var _=0;_<d.length;_++)(0,d[_])(l)},function(_){for(y.status="rejected",y.reason=_,_=0;_<d.length;_++)(0,d[_])(void 0)}),y}var v=z.S;z.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&dg(s,l),v!==null&&v(s,l)};var S=le(null);function D(){var s=S.current;return s!==null?s:kn.pooledCache}function I(s,l){l===null?$(S,S.current):$(S,l.pool)}function W(){var s=D();return s===null?null:{parent:gi._currentValue,pool:s}}var ee=Error(i(460)),ne=Error(i(474)),re=Error(i(542)),se={then:function(){}};function de(s){return s=s.status,s==="fulfilled"||s==="rejected"}function be(){}function De(s,l,d){switch(d=s[d],d===void 0?s.push(l):d!==l&&(l.then(be,be),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,$e(s),s;default:if(typeof l.status=="string")l.then(be,be);else{if(s=kn,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=l,s.status="pending",s.then(function(y){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=y}},function(y){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=y}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,$e(s),s}throw Pe=l,ee}}var Pe=null;function Ne(){if(Pe===null)throw Error(i(459));var s=Pe;return Pe=null,s}function $e(s){if(s===ee||s===re)throw Error(i(483))}var Fe=!1;function Se(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ae(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ze(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function We(s,l,d){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(vn&2)!==0){var _=y.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),y.pending=l,l=Co(s),ku(s,null,d),l}return Fs(s,y,l,d),Co(s)}function He(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var y=l.lanes;y&=s.pendingLanes,d|=y,l.lanes=d,an(s,d)}}function st(s,l){var d=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,d===y)){var _=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var q={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};T===null?_=T=q:T=T.next=q,d=d.next}while(d!==null);T===null?_=T=l:T=T.next=l}else _=T=l;d={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:y.shared,callbacks:y.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}var et=!1;function vt(){if(et){var s=Za;if(s!==null)throw s}}function tt(s,l,d,y){et=!1;var _=s.updateQueue;Fe=!1;var T=_.firstBaseUpdate,q=_.lastBaseUpdate,ae=_.shared.pending;if(ae!==null){_.shared.pending=null;var ye=ae,Re=ye.next;ye.next=null,q===null?T=Re:q.next=Re,q=ye;var Ve=s.alternate;Ve!==null&&(Ve=Ve.updateQueue,ae=Ve.lastBaseUpdate,ae!==q&&(ae===null?Ve.firstBaseUpdate=Re:ae.next=Re,Ve.lastBaseUpdate=ye))}if(T!==null){var Ye=_.baseState;q=0,Ve=Re=ye=null,ae=T;do{var ke=ae.lane&-536870913,Ie=ke!==ae.lane;if(Ie?(rn&ke)===ke:(y&ke)===ke){ke!==0&&ke===Mo&&(et=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:ae.tag,payload:ae.payload,callback:null,next:null});e:{var Dt=s,At=ae;ke=l;var Tn=d;switch(At.tag){case 1:if(Dt=At.payload,typeof Dt=="function"){Ye=Dt.call(Tn,Ye,ke);break e}Ye=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=At.payload,ke=typeof Dt=="function"?Dt.call(Tn,Ye,ke):Dt,ke==null)break e;Ye=h({},Ye,ke);break e;case 2:Fe=!0}}ke=ae.callback,ke!==null&&(s.flags|=64,Ie&&(s.flags|=8192),Ie=_.callbacks,Ie===null?_.callbacks=[ke]:Ie.push(ke))}else Ie={lane:ke,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Ve===null?(Re=Ve=Ie,ye=Ye):Ve=Ve.next=Ie,q|=ke;if(ae=ae.next,ae===null){if(ae=_.shared.pending,ae===null)break;Ie=ae,ae=Ie.next,Ie.next=null,_.lastBaseUpdate=Ie,_.shared.pending=null}}while(!0);Ve===null&&(ye=Ye),_.baseState=ye,_.firstBaseUpdate=Re,_.lastBaseUpdate=Ve,T===null&&(_.shared.lanes=0),kl|=q,s.lanes=q,s.memoizedState=Ye}}function tn(s,l){if(typeof s!="function")throw Error(i(191,s));s.call(l)}function un(s,l){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)tn(d[s],l)}var Gt=le(null),Vt=le(0);function mn(s,l){s=Uo,$(Vt,s),$(Gt,l),Uo=s|l.baseLanes}function fn(){$(Vt,Uo),$(Gt,Gt.current)}function Ot(){Uo=Vt.current,k(Gt),k(Vt)}var yn=0,St=null,Mt=null,en=null,nn=!1,Ei=!1,yi=!1,ti=0,ni=0,si=null,Ur=0;function dn(){throw Error(i(321))}function oi(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!Ai(s[d],l[d]))return!1;return!0}function na(s,l,d,y,_,T){return yn=T,St=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,z.H=s===null||s.memoizedState===null?Oy:jy,yi=!1,T=d(y,_),yi=!1,Ei&&(T=Po(l,d,y,_)),qs(s),T}function qs(s){z.H=ip;var l=Mt!==null&&Mt.next!==null;if(yn=0,en=Mt=St=null,nn=!1,ni=0,si=null,l)throw Error(i(300));s===null||Vi||(s=s.dependencies,s!==null&&Uu(s)&&(Vi=!0))}function Po(s,l,d,y){St=s;var _=0;do{if(Ei&&(si=null),ni=0,Ei=!1,25<=_)throw Error(i(301));if(_+=1,en=Mt=null,s.updateQueue!=null){var T=s.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}z.H=h3,T=l(d,y)}while(Ei);return T}function Vs(){var s=z.H,l=s.useState()[0];return l=typeof l.then=="function"?Hs(l):l,s=s.useState()[0],(Mt!==null?Mt.memoizedState:null)!==s&&(St.flags|=1024),l}function Rn(){var s=ti!==0;return ti=0,s}function Fc(s,l,d){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~d}function zu(s){if(nn){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}nn=!1}yn=0,en=Mt=St=null,Ei=!1,ni=ti=0,si=null}function Qi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?St.memoizedState=en=s:en=en.next=s,en}function Un(){if(Mt===null){var s=St.alternate;s=s!==null?s.memoizedState:null}else s=Mt.next;var l=en===null?St.memoizedState:en.next;if(l!==null)en=l,Mt=s;else{if(s===null)throw St.alternate===null?Error(i(467)):Error(i(310));Mt=s,s={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},en===null?St.memoizedState=en=s:en=en.next=s}return en}function Lo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hs(s){var l=ni;return ni+=1,si===null&&(si=[]),s=De(si,s,l),l=St,(en===null?l.memoizedState:en.next)===null&&(l=l.alternate,z.H=l===null||l.memoizedState===null?Oy:jy),s}function cr(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Hs(s);if(s.$$typeof===N)return mi(s)}throw Error(i(438,String(s)))}function Gs(s){var l=null,d=St.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var y=St.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(l={data:y.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Lo(),St.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(s),y=0;y<s;y++)d[y]=K;return l.index++,d}function ur(s,l){return typeof l=="function"?l(s):l}function Oc(s){var l=Un();return Sl(l,Mt,s)}function Sl(s,l,d){var y=s.queue;if(y===null)throw Error(i(311));y.lastRenderedReducer=d;var _=s.baseQueue,T=y.pending;if(T!==null){if(_!==null){var q=_.next;_.next=T.next,T.next=q}l.baseQueue=_=T,y.pending=null}if(T=s.baseState,_===null)s.memoizedState=T;else{l=_.next;var ae=q=null,ye=null,Re=l,Ve=!1;do{var Ye=Re.lane&-536870913;if(Ye!==Re.lane?(rn&Ye)===Ye:(yn&Ye)===Ye){var ke=Re.revertLane;if(ke===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),Ye===Mo&&(Ve=!0);else if((yn&ke)===ke){Re=Re.next,ke===Mo&&(Ve=!0);continue}else Ye={lane:0,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ye===null?(ae=ye=Ye,q=T):ye=ye.next=Ye,St.lanes|=ke,kl|=ke;Ye=Re.action,yi&&d(T,Ye),T=Re.hasEagerState?Re.eagerState:d(T,Ye)}else ke={lane:Ye,revertLane:Re.revertLane,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},ye===null?(ae=ye=ke,q=T):ye=ye.next=ke,St.lanes|=Ye,kl|=Ye;Re=Re.next}while(Re!==null&&Re!==l);if(ye===null?q=T:ye.next=ae,!Ai(T,s.memoizedState)&&(Vi=!0,Ve&&(d=Za,d!==null)))throw d;s.memoizedState=T,s.baseState=q,s.baseQueue=ye,y.lastRenderedState=T}return _===null&&(y.lanes=0),[s.memoizedState,y.dispatch]}function qu(s){var l=Un(),d=l.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=s;var y=d.dispatch,_=d.pending,T=l.memoizedState;if(_!==null){d.pending=null;var q=_=_.next;do T=s(T,q.action),q=q.next;while(q!==_);Ai(T,l.memoizedState)||(Vi=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,y]}function jc(s,l,d){var y=St,_=Un(),T=sn;if(T){if(d===void 0)throw Error(i(407));d=d()}else d=l();var q=!Ai((Mt||_).memoizedState,d);q&&(_.memoizedState=d,Vi=!0),_=_.queue;var ae=Cl.bind(null,y,_,s);if(Nl(2048,8,ae,[s]),_.getSnapshot!==l||q||en!==null&&en.memoizedState.tag&1){if(y.flags|=2048,ts(9,qc(),Uc.bind(null,y,_,d,l),null),kn===null)throw Error(i(349));T||(yn&124)!==0||Vu(y,l,d)}return d}function Vu(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=St.updateQueue,l===null?(l=Lo(),St.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function Uc(s,l,d,y){l.value=d,l.getSnapshot=y,$h(l)&&Wh(s)}function Cl(s,l,d){return d(function(){$h(l)&&Wh(s)})}function $h(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!Ai(s,d)}catch{return!0}}function Wh(s){var l=$a(s,2);l!==null&&la(l,s,2)}function Bc(s){var l=Qi();if(typeof s=="function"){var d=s;if(s=d(),yi){kt(!0);try{d()}finally{kt(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:s},l}function es(s,l,d,y){return s.baseState=d,Sl(s,Mt,typeof y=="function"?y:ur)}function hg(s,l,d,y,_){if(np(s))throw Error(i(485));if(s=l.action,s!==null){var T={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){T.listeners.push(q)}};z.T!==null?d(!0):T.isTransition=!1,y(T),d=l.pending,d===null?(T.next=l.pending=T,Yh(l,T)):(T.next=d.next,l.pending=d.next=T)}}function Yh(s,l){var d=l.action,y=l.payload,_=s.state;if(l.isTransition){var T=z.T,q={};z.T=q;try{var ae=d(_,y),ye=z.S;ye!==null&&ye(q,ae),Jh(s,l,ae)}catch(Re){Al(s,l,Re)}finally{z.T=T}}else try{T=d(_,y),Jh(s,l,T)}catch(Re){Al(s,l,Re)}}function Jh(s,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(y){rd(s,l,y)},function(y){return Al(s,l,y)}):rd(s,l,d)}function rd(s,l,d){l.status="fulfilled",l.value=d,ad(l),s.state=d,l=s.pending,l!==null&&(d=l.next,d===l?s.pending=null:(d=d.next,l.next=d,Yh(s,d)))}function Al(s,l,d){var y=s.pending;if(s.pending=null,y!==null){y=y.next;do l.status="rejected",l.reason=d,ad(l),l=l.next;while(l!==y)}s.action=null}function ad(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function sd(s,l){return l}function zc(s,l){if(sn){var d=kn.formState;if(d!==null){e:{var y=St;if(sn){if(Wn){t:{for(var _=Wn,T=xa;_.nodeType!==8;){if(!T){_=null;break t}if(_=as(_.nextSibling),_===null){_=null;break t}}T=_.data,_=T==="F!"||T==="F"?_:null}if(_){Wn=as(_.nextSibling),y=_.data==="F!";break e}}Eo(y)}y=!1}y&&(l=d[0])}}return d=Qi(),d.memoizedState=d.baseState=l,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sd,lastRenderedState:l},d.queue=y,d=ky.bind(null,St,y),y.dispatch=d,y=Bc(!1),T=pg.bind(null,St,!1,y.queue),y=Qi(),_={state:l,dispatch:null,action:s,pending:null},y.queue=_,d=hg.bind(null,St,_,T,d),_.dispatch=d,y.memoizedState=s,[l,d,!1]}function Hu(s){var l=Un();return Tl(l,Mt,s)}function Tl(s,l,d){if(l=Sl(s,l,sd)[0],s=Oc(ur)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var y=Hs(l)}catch(q){throw q===ee?re:q}else y=l;l=Un();var _=l.queue,T=_.dispatch;return d!==l.memoizedState&&(St.flags|=2048,ts(9,qc(),Kh.bind(null,_,d),null)),[y,T,s]}function Kh(s,l){s.action=l}function Xh(s){var l=Un(),d=Mt;if(d!==null)return Tl(l,d,s);Un(),l=l.memoizedState,d=Un();var y=d.queue.dispatch;return d.memoizedState=s,[l,y,!1]}function ts(s,l,d,y){return s={tag:s,create:d,deps:y,inst:l,next:null},l=St.updateQueue,l===null&&(l=Lo(),St.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=s.next=s:(y=d.next,d.next=s,s.next=y,l.lastEffect=s),s}function qc(){return{destroy:void 0,resource:void 0}}function Gu(){return Un().memoizedState}function ia(s,l,d,y){var _=Qi();y=y===void 0?null:y,St.flags|=s,_.memoizedState=ts(1|l,qc(),d,y)}function Nl(s,l,d,y){var _=Un();y=y===void 0?null:y;var T=_.memoizedState.inst;Mt!==null&&y!==null&&oi(y,Mt.memoizedState.deps)?_.memoizedState=ts(l,T,d,y):(St.flags|=s,_.memoizedState=ts(1|l,T,d,y))}function od(s,l){ia(8390656,8,s,l)}function Qh(s,l){Nl(2048,8,s,l)}function ld(s,l){return Nl(4,2,s,l)}function Do(s,l){return Nl(4,4,s,l)}function Zh(s,l){if(typeof l=="function"){s=s();var d=l(s);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function cd(s,l,d){d=d!=null?d.concat([s]):null,Nl(4,4,Zh.bind(null,l,s),d)}function ud(){}function fd(s,l){var d=Un();l=l===void 0?null:l;var y=d.memoizedState;return l!==null&&oi(l,y[1])?y[0]:(d.memoizedState=[s,l],s)}function ep(s,l){var d=Un();l=l===void 0?null:l;var y=d.memoizedState;if(l!==null&&oi(l,y[1]))return y[0];if(y=s(),yi){kt(!0);try{s()}finally{kt(!1)}}return d.memoizedState=[y,l],y}function Ro(s,l,d){return d===void 0||(yn&1073741824)!==0?s.memoizedState=l:(s.memoizedState=d,s=Pv(),St.lanes|=s,kl|=s,d)}function $u(s,l,d,y){return Ai(d,l)?d:Gt.current!==null?(s=Ro(s,d,y),Ai(s,l)||(Vi=!0),s):(yn&42)===0?(Vi=!0,s.memoizedState=d):(s=Pv(),St.lanes|=s,kl|=s,l)}function Vc(s,l,d,y,_){var T=G.p;G.p=T!==0&&8>T?T:8;var q=z.T,ae={};z.T=ae,pg(s,!1,l,d);try{var ye=_(),Re=z.S;if(Re!==null&&Re(ae,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Ve=Gh(ye,y);md(s,l,Ve,oa(s))}else md(s,l,y,oa(s))}catch(Ye){md(s,l,{then:function(){},status:"rejected",reason:Ye},oa())}finally{G.p=T,z.T=q}}function ns(){}function Sa(s,l,d,y){if(s.tag!==5)throw Error(i(476));var _=is(s).queue;Vc(s,_,l,te,d===null?ns:function(){return Hc(s),d(y)})}function is(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:te},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:d},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function Hc(s){var l=is(s).next.queue;md(s,l,{},oa())}function Gc(){return mi(Rd)}function dd(){return Un().memoizedState}function tp(){return Un().memoizedState}function hd(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var d=oa();s=ze(d);var y=We(l,s,d);y!==null&&(la(y,l,d),He(y,l,d)),l={cache:nd()},s.payload=l;return}l=l.return}}function pd(s,l,d){var y=oa();d={lane:y,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},np(s)?Iy(l,d):(d=Os(s,l,d,y),d!==null&&(la(d,s,y),Fy(d,l,y)))}function ky(s,l,d){var y=oa();md(s,l,d,y)}function md(s,l,d,y){var _={lane:y,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(np(s))Iy(l,_);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var q=l.lastRenderedState,ae=T(q,d);if(_.hasEagerState=!0,_.eagerState=ae,Ai(ae,q))return Fs(s,l,_,0),kn===null&&Fr(),!1}catch{}finally{}if(d=Os(s,l,_,y),d!==null)return la(d,s,y),Fy(d,l,y),!0}return!1}function pg(s,l,d,y){if(y={lane:2,revertLane:$g(),action:y,hasEagerState:!1,eagerState:null,next:null},np(s)){if(l)throw Error(i(479))}else l=Os(s,d,y,2),l!==null&&la(l,s,2)}function np(s){var l=s.alternate;return s===St||l!==null&&l===St}function Iy(s,l){Ei=nn=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function Fy(s,l,d){if((d&4194048)!==0){var y=l.lanes;y&=s.pendingLanes,d|=y,l.lanes=d,an(s,d)}}var ip={readContext:mi,use:cr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn},Oy={readContext:mi,use:cr,useCallback:function(s,l){return Qi().memoizedState=[s,l===void 0?null:l],s},useContext:mi,useEffect:od,useImperativeHandle:function(s,l,d){d=d!=null?d.concat([s]):null,ia(4194308,4,Zh.bind(null,l,s),d)},useLayoutEffect:function(s,l){return ia(4194308,4,s,l)},useInsertionEffect:function(s,l){ia(4,2,s,l)},useMemo:function(s,l){var d=Qi();l=l===void 0?null:l;var y=s();if(yi){kt(!0);try{s()}finally{kt(!1)}}return d.memoizedState=[y,l],y},useReducer:function(s,l,d){var y=Qi();if(d!==void 0){var _=d(l);if(yi){kt(!0);try{d(l)}finally{kt(!1)}}}else _=l;return y.memoizedState=y.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},y.queue=s,s=s.dispatch=pd.bind(null,St,s),[y.memoizedState,s]},useRef:function(s){var l=Qi();return s={current:s},l.memoizedState=s},useState:function(s){s=Bc(s);var l=s.queue,d=ky.bind(null,St,l);return l.dispatch=d,[s.memoizedState,d]},useDebugValue:ud,useDeferredValue:function(s,l){var d=Qi();return Ro(d,s,l)},useTransition:function(){var s=Bc(!1);return s=Vc.bind(null,St,s.queue,!0,!1),Qi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,d){var y=St,_=Qi();if(sn){if(d===void 0)throw Error(i(407));d=d()}else{if(d=l(),kn===null)throw Error(i(349));(rn&124)!==0||Vu(y,l,d)}_.memoizedState=d;var T={value:d,getSnapshot:l};return _.queue=T,od(Cl.bind(null,y,T,s),[s]),y.flags|=2048,ts(9,qc(),Uc.bind(null,y,T,d,l),null),d},useId:function(){var s=Qi(),l=kn.identifierPrefix;if(sn){var d=Ka,y=Ja;d=(y&~(1<<32-nt(y)-1)).toString(32)+d,l="«"+l+"R"+d,d=ti++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=Ur++,l="«"+l+"r"+d.toString(32)+"»";return s.memoizedState=l},useHostTransitionStatus:Gc,useFormState:zc,useActionState:zc,useOptimistic:function(s){var l=Qi();l.memoizedState=l.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=pg.bind(null,St,!0,d),d.dispatch=l,[s,l]},useMemoCache:Gs,useCacheRefresh:function(){return Qi().memoizedState=hd.bind(null,St)}},jy={readContext:mi,use:cr,useCallback:fd,useContext:mi,useEffect:Qh,useImperativeHandle:cd,useInsertionEffect:ld,useLayoutEffect:Do,useMemo:ep,useReducer:Oc,useRef:Gu,useState:function(){return Oc(ur)},useDebugValue:ud,useDeferredValue:function(s,l){var d=Un();return $u(d,Mt.memoizedState,s,l)},useTransition:function(){var s=Oc(ur)[0],l=Un().memoizedState;return[typeof s=="boolean"?s:Hs(s),l]},useSyncExternalStore:jc,useId:dd,useHostTransitionStatus:Gc,useFormState:Hu,useActionState:Hu,useOptimistic:function(s,l){var d=Un();return es(d,Mt,s,l)},useMemoCache:Gs,useCacheRefresh:tp},h3={readContext:mi,use:cr,useCallback:fd,useContext:mi,useEffect:Qh,useImperativeHandle:cd,useInsertionEffect:ld,useLayoutEffect:Do,useMemo:ep,useReducer:qu,useRef:Gu,useState:function(){return qu(ur)},useDebugValue:ud,useDeferredValue:function(s,l){var d=Un();return Mt===null?Ro(d,s,l):$u(d,Mt.memoizedState,s,l)},useTransition:function(){var s=qu(ur)[0],l=Un().memoizedState;return[typeof s=="boolean"?s:Hs(s),l]},useSyncExternalStore:jc,useId:dd,useHostTransitionStatus:Gc,useFormState:Xh,useActionState:Xh,useOptimistic:function(s,l){var d=Un();return Mt!==null?es(d,Mt,s,l):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:Gs,useCacheRefresh:tp},Wu=null,gd=0;function rp(s){var l=gd;return gd+=1,Wu===null&&(Wu=[]),De(Wu,s,l)}function yd(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function ap(s,l){throw l.$$typeof===g?Error(i(525)):(s=Object.prototype.toString.call(l),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function Uy(s){var l=s._init;return l(s._payload)}function By(s){function l(Ee,Ce){if(s){var Le=Ee.deletions;Le===null?(Ee.deletions=[Ce],Ee.flags|=16):Le.push(Ce)}}function d(Ee,Ce){if(!s)return null;for(;Ce!==null;)l(Ee,Ce),Ce=Ce.sibling;return null}function y(Ee){for(var Ce=new Map;Ee!==null;)Ee.key!==null?Ce.set(Ee.key,Ee):Ce.set(Ee.index,Ee),Ee=Ee.sibling;return Ce}function _(Ee,Ce){return Ee=va(Ee,Ce),Ee.index=0,Ee.sibling=null,Ee}function T(Ee,Ce,Le){return Ee.index=Le,s?(Le=Ee.alternate,Le!==null?(Le=Le.index,Le<Ce?(Ee.flags|=67108866,Ce):Le):(Ee.flags|=67108866,Ce)):(Ee.flags|=1048576,Ce)}function q(Ee){return s&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function ae(Ee,Ce,Le,Ge){return Ce===null||Ce.tag!==6?(Ce=Iu(Le,Ee.mode,Ge),Ce.return=Ee,Ce):(Ce=_(Ce,Le),Ce.return=Ee,Ce)}function ye(Ee,Ce,Le,Ge){var pt=Le.type;return pt===A?Ve(Ee,Ce,Le.props.children,Ge,Le.key):Ce!==null&&(Ce.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===V&&Uy(pt)===Ce.type)?(Ce=_(Ce,Le.props),yd(Ce,Le),Ce.return=Ee,Ce):(Ce=Ao(Le.type,Le.key,Le.props,null,Ee.mode,Ge),yd(Ce,Le),Ce.return=Ee,Ce)}function Re(Ee,Ce,Le,Ge){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Le.containerInfo||Ce.stateNode.implementation!==Le.implementation?(Ce=Lc(Le,Ee.mode,Ge),Ce.return=Ee,Ce):(Ce=_(Ce,Le.children||[]),Ce.return=Ee,Ce)}function Ve(Ee,Ce,Le,Ge,pt){return Ce===null||Ce.tag!==7?(Ce=Wa(Le,Ee.mode,Ge,pt),Ce.return=Ee,Ce):(Ce=_(Ce,Le),Ce.return=Ee,Ce)}function Ye(Ee,Ce,Le){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ce=Iu(""+Ce,Ee.mode,Le),Ce.return=Ee,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case x:return Le=Ao(Ce.type,Ce.key,Ce.props,null,Ee.mode,Le),yd(Le,Ce),Le.return=Ee,Le;case b:return Ce=Lc(Ce,Ee.mode,Le),Ce.return=Ee,Ce;case V:var Ge=Ce._init;return Ce=Ge(Ce._payload),Ye(Ee,Ce,Le)}if(me(Ce)||j(Ce))return Ce=Wa(Ce,Ee.mode,Le,null),Ce.return=Ee,Ce;if(typeof Ce.then=="function")return Ye(Ee,rp(Ce),Le);if(Ce.$$typeof===N)return Ye(Ee,zs(Ee,Ce),Le);ap(Ee,Ce)}return null}function ke(Ee,Ce,Le,Ge){var pt=Ce!==null?Ce.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return pt!==null?null:ae(Ee,Ce,""+Le,Ge);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case x:return Le.key===pt?ye(Ee,Ce,Le,Ge):null;case b:return Le.key===pt?Re(Ee,Ce,Le,Ge):null;case V:return pt=Le._init,Le=pt(Le._payload),ke(Ee,Ce,Le,Ge)}if(me(Le)||j(Le))return pt!==null?null:Ve(Ee,Ce,Le,Ge,null);if(typeof Le.then=="function")return ke(Ee,Ce,rp(Le),Ge);if(Le.$$typeof===N)return ke(Ee,Ce,zs(Ee,Le),Ge);ap(Ee,Le)}return null}function Ie(Ee,Ce,Le,Ge,pt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Ee=Ee.get(Le)||null,ae(Ce,Ee,""+Ge,pt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case x:return Ee=Ee.get(Ge.key===null?Le:Ge.key)||null,ye(Ce,Ee,Ge,pt);case b:return Ee=Ee.get(Ge.key===null?Le:Ge.key)||null,Re(Ce,Ee,Ge,pt);case V:var Yt=Ge._init;return Ge=Yt(Ge._payload),Ie(Ee,Ce,Le,Ge,pt)}if(me(Ge)||j(Ge))return Ee=Ee.get(Le)||null,Ve(Ce,Ee,Ge,pt,null);if(typeof Ge.then=="function")return Ie(Ee,Ce,Le,rp(Ge),pt);if(Ge.$$typeof===N)return Ie(Ee,Ce,Le,zs(Ce,Ge),pt);ap(Ce,Ge)}return null}function Dt(Ee,Ce,Le,Ge){for(var pt=null,Yt=null,wt=Ce,Tt=Ce=0,Gi=null;wt!==null&&Tt<Le.length;Tt++){wt.index>Tt?(Gi=wt,wt=null):Gi=wt.sibling;var hn=ke(Ee,wt,Le[Tt],Ge);if(hn===null){wt===null&&(wt=Gi);break}s&&wt&&hn.alternate===null&&l(Ee,wt),Ce=T(hn,Ce,Tt),Yt===null?pt=hn:Yt.sibling=hn,Yt=hn,wt=Gi}if(Tt===Le.length)return d(Ee,wt),sn&&No(Ee,Tt),pt;if(wt===null){for(;Tt<Le.length;Tt++)wt=Ye(Ee,Le[Tt],Ge),wt!==null&&(Ce=T(wt,Ce,Tt),Yt===null?pt=wt:Yt.sibling=wt,Yt=wt);return sn&&No(Ee,Tt),pt}for(wt=y(wt);Tt<Le.length;Tt++)Gi=Ie(wt,Ee,Tt,Le[Tt],Ge),Gi!==null&&(s&&Gi.alternate!==null&&wt.delete(Gi.key===null?Tt:Gi.key),Ce=T(Gi,Ce,Tt),Yt===null?pt=Gi:Yt.sibling=Gi,Yt=Gi);return s&&wt.forEach(function(Vl){return l(Ee,Vl)}),sn&&No(Ee,Tt),pt}function At(Ee,Ce,Le,Ge){if(Le==null)throw Error(i(151));for(var pt=null,Yt=null,wt=Ce,Tt=Ce=0,Gi=null,hn=Le.next();wt!==null&&!hn.done;Tt++,hn=Le.next()){wt.index>Tt?(Gi=wt,wt=null):Gi=wt.sibling;var Vl=ke(Ee,wt,hn.value,Ge);if(Vl===null){wt===null&&(wt=Gi);break}s&&wt&&Vl.alternate===null&&l(Ee,wt),Ce=T(Vl,Ce,Tt),Yt===null?pt=Vl:Yt.sibling=Vl,Yt=Vl,wt=Gi}if(hn.done)return d(Ee,wt),sn&&No(Ee,Tt),pt;if(wt===null){for(;!hn.done;Tt++,hn=Le.next())hn=Ye(Ee,hn.value,Ge),hn!==null&&(Ce=T(hn,Ce,Tt),Yt===null?pt=hn:Yt.sibling=hn,Yt=hn);return sn&&No(Ee,Tt),pt}for(wt=y(wt);!hn.done;Tt++,hn=Le.next())hn=Ie(wt,Ee,Tt,hn.value,Ge),hn!==null&&(s&&hn.alternate!==null&&wt.delete(hn.key===null?Tt:hn.key),Ce=T(hn,Ce,Tt),Yt===null?pt=hn:Yt.sibling=hn,Yt=hn);return s&&wt.forEach(function(p4){return l(Ee,p4)}),sn&&No(Ee,Tt),pt}function Tn(Ee,Ce,Le,Ge){if(typeof Le=="object"&&Le!==null&&Le.type===A&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case x:e:{for(var pt=Le.key;Ce!==null;){if(Ce.key===pt){if(pt=Le.type,pt===A){if(Ce.tag===7){d(Ee,Ce.sibling),Ge=_(Ce,Le.props.children),Ge.return=Ee,Ee=Ge;break e}}else if(Ce.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===V&&Uy(pt)===Ce.type){d(Ee,Ce.sibling),Ge=_(Ce,Le.props),yd(Ge,Le),Ge.return=Ee,Ee=Ge;break e}d(Ee,Ce);break}else l(Ee,Ce);Ce=Ce.sibling}Le.type===A?(Ge=Wa(Le.props.children,Ee.mode,Ge,Le.key),Ge.return=Ee,Ee=Ge):(Ge=Ao(Le.type,Le.key,Le.props,null,Ee.mode,Ge),yd(Ge,Le),Ge.return=Ee,Ee=Ge)}return q(Ee);case b:e:{for(pt=Le.key;Ce!==null;){if(Ce.key===pt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Le.containerInfo&&Ce.stateNode.implementation===Le.implementation){d(Ee,Ce.sibling),Ge=_(Ce,Le.children||[]),Ge.return=Ee,Ee=Ge;break e}else{d(Ee,Ce);break}else l(Ee,Ce);Ce=Ce.sibling}Ge=Lc(Le,Ee.mode,Ge),Ge.return=Ee,Ee=Ge}return q(Ee);case V:return pt=Le._init,Le=pt(Le._payload),Tn(Ee,Ce,Le,Ge)}if(me(Le))return Dt(Ee,Ce,Le,Ge);if(j(Le)){if(pt=j(Le),typeof pt!="function")throw Error(i(150));return Le=pt.call(Le),At(Ee,Ce,Le,Ge)}if(typeof Le.then=="function")return Tn(Ee,Ce,rp(Le),Ge);if(Le.$$typeof===N)return Tn(Ee,Ce,zs(Ee,Le),Ge);ap(Ee,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,Ce!==null&&Ce.tag===6?(d(Ee,Ce.sibling),Ge=_(Ce,Le),Ge.return=Ee,Ee=Ge):(d(Ee,Ce),Ge=Iu(Le,Ee.mode,Ge),Ge.return=Ee,Ee=Ge),q(Ee)):d(Ee,Ce)}return function(Ee,Ce,Le,Ge){try{gd=0;var pt=Tn(Ee,Ce,Le,Ge);return Wu=null,pt}catch(wt){if(wt===ee||wt===re)throw wt;var Yt=qi(29,wt,null,Ee.mode);return Yt.lanes=Ge,Yt.return=Ee,Yt}finally{}}}var Yu=By(!0),zy=By(!1),Ca=le(null),$s=null;function El(s){var l=s.alternate;$(Ri,Ri.current&1),$(Ca,s),$s===null&&(l===null||Gt.current!==null||l.memoizedState!==null)&&($s=s)}function qy(s){if(s.tag===22){if($(Ri,Ri.current),$(Ca,s),$s===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&($s=s)}}else Ml()}function Ml(){$(Ri,Ri.current),$(Ca,Ca.current)}function ko(s){k(Ca),$s===s&&($s=null),k(Ri)}var Ri=le(0);function sp(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||r0(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function mg(s,l,d,y){l=s.memoizedState,d=d(y,l),d=d==null?l:h({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var gg={enqueueSetState:function(s,l,d){s=s._reactInternals;var y=oa(),_=ze(y);_.payload=l,d!=null&&(_.callback=d),l=We(s,_,y),l!==null&&(la(l,s,y),He(l,s,y))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var y=oa(),_=ze(y);_.tag=1,_.payload=l,d!=null&&(_.callback=d),l=We(s,_,y),l!==null&&(la(l,s,y),He(l,s,y))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=oa(),y=ze(d);y.tag=2,l!=null&&(y.callback=l),l=We(s,y,d),l!==null&&(la(l,s,d),He(l,s,d))}};function Vy(s,l,d,y,_,T,q){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,T,q):l.prototype&&l.prototype.isPureReactComponent?!Ms(d,y)||!Ms(_,T):!0}function Hy(s,l,d,y){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,y),l.state!==s&&gg.enqueueReplaceState(l,l.state,null)}function $c(s,l){var d=l;if("ref"in l){d={};for(var y in l)y!=="ref"&&(d[y]=l[y])}if(s=s.defaultProps){d===l&&(d=h({},d));for(var _ in s)d[_]===void 0&&(d[_]=s[_])}return d}var op=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Gy(s){op(s)}function $y(s){console.error(s)}function Wy(s){op(s)}function lp(s,l){try{var d=s.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(y){setTimeout(function(){throw y})}}function Yy(s,l,d){try{var y=s.onCaughtError;y(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function yg(s,l,d){return d=ze(d),d.tag=3,d.payload={element:null},d.callback=function(){lp(s,l)},d}function Jy(s){return s=ze(s),s.tag=3,s}function Ky(s,l,d,y){var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var T=y.value;s.payload=function(){return _(T)},s.callback=function(){Yy(l,d,y)}}var q=d.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(s.callback=function(){Yy(l,d,y),typeof _!="function"&&(Il===null?Il=new Set([this]):Il.add(this));var ae=y.stack;this.componentDidCatch(y.value,{componentStack:ae!==null?ae:""})})}function p3(s,l,d,y,_){if(d.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(l=d.alternate,l!==null&&_l(l,d,_,!0),d=Ca.current,d!==null){switch(d.tag){case 13:return $s===null?zg():d.alternate===null&&li===0&&(li=3),d.flags&=-257,d.flags|=65536,d.lanes=_,y===se?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([y]):l.add(y),Vg(s,y,_)),!1;case 22:return d.flags|=65536,y===se?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([y])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([y]):d.add(y)),Vg(s,y,_)),!1}throw Error(i(435,d.tag))}return Vg(s,y,_),zg(),!1}if(sn)return l=Ca.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,y!==td&&(s=Error(i(422),{cause:y}),wl($t(s,d)))):(y!==td&&(l=Error(i(423),{cause:y}),wl($t(l,d))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,y=$t(y,d),_=yg(s.stateNode,y,_),st(s,_),li!==4&&(li=2)),!1;var T=Error(i(520),{cause:y});if(T=$t(T,d),Cd===null?Cd=[T]:Cd.push(T),li!==4&&(li=2),l===null)return!0;y=$t(y,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,s=_&-_,d.lanes|=s,s=yg(d.stateNode,y,s),st(d,s),!1;case 1:if(l=d.type,T=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Il===null||!Il.has(T))))return d.flags|=65536,_&=-_,d.lanes|=_,_=Jy(_),Ky(_,s,d,y),st(d,_),!1}d=d.return}while(d!==null);return!1}var Xy=Error(i(461)),Vi=!1;function Zi(s,l,d,y){l.child=s===null?zy(l,null,d,y):Yu(l,s.child,d,y)}function Qy(s,l,d,y,_){d=d.render;var T=l.ref;if("ref"in y){var q={};for(var ae in y)ae!=="ref"&&(q[ae]=y[ae])}else q=y;return _a(l),y=na(s,l,d,q,T,_),ae=Rn(),s!==null&&!Vi?(Fc(s,l,_),Io(s,l,_)):(sn&&ae&&Dc(l),l.flags|=1,Zi(s,l,y,_),l.child)}function Zy(s,l,d,y,_){if(s===null){var T=d.type;return typeof T=="function"&&!xl(T)&&T.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=T,ev(s,l,T,y,_)):(s=Ao(d.type,null,y,l,l.mode,_),s.ref=l.ref,s.return=l,l.child=s)}if(T=s.child,!Ag(s,_)){var q=T.memoizedProps;if(d=d.compare,d=d!==null?d:Ms,d(q,y)&&s.ref===l.ref)return Io(s,l,_)}return l.flags|=1,s=va(T,y),s.ref=l.ref,s.return=l,l.child=s}function ev(s,l,d,y,_){if(s!==null){var T=s.memoizedProps;if(Ms(T,y)&&s.ref===l.ref)if(Vi=!1,l.pendingProps=y=T,Ag(s,_))(s.flags&131072)!==0&&(Vi=!0);else return l.lanes=s.lanes,Io(s,l,_)}return vg(s,l,d,y,_)}function tv(s,l,d){var y=l.pendingProps,_=y.children,T=s!==null?s.memoizedState:null;if(y.mode==="hidden"){if((l.flags&128)!==0){if(y=T!==null?T.baseLanes|d:d,s!==null){for(_=l.child=s.child,T=0;_!==null;)T=T|_.lanes|_.childLanes,_=_.sibling;l.childLanes=T&~y}else l.childLanes=0,l.child=null;return nv(s,l,y,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&I(l,T!==null?T.cachePool:null),T!==null?mn(l,T):fn(),qy(l);else return l.lanes=l.childLanes=536870912,nv(s,l,T!==null?T.baseLanes|d:d,d)}else T!==null?(I(l,T.cachePool),mn(l,T),Ml(),l.memoizedState=null):(s!==null&&I(l,null),fn(),Ml());return Zi(s,l,_,d),l.child}function nv(s,l,d,y){var _=D();return _=_===null?null:{parent:gi._currentValue,pool:_},l.memoizedState={baseLanes:d,cachePool:_},s!==null&&I(l,null),fn(),qy(l),s!==null&&_l(s,l,y,!0),null}function cp(s,l){var d=l.ref;if(d===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(s===null||s.ref!==d)&&(l.flags|=4194816)}}function vg(s,l,d,y,_){return _a(l),d=na(s,l,d,y,void 0,_),y=Rn(),s!==null&&!Vi?(Fc(s,l,_),Io(s,l,_)):(sn&&y&&Dc(l),l.flags|=1,Zi(s,l,d,_),l.child)}function iv(s,l,d,y,_,T){return _a(l),l.updateQueue=null,d=Po(l,y,d,_),qs(s),y=Rn(),s!==null&&!Vi?(Fc(s,l,T),Io(s,l,T)):(sn&&y&&Dc(l),l.flags|=1,Zi(s,l,d,T),l.child)}function rv(s,l,d,y,_){if(_a(l),l.stateNode===null){var T=Ti,q=d.contextType;typeof q=="object"&&q!==null&&(T=mi(q)),T=new d(y,T),l.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=gg,l.stateNode=T,T._reactInternals=l,T=l.stateNode,T.props=y,T.state=l.memoizedState,T.refs={},Se(l),q=d.contextType,T.context=typeof q=="object"&&q!==null?mi(q):Ti,T.state=l.memoizedState,q=d.getDerivedStateFromProps,typeof q=="function"&&(mg(l,d,q,y),T.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(q=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),q!==T.state&&gg.enqueueReplaceState(T,T.state,null),tt(l,y,T,_),vt(),T.state=l.memoizedState),typeof T.componentDidMount=="function"&&(l.flags|=4194308),y=!0}else if(s===null){T=l.stateNode;var ae=l.memoizedProps,ye=$c(d,ae);T.props=ye;var Re=T.context,Ve=d.contextType;q=Ti,typeof Ve=="object"&&Ve!==null&&(q=mi(Ve));var Ye=d.getDerivedStateFromProps;Ve=typeof Ye=="function"||typeof T.getSnapshotBeforeUpdate=="function",ae=l.pendingProps!==ae,Ve||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(ae||Re!==q)&&Hy(l,T,y,q),Fe=!1;var ke=l.memoizedState;T.state=ke,tt(l,y,T,_),vt(),Re=l.memoizedState,ae||ke!==Re||Fe?(typeof Ye=="function"&&(mg(l,d,Ye,y),Re=l.memoizedState),(ye=Fe||Vy(l,d,ye,y,ke,Re,q))?(Ve||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=Re),T.props=y,T.state=Re,T.context=q,y=ye):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{T=l.stateNode,Ae(s,l),q=l.memoizedProps,Ve=$c(d,q),T.props=Ve,Ye=l.pendingProps,ke=T.context,Re=d.contextType,ye=Ti,typeof Re=="object"&&Re!==null&&(ye=mi(Re)),ae=d.getDerivedStateFromProps,(Re=typeof ae=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(q!==Ye||ke!==ye)&&Hy(l,T,y,ye),Fe=!1,ke=l.memoizedState,T.state=ke,tt(l,y,T,_),vt();var Ie=l.memoizedState;q!==Ye||ke!==Ie||Fe||s!==null&&s.dependencies!==null&&Uu(s.dependencies)?(typeof ae=="function"&&(mg(l,d,ae,y),Ie=l.memoizedState),(Ve=Fe||Vy(l,d,Ve,y,ke,Ie,ye)||s!==null&&s.dependencies!==null&&Uu(s.dependencies))?(Re||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(y,Ie,ye),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(y,Ie,ye)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||q===s.memoizedProps&&ke===s.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&ke===s.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=Ie),T.props=y,T.state=Ie,T.context=ye,y=Ve):(typeof T.componentDidUpdate!="function"||q===s.memoizedProps&&ke===s.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&ke===s.memoizedState||(l.flags|=1024),y=!1)}return T=y,cp(s,l),y=(l.flags&128)!==0,T||y?(T=l.stateNode,d=y&&typeof d.getDerivedStateFromError!="function"?null:T.render(),l.flags|=1,s!==null&&y?(l.child=Yu(l,s.child,null,_),l.child=Yu(l,null,d,_)):Zi(s,l,d,_),l.memoizedState=T.state,s=l.child):s=Io(s,l,_),s}function av(s,l,d,y){return Lr(),l.flags|=256,Zi(s,l,d,y),l.child}var xg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bg(s){return{baseLanes:s,cachePool:W()}}function wg(s,l,d){return s=s!==null?s.childLanes&~d:0,l&&(s|=Aa),s}function sv(s,l,d){var y=l.pendingProps,_=!1,T=(l.flags&128)!==0,q;if((q=T)||(q=s!==null&&s.memoizedState===null?!1:(Ri.current&2)!==0),q&&(_=!0,l.flags&=-129),q=(l.flags&32)!==0,l.flags&=-33,s===null){if(sn){if(_?El(l):Ml(),sn){var ae=Wn,ye;if(ye=ae){e:{for(ye=ae,ae=xa;ye.nodeType!==8;){if(!ae){ae=null;break e}if(ye=as(ye.nextSibling),ye===null){ae=null;break e}}ae=ye}ae!==null?(l.memoizedState={dehydrated:ae,treeContext:To!==null?{id:Ja,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},ye=qi(18,null,null,0),ye.stateNode=ae,ye.return=l,l.child=ye,pi=l,Wn=null,ye=!0):ye=!1}ye||Eo(l)}if(ae=l.memoizedState,ae!==null&&(ae=ae.dehydrated,ae!==null))return r0(ae)?l.lanes=32:l.lanes=536870912,null;ko(l)}return ae=y.children,y=y.fallback,_?(Ml(),_=l.mode,ae=up({mode:"hidden",children:ae},_),y=Wa(y,_,d,null),ae.return=l,y.return=l,ae.sibling=y,l.child=ae,_=l.child,_.memoizedState=bg(d),_.childLanes=wg(s,q,d),l.memoizedState=xg,y):(El(l),_g(l,ae))}if(ye=s.memoizedState,ye!==null&&(ae=ye.dehydrated,ae!==null)){if(T)l.flags&256?(El(l),l.flags&=-257,l=Sg(s,l,d)):l.memoizedState!==null?(Ml(),l.child=s.child,l.flags|=128,l=null):(Ml(),_=y.fallback,ae=l.mode,y=up({mode:"visible",children:y.children},ae),_=Wa(_,ae,d,null),_.flags|=2,y.return=l,_.return=l,y.sibling=_,l.child=y,Yu(l,s.child,null,d),y=l.child,y.memoizedState=bg(d),y.childLanes=wg(s,q,d),l.memoizedState=xg,l=_);else if(El(l),r0(ae)){if(q=ae.nextSibling&&ae.nextSibling.dataset,q)var Re=q.dgst;q=Re,y=Error(i(419)),y.stack="",y.digest=q,wl({value:y,source:null,stack:null}),l=Sg(s,l,d)}else if(Vi||_l(s,l,d,!1),q=(d&s.childLanes)!==0,Vi||q){if(q=kn,q!==null&&(y=d&-d,y=(y&42)!==0?1:ka(y),y=(y&(q.suspendedLanes|d))!==0?0:y,y!==0&&y!==ye.retryLane))throw ye.retryLane=y,$a(s,y),la(q,s,y),Xy;ae.data==="$?"||zg(),l=Sg(s,l,d)}else ae.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=ye.treeContext,Wn=as(ae.nextSibling),pi=l,sn=!0,Us=null,xa=!1,s!==null&&(jr[Pr++]=Ja,jr[Pr++]=Ka,jr[Pr++]=To,Ja=s.id,Ka=s.overflow,To=l),l=_g(l,y.children),l.flags|=4096);return l}return _?(Ml(),_=y.fallback,ae=l.mode,ye=s.child,Re=ye.sibling,y=va(ye,{mode:"hidden",children:y.children}),y.subtreeFlags=ye.subtreeFlags&65011712,Re!==null?_=va(Re,_):(_=Wa(_,ae,d,null),_.flags|=2),_.return=l,y.return=l,y.sibling=_,l.child=y,y=_,_=l.child,ae=s.child.memoizedState,ae===null?ae=bg(d):(ye=ae.cachePool,ye!==null?(Re=gi._currentValue,ye=ye.parent!==Re?{parent:Re,pool:Re}:ye):ye=W(),ae={baseLanes:ae.baseLanes|d,cachePool:ye}),_.memoizedState=ae,_.childLanes=wg(s,q,d),l.memoizedState=xg,y):(El(l),d=s.child,s=d.sibling,d=va(d,{mode:"visible",children:y.children}),d.return=l,d.sibling=null,s!==null&&(q=l.deletions,q===null?(l.deletions=[s],l.flags|=16):q.push(s)),l.child=d,l.memoizedState=null,d)}function _g(s,l){return l=up({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function up(s,l){return s=qi(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Sg(s,l,d){return Yu(l,s.child,null,d),s=_g(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function ov(s,l,d){s.lanes|=l;var y=s.alternate;y!==null&&(y.lanes|=l),Ou(s.return,l,d)}function Cg(s,l,d,y,_){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:d,tailMode:_}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=y,T.tail=d,T.tailMode=_)}function lv(s,l,d){var y=l.pendingProps,_=y.revealOrder,T=y.tail;if(Zi(s,l,y.children,d),y=Ri.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ov(s,d,l);else if(s.tag===19)ov(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}y&=1}switch($(Ri,y),_){case"forwards":for(d=l.child,_=null;d!==null;)s=d.alternate,s!==null&&sp(s)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),Cg(l,!1,_,d,T);break;case"backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(s=_.alternate,s!==null&&sp(s)===null){l.child=_;break}s=_.sibling,_.sibling=d,d=_,_=s}Cg(l,!0,d,null,T);break;case"together":Cg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Io(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),kl|=l.lanes,(d&l.childLanes)===0)if(s!==null){if(_l(s,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(i(153));if(l.child!==null){for(s=l.child,d=va(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=va(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function Ag(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Uu(s)))}function m3(s,l,d){switch(l.tag){case 3:ce(l,l.stateNode.containerInfo),Bs(l,gi,s.memoizedState.cache),Lr();break;case 27:case 5:_e(l);break;case 4:ce(l,l.stateNode.containerInfo);break;case 10:Bs(l,l.type,l.memoizedProps.value);break;case 13:var y=l.memoizedState;if(y!==null)return y.dehydrated!==null?(El(l),l.flags|=128,null):(d&l.child.childLanes)!==0?sv(s,l,d):(El(l),s=Io(s,l,d),s!==null?s.sibling:null);El(l);break;case 19:var _=(s.flags&128)!==0;if(y=(d&l.childLanes)!==0,y||(_l(s,l,d,!1),y=(d&l.childLanes)!==0),_){if(y)return lv(s,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),$(Ri,Ri.current),y)break;return null;case 22:case 23:return l.lanes=0,tv(s,l,d);case 24:Bs(l,gi,s.memoizedState.cache)}return Io(s,l,d)}function cv(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps)Vi=!0;else{if(!Ag(s,d)&&(l.flags&128)===0)return Vi=!1,m3(s,l,d);Vi=(s.flags&131072)!==0}else Vi=!1,sn&&(l.flags&1048576)!==0&&Bh(l,Fu,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var y=l.elementType,_=y._init;if(y=_(y._payload),l.type=y,typeof y=="function")xl(y)?(s=$c(y,s),l.tag=1,l=rv(null,l,y,s,d)):(l.tag=0,l=vg(null,l,y,s,d));else{if(y!=null){if(_=y.$$typeof,_===R){l.tag=11,l=Qy(null,l,y,s,d);break e}else if(_===B){l.tag=14,l=Zy(null,l,y,s,d);break e}}throw l=Z(y)||y,Error(i(306,l,""))}}return l;case 0:return vg(s,l,l.type,l.pendingProps,d);case 1:return y=l.type,_=$c(y,l.pendingProps),rv(s,l,y,_,d);case 3:e:{if(ce(l,l.stateNode.containerInfo),s===null)throw Error(i(387));y=l.pendingProps;var T=l.memoizedState;_=T.element,Ae(s,l),tt(l,y,null,d);var q=l.memoizedState;if(y=q.cache,Bs(l,gi,y),y!==T.cache&&ju(l,[gi],d,!0),vt(),y=q.element,T.isDehydrated)if(T={element:y,isDehydrated:!1,cache:q.cache},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){l=av(s,l,y,d);break e}else if(y!==_){_=$t(Error(i(424)),l),wl(_),l=av(s,l,y,d);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Wn=as(s.firstChild),pi=l,sn=!0,Us=null,xa=!0,d=zy(l,null,y,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Lr(),y===_){l=Io(s,l,d);break e}Zi(s,l,y,d)}l=l.child}return l;case 26:return cp(s,l),s===null?(d=h2(l.type,null,l.pendingProps,null))?l.memoizedState=d:sn||(d=l.type,s=l.pendingProps,y=Cp(fe.current).createElement(d),y[Sn]=l,y[On]=s,tr(y,d,s),gn(y),l.stateNode=y):l.memoizedState=h2(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return _e(l),s===null&&sn&&(y=l.stateNode=u2(l.type,l.pendingProps,fe.current),pi=l,xa=!0,_=Wn,jl(l.type)?(a0=_,Wn=as(y.firstChild)):Wn=_),Zi(s,l,l.pendingProps.children,d),cp(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&sn&&((_=y=Wn)&&(y=V3(y,l.type,l.pendingProps,xa),y!==null?(l.stateNode=y,pi=l,Wn=as(y.firstChild),xa=!1,_=!0):_=!1),_||Eo(l)),_e(l),_=l.type,T=l.pendingProps,q=s!==null?s.memoizedProps:null,y=T.children,t0(_,T)?y=null:q!==null&&t0(_,q)&&(l.flags|=32),l.memoizedState!==null&&(_=na(s,l,Vs,null,null,d),Rd._currentValue=_),cp(s,l),Zi(s,l,y,d),l.child;case 6:return s===null&&sn&&((s=d=Wn)&&(d=H3(d,l.pendingProps,xa),d!==null?(l.stateNode=d,pi=l,Wn=null,s=!0):s=!1),s||Eo(l)),null;case 13:return sv(s,l,d);case 4:return ce(l,l.stateNode.containerInfo),y=l.pendingProps,s===null?l.child=Yu(l,null,y,d):Zi(s,l,y,d),l.child;case 11:return Qy(s,l,l.type,l.pendingProps,d);case 7:return Zi(s,l,l.pendingProps,d),l.child;case 8:return Zi(s,l,l.pendingProps.children,d),l.child;case 12:return Zi(s,l,l.pendingProps.children,d),l.child;case 10:return y=l.pendingProps,Bs(l,l.type,y.value),Zi(s,l,y.children,d),l.child;case 9:return _=l.type._context,y=l.pendingProps.children,_a(l),_=mi(_),y=y(_),l.flags|=1,Zi(s,l,y,d),l.child;case 14:return Zy(s,l,l.type,l.pendingProps,d);case 15:return ev(s,l,l.type,l.pendingProps,d);case 19:return lv(s,l,d);case 31:return y=l.pendingProps,d=l.mode,y={mode:y.mode,children:y.children},s===null?(d=up(y,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=va(s.child,y),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return tv(s,l,d);case 24:return _a(l),y=mi(gi),s===null?(_=D(),_===null&&(_=kn,T=nd(),_.pooledCache=T,T.refCount++,T!==null&&(_.pooledCacheLanes|=d),_=T),l.memoizedState={parent:y,cache:_},Se(l),Bs(l,gi,_)):((s.lanes&d)!==0&&(Ae(s,l),tt(l,null,null,d),vt()),_=s.memoizedState,T=l.memoizedState,_.parent!==y?(_={parent:y,cache:y},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),Bs(l,gi,y)):(y=T.cache,Bs(l,gi,y),y!==_.cache&&ju(l,[gi],d,!0))),Zi(s,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function Fo(s){s.flags|=4}function uv(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!v2(l)){if(l=Ca.current,l!==null&&((rn&4194048)===rn?$s!==null:(rn&62914560)!==rn&&(rn&536870912)===0||l!==$s))throw Pe=se,ne;s.flags|=8192}}function fp(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Fn():536870912,s.lanes|=l,Qu|=l)}function vd(s,l){if(!sn)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function ii(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,y=0;if(l)for(var _=s.child;_!==null;)d|=_.lanes|_.childLanes,y|=_.subtreeFlags&65011712,y|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)d|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=y,s.childLanes=d,l}function g3(s,l,d){var y=l.pendingProps;switch(Rc(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(l),null;case 1:return ii(l),null;case 3:return d=l.stateNode,y=null,s!==null&&(y=s.memoizedState.cache),l.memoizedState.cache!==y&&(l.flags|=2048),wa(gi),ve(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Xi(l)?Fo(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,qh())),ii(l),null;case 26:return d=l.memoizedState,s===null?(Fo(l),d!==null?(ii(l),uv(l,d)):(ii(l),l.flags&=-16777217)):d?d!==s.memoizedState?(Fo(l),ii(l),uv(l,d)):(ii(l),l.flags&=-16777217):(s.memoizedProps!==y&&Fo(l),ii(l),l.flags&=-16777217),null;case 27:Te(l),d=fe.current;var _=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==y&&Fo(l);else{if(!y){if(l.stateNode===null)throw Error(i(166));return ii(l),null}s=ie.current,Xi(l)?zh(l):(s=u2(_,y,d),l.stateNode=s,Fo(l))}return ii(l),null;case 5:if(Te(l),d=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==y&&Fo(l);else{if(!y){if(l.stateNode===null)throw Error(i(166));return ii(l),null}if(s=ie.current,Xi(l))zh(l);else{switch(_=Cp(fe.current),s){case 1:s=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:s=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":s=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":s=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof y.is=="string"?_.createElement("select",{is:y.is}):_.createElement("select"),y.multiple?s.multiple=!0:y.size&&(s.size=y.size);break;default:s=typeof y.is=="string"?_.createElement(d,{is:y.is}):_.createElement(d)}}s[Sn]=l,s[On]=y;e:for(_=l.child;_!==null;){if(_.tag===5||_.tag===6)s.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===l)break e;for(;_.sibling===null;){if(_.return===null||_.return===l)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}l.stateNode=s;e:switch(tr(s,d,y),d){case"button":case"input":case"select":case"textarea":s=!!y.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Fo(l)}}return ii(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==y&&Fo(l);else{if(typeof y!="string"&&l.stateNode===null)throw Error(i(166));if(s=fe.current,Xi(l)){if(s=l.stateNode,d=l.memoizedProps,y=null,_=pi,_!==null)switch(_.tag){case 27:case 5:y=_.memoizedProps}s[Sn]=l,s=!!(s.nodeValue===d||y!==null&&y.suppressHydrationWarning===!0||i2(s.nodeValue,d)),s||Eo(l)}else s=Cp(s).createTextNode(y),s[Sn]=l,l.stateNode=s}return ii(l),null;case 13:if(y=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=Xi(l),y!==null&&y.dehydrated!==null){if(s===null){if(!_)throw Error(i(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[Sn]=l}else Lr(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ii(l),_=!1}else _=qh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(ko(l),l):(ko(l),null)}if(ko(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=y!==null,s=s!==null&&s.memoizedState!==null,d){y=l.child,_=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(_=y.alternate.memoizedState.cachePool.pool);var T=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(T=y.memoizedState.cachePool.pool),T!==_&&(y.flags|=2048)}return d!==s&&d&&(l.child.flags|=8192),fp(l,l.updateQueue),ii(l),null;case 4:return ve(),s===null&&Kg(l.stateNode.containerInfo),ii(l),null;case 10:return wa(l.type),ii(l),null;case 19:if(k(Ri),_=l.memoizedState,_===null)return ii(l),null;if(y=(l.flags&128)!==0,T=_.rendering,T===null)if(y)vd(_,!1);else{if(li!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(T=sp(s),T!==null){for(l.flags|=128,vd(_,!1),s=T.updateQueue,l.updateQueue=s,fp(l,s),l.subtreeFlags=0,s=d,d=l.child;d!==null;)Pc(d,s),d=d.sibling;return $(Ri,Ri.current&1|2),l.child}s=s.sibling}_.tail!==null&&Ue()>pp&&(l.flags|=128,y=!0,vd(_,!1),l.lanes=4194304)}else{if(!y)if(s=sp(T),s!==null){if(l.flags|=128,y=!0,s=s.updateQueue,l.updateQueue=s,fp(l,s),vd(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!sn)return ii(l),null}else 2*Ue()-_.renderingStartTime>pp&&d!==536870912&&(l.flags|=128,y=!0,vd(_,!1),l.lanes=4194304);_.isBackwards?(T.sibling=l.child,l.child=T):(s=_.last,s!==null?s.sibling=T:l.child=T,_.last=T)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=Ue(),l.sibling=null,s=Ri.current,$(Ri,y?s&1|2:s&1),l):(ii(l),null);case 22:case 23:return ko(l),Ot(),y=l.memoizedState!==null,s!==null?s.memoizedState!==null!==y&&(l.flags|=8192):y&&(l.flags|=8192),y?(d&536870912)!==0&&(l.flags&128)===0&&(ii(l),l.subtreeFlags&6&&(l.flags|=8192)):ii(l),d=l.updateQueue,d!==null&&fp(l,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),y=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==d&&(l.flags|=2048),s!==null&&k(S),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),wa(gi),ii(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function y3(s,l){switch(Rc(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return wa(gi),ve(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Te(l),null;case 13:if(ko(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Lr()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return k(Ri),null;case 4:return ve(),null;case 10:return wa(l.type),null;case 22:case 23:return ko(l),Ot(),s!==null&&k(S),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return wa(gi),null;case 25:return null;default:return null}}function fv(s,l){switch(Rc(l),l.tag){case 3:wa(gi),ve();break;case 26:case 27:case 5:Te(l);break;case 4:ve();break;case 13:ko(l);break;case 19:k(Ri);break;case 10:wa(l.type);break;case 22:case 23:ko(l),Ot(),s!==null&&k(S);break;case 24:wa(gi)}}function xd(s,l){try{var d=l.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var _=y.next;d=_;do{if((d.tag&s)===s){y=void 0;var T=d.create,q=d.inst;y=T(),q.destroy=y}d=d.next}while(d!==_)}}catch(ae){En(l,l.return,ae)}}function Pl(s,l,d){try{var y=l.updateQueue,_=y!==null?y.lastEffect:null;if(_!==null){var T=_.next;y=T;do{if((y.tag&s)===s){var q=y.inst,ae=q.destroy;if(ae!==void 0){q.destroy=void 0,_=l;var ye=d,Re=ae;try{Re()}catch(Ve){En(_,ye,Ve)}}}y=y.next}while(y!==T)}}catch(Ve){En(l,l.return,Ve)}}function dv(s){var l=s.updateQueue;if(l!==null){var d=s.stateNode;try{un(l,d)}catch(y){En(s,s.return,y)}}}function hv(s,l,d){d.props=$c(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(y){En(s,l,y)}}function bd(s,l){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var y=s.stateNode;break;case 30:y=s.stateNode;break;default:y=s.stateNode}typeof d=="function"?s.refCleanup=d(y):d.current=y}}catch(_){En(s,l,_)}}function Ws(s,l){var d=s.ref,y=s.refCleanup;if(d!==null)if(typeof y=="function")try{y()}catch(_){En(s,l,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(_){En(s,l,_)}else d.current=null}function pv(s){var l=s.type,d=s.memoizedProps,y=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&y.focus();break e;case"img":d.src?y.src=d.src:d.srcSet&&(y.srcset=d.srcSet)}}catch(_){En(s,s.return,_)}}function Tg(s,l,d){try{var y=s.stateNode;j3(y,s.type,d,l),y[On]=l}catch(_){En(s,s.return,_)}}function mv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&jl(s.type)||s.tag===4}function Ng(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||mv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&jl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Eg(s,l,d){var y=s.tag;if(y===5||y===6)s=s.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(s),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Sp));else if(y!==4&&(y===27&&jl(s.type)&&(d=s.stateNode,l=null),s=s.child,s!==null))for(Eg(s,l,d),s=s.sibling;s!==null;)Eg(s,l,d),s=s.sibling}function dp(s,l,d){var y=s.tag;if(y===5||y===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(y!==4&&(y===27&&jl(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(dp(s,l,d),s=s.sibling;s!==null;)dp(s,l,d),s=s.sibling}function gv(s){var l=s.stateNode,d=s.memoizedProps;try{for(var y=s.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);tr(l,y,d),l[Sn]=s,l[On]=d}catch(T){En(s,s.return,T)}}var Oo=!1,vi=!1,Mg=!1,yv=typeof WeakSet=="function"?WeakSet:Set,Hi=null;function v3(s,l){if(s=s.containerInfo,Zg=Pp,s=Ki(s),Di(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var y=d.getSelection&&d.getSelection();if(y&&y.rangeCount!==0){d=y.anchorNode;var _=y.anchorOffset,T=y.focusNode;y=y.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var q=0,ae=-1,ye=-1,Re=0,Ve=0,Ye=s,ke=null;t:for(;;){for(var Ie;Ye!==d||_!==0&&Ye.nodeType!==3||(ae=q+_),Ye!==T||y!==0&&Ye.nodeType!==3||(ye=q+y),Ye.nodeType===3&&(q+=Ye.nodeValue.length),(Ie=Ye.firstChild)!==null;)ke=Ye,Ye=Ie;for(;;){if(Ye===s)break t;if(ke===d&&++Re===_&&(ae=q),ke===T&&++Ve===y&&(ye=q),(Ie=Ye.nextSibling)!==null)break;Ye=ke,ke=Ye.parentNode}Ye=Ie}d=ae===-1||ye===-1?null:{start:ae,end:ye}}else d=null}d=d||{start:0,end:0}}else d=null;for(e0={focusedElem:s,selectionRange:d},Pp=!1,Hi=l;Hi!==null;)if(l=Hi,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,Hi=s;else for(;Hi!==null;){switch(l=Hi,T=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&T!==null){s=void 0,d=l,_=T.memoizedProps,T=T.memoizedState,y=d.stateNode;try{var Dt=$c(d.type,_,d.elementType===d.type);s=y.getSnapshotBeforeUpdate(Dt,T),y.__reactInternalSnapshotBeforeUpdate=s}catch(At){En(d,d.return,At)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,d=s.nodeType,d===9)i0(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":i0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=l.sibling,s!==null){s.return=l.return,Hi=s;break}Hi=l.return}}function vv(s,l,d){var y=d.flags;switch(d.tag){case 0:case 11:case 15:Ll(s,d),y&4&&xd(5,d);break;case 1:if(Ll(s,d),y&4)if(s=d.stateNode,l===null)try{s.componentDidMount()}catch(q){En(d,d.return,q)}else{var _=$c(d.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(_,l,s.__reactInternalSnapshotBeforeUpdate)}catch(q){En(d,d.return,q)}}y&64&&dv(d),y&512&&bd(d,d.return);break;case 3:if(Ll(s,d),y&64&&(s=d.updateQueue,s!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{un(s,l)}catch(q){En(d,d.return,q)}}break;case 27:l===null&&y&4&&gv(d);case 26:case 5:Ll(s,d),l===null&&y&4&&pv(d),y&512&&bd(d,d.return);break;case 12:Ll(s,d);break;case 13:Ll(s,d),y&4&&wv(s,d),y&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=N3.bind(null,d),G3(s,d))));break;case 22:if(y=d.memoizedState!==null||Oo,!y){l=l!==null&&l.memoizedState!==null||vi,_=Oo;var T=vi;Oo=y,(vi=l)&&!T?Dl(s,d,(d.subtreeFlags&8772)!==0):Ll(s,d),Oo=_,vi=T}break;case 30:break;default:Ll(s,d)}}function xv(s){var l=s.alternate;l!==null&&(s.alternate=null,xv(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Ar(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Yn=null,Br=!1;function jo(s,l,d){for(d=d.child;d!==null;)bv(s,l,d),d=d.sibling}function bv(s,l,d){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(dt,d)}catch{}switch(d.tag){case 26:vi||Ws(d,l),jo(s,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:vi||Ws(d,l);var y=Yn,_=Br;jl(d.type)&&(Yn=d.stateNode,Br=!1),jo(s,l,d),Md(d.stateNode),Yn=y,Br=_;break;case 5:vi||Ws(d,l);case 6:if(y=Yn,_=Br,Yn=null,jo(s,l,d),Yn=y,Br=_,Yn!==null)if(Br)try{(Yn.nodeType===9?Yn.body:Yn.nodeName==="HTML"?Yn.ownerDocument.body:Yn).removeChild(d.stateNode)}catch(T){En(d,l,T)}else try{Yn.removeChild(d.stateNode)}catch(T){En(d,l,T)}break;case 18:Yn!==null&&(Br?(s=Yn,l2(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Od(s)):l2(Yn,d.stateNode));break;case 4:y=Yn,_=Br,Yn=d.stateNode.containerInfo,Br=!0,jo(s,l,d),Yn=y,Br=_;break;case 0:case 11:case 14:case 15:vi||Pl(2,d,l),vi||Pl(4,d,l),jo(s,l,d);break;case 1:vi||(Ws(d,l),y=d.stateNode,typeof y.componentWillUnmount=="function"&&hv(d,l,y)),jo(s,l,d);break;case 21:jo(s,l,d);break;case 22:vi=(y=vi)||d.memoizedState!==null,jo(s,l,d),vi=y;break;default:jo(s,l,d)}}function wv(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Od(s)}catch(d){En(l,l.return,d)}}function x3(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new yv),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new yv),l;default:throw Error(i(435,s.tag))}}function Pg(s,l){var d=x3(s);l.forEach(function(y){var _=E3.bind(null,s,y);d.has(y)||(d.add(y),y.then(_,_))})}function ra(s,l){var d=l.deletions;if(d!==null)for(var y=0;y<d.length;y++){var _=d[y],T=s,q=l,ae=q;e:for(;ae!==null;){switch(ae.tag){case 27:if(jl(ae.type)){Yn=ae.stateNode,Br=!1;break e}break;case 5:Yn=ae.stateNode,Br=!1;break e;case 3:case 4:Yn=ae.stateNode.containerInfo,Br=!0;break e}ae=ae.return}if(Yn===null)throw Error(i(160));bv(T,q,_),Yn=null,Br=!1,T=_.alternate,T!==null&&(T.return=null),_.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)_v(l,s),l=l.sibling}var rs=null;function _v(s,l){var d=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ra(l,s),aa(s),y&4&&(Pl(3,s,s.return),xd(3,s),Pl(5,s,s.return));break;case 1:ra(l,s),aa(s),y&512&&(vi||d===null||Ws(d,d.return)),y&64&&Oo&&(s=s.updateQueue,s!==null&&(y=s.callbacks,y!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?y:d.concat(y))));break;case 26:var _=rs;if(ra(l,s),aa(s),y&512&&(vi||d===null||Ws(d,d.return)),y&4){var T=d!==null?d.memoizedState:null;if(y=s.memoizedState,d===null)if(y===null)if(s.stateNode===null){e:{y=s.type,d=s.memoizedProps,_=_.ownerDocument||_;t:switch(y){case"title":T=_.getElementsByTagName("title")[0],(!T||T[Cr]||T[Sn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=_.createElement(y),_.head.insertBefore(T,_.querySelector("head > title"))),tr(T,y,d),T[Sn]=s,gn(T),y=T;break e;case"link":var q=g2("link","href",_).get(y+(d.href||""));if(q){for(var ae=0;ae<q.length;ae++)if(T=q[ae],T.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&T.getAttribute("rel")===(d.rel==null?null:d.rel)&&T.getAttribute("title")===(d.title==null?null:d.title)&&T.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){q.splice(ae,1);break t}}T=_.createElement(y),tr(T,y,d),_.head.appendChild(T);break;case"meta":if(q=g2("meta","content",_).get(y+(d.content||""))){for(ae=0;ae<q.length;ae++)if(T=q[ae],T.getAttribute("content")===(d.content==null?null:""+d.content)&&T.getAttribute("name")===(d.name==null?null:d.name)&&T.getAttribute("property")===(d.property==null?null:d.property)&&T.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&T.getAttribute("charset")===(d.charSet==null?null:d.charSet)){q.splice(ae,1);break t}}T=_.createElement(y),tr(T,y,d),_.head.appendChild(T);break;default:throw Error(i(468,y))}T[Sn]=s,gn(T),y=T}s.stateNode=y}else y2(_,s.type,s.stateNode);else s.stateNode=m2(_,y,s.memoizedProps);else T!==y?(T===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):T.count--,y===null?y2(_,s.type,s.stateNode):m2(_,y,s.memoizedProps)):y===null&&s.stateNode!==null&&Tg(s,s.memoizedProps,d.memoizedProps)}break;case 27:ra(l,s),aa(s),y&512&&(vi||d===null||Ws(d,d.return)),d!==null&&y&4&&Tg(s,s.memoizedProps,d.memoizedProps);break;case 5:if(ra(l,s),aa(s),y&512&&(vi||d===null||Ws(d,d.return)),s.flags&32){_=s.stateNode;try{bs(_,"")}catch(Ie){En(s,s.return,Ie)}}y&4&&s.stateNode!=null&&(_=s.memoizedProps,Tg(s,_,d!==null?d.memoizedProps:_)),y&1024&&(Mg=!0);break;case 6:if(ra(l,s),aa(s),y&4){if(s.stateNode===null)throw Error(i(162));y=s.memoizedProps,d=s.stateNode;try{d.nodeValue=y}catch(Ie){En(s,s.return,Ie)}}break;case 3:if(Np=null,_=rs,rs=Ap(l.containerInfo),ra(l,s),rs=_,aa(s),y&4&&d!==null&&d.memoizedState.isDehydrated)try{Od(l.containerInfo)}catch(Ie){En(s,s.return,Ie)}Mg&&(Mg=!1,Sv(s));break;case 4:y=rs,rs=Ap(s.stateNode.containerInfo),ra(l,s),aa(s),rs=y;break;case 12:ra(l,s),aa(s);break;case 13:ra(l,s),aa(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Fg=Ue()),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,Pg(s,y)));break;case 22:_=s.memoizedState!==null;var ye=d!==null&&d.memoizedState!==null,Re=Oo,Ve=vi;if(Oo=Re||_,vi=Ve||ye,ra(l,s),vi=Ve,Oo=Re,aa(s),y&8192)e:for(l=s.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(d===null||ye||Oo||vi||Wc(s)),d=null,l=s;;){if(l.tag===5||l.tag===26){if(d===null){ye=d=l;try{if(T=ye.stateNode,_)q=T.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{ae=ye.stateNode;var Ye=ye.memoizedProps.style,ke=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;ae.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(Ie){En(ye,ye.return,Ie)}}}else if(l.tag===6){if(d===null){ye=l;try{ye.stateNode.nodeValue=_?"":ye.memoizedProps}catch(Ie){En(ye,ye.return,Ie)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}y&4&&(y=s.updateQueue,y!==null&&(d=y.retryQueue,d!==null&&(y.retryQueue=null,Pg(s,d))));break;case 19:ra(l,s),aa(s),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,Pg(s,y)));break;case 30:break;case 21:break;default:ra(l,s),aa(s)}}function aa(s){var l=s.flags;if(l&2){try{for(var d,y=s.return;y!==null;){if(mv(y)){d=y;break}y=y.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var _=d.stateNode,T=Ng(s);dp(s,T,_);break;case 5:var q=d.stateNode;d.flags&32&&(bs(q,""),d.flags&=-33);var ae=Ng(s);dp(s,ae,q);break;case 3:case 4:var ye=d.stateNode.containerInfo,Re=Ng(s);Eg(s,Re,ye);break;default:throw Error(i(161))}}catch(Ve){En(s,s.return,Ve)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function Sv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;Sv(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Ll(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)vv(s,l.alternate,l),l=l.sibling}function Wc(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Pl(4,l,l.return),Wc(l);break;case 1:Ws(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&hv(l,l.return,d),Wc(l);break;case 27:Md(l.stateNode);case 26:case 5:Ws(l,l.return),Wc(l);break;case 22:l.memoizedState===null&&Wc(l);break;case 30:Wc(l);break;default:Wc(l)}s=s.sibling}}function Dl(s,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var y=l.alternate,_=s,T=l,q=T.flags;switch(T.tag){case 0:case 11:case 15:Dl(_,T,d),xd(4,T);break;case 1:if(Dl(_,T,d),y=T,_=y.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Re){En(y,y.return,Re)}if(y=T,_=y.updateQueue,_!==null){var ae=y.stateNode;try{var ye=_.shared.hiddenCallbacks;if(ye!==null)for(_.shared.hiddenCallbacks=null,_=0;_<ye.length;_++)tn(ye[_],ae)}catch(Re){En(y,y.return,Re)}}d&&q&64&&dv(T),bd(T,T.return);break;case 27:gv(T);case 26:case 5:Dl(_,T,d),d&&y===null&&q&4&&pv(T),bd(T,T.return);break;case 12:Dl(_,T,d);break;case 13:Dl(_,T,d),d&&q&4&&wv(_,T);break;case 22:T.memoizedState===null&&Dl(_,T,d),bd(T,T.return);break;case 30:break;default:Dl(_,T,d)}l=l.sibling}}function Lg(s,l){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&kc(d))}function Dg(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&kc(s))}function Ys(s,l,d,y){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Cv(s,l,d,y),l=l.sibling}function Cv(s,l,d,y){var _=l.flags;switch(l.tag){case 0:case 11:case 15:Ys(s,l,d,y),_&2048&&xd(9,l);break;case 1:Ys(s,l,d,y);break;case 3:Ys(s,l,d,y),_&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&kc(s)));break;case 12:if(_&2048){Ys(s,l,d,y),s=l.stateNode;try{var T=l.memoizedProps,q=T.id,ae=T.onPostCommit;typeof ae=="function"&&ae(q,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ye){En(l,l.return,ye)}}else Ys(s,l,d,y);break;case 13:Ys(s,l,d,y);break;case 23:break;case 22:T=l.stateNode,q=l.alternate,l.memoizedState!==null?T._visibility&2?Ys(s,l,d,y):wd(s,l):T._visibility&2?Ys(s,l,d,y):(T._visibility|=2,Ju(s,l,d,y,(l.subtreeFlags&10256)!==0)),_&2048&&Lg(q,l);break;case 24:Ys(s,l,d,y),_&2048&&Dg(l.alternate,l);break;default:Ys(s,l,d,y)}}function Ju(s,l,d,y,_){for(_=_&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var T=s,q=l,ae=d,ye=y,Re=q.flags;switch(q.tag){case 0:case 11:case 15:Ju(T,q,ae,ye,_),xd(8,q);break;case 23:break;case 22:var Ve=q.stateNode;q.memoizedState!==null?Ve._visibility&2?Ju(T,q,ae,ye,_):wd(T,q):(Ve._visibility|=2,Ju(T,q,ae,ye,_)),_&&Re&2048&&Lg(q.alternate,q);break;case 24:Ju(T,q,ae,ye,_),_&&Re&2048&&Dg(q.alternate,q);break;default:Ju(T,q,ae,ye,_)}l=l.sibling}}function wd(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=s,y=l,_=y.flags;switch(y.tag){case 22:wd(d,y),_&2048&&Lg(y.alternate,y);break;case 24:wd(d,y),_&2048&&Dg(y.alternate,y);break;default:wd(d,y)}l=l.sibling}}var _d=8192;function Ku(s){if(s.subtreeFlags&_d)for(s=s.child;s!==null;)Av(s),s=s.sibling}function Av(s){switch(s.tag){case 26:Ku(s),s.flags&_d&&s.memoizedState!==null&&r4(rs,s.memoizedState,s.memoizedProps);break;case 5:Ku(s);break;case 3:case 4:var l=rs;rs=Ap(s.stateNode.containerInfo),Ku(s),rs=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=_d,_d=16777216,Ku(s),_d=l):Ku(s));break;default:Ku(s)}}function Tv(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Sd(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var y=l[d];Hi=y,Ev(y,s)}Tv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Nv(s),s=s.sibling}function Nv(s){switch(s.tag){case 0:case 11:case 15:Sd(s),s.flags&2048&&Pl(9,s,s.return);break;case 3:Sd(s);break;case 12:Sd(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,hp(s)):Sd(s);break;default:Sd(s)}}function hp(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var y=l[d];Hi=y,Ev(y,s)}Tv(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Pl(8,l,l.return),hp(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,hp(l));break;default:hp(l)}s=s.sibling}}function Ev(s,l){for(;Hi!==null;){var d=Hi;switch(d.tag){case 0:case 11:case 15:Pl(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var y=d.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:kc(d.memoizedState.cache)}if(y=d.child,y!==null)y.return=d,Hi=y;else e:for(d=s;Hi!==null;){y=Hi;var _=y.sibling,T=y.return;if(xv(y),y===d){Hi=null;break e}if(_!==null){_.return=T,Hi=_;break e}Hi=T}}}var b3={getCacheForType:function(s){var l=mi(gi),d=l.data.get(s);return d===void 0&&(d=s(),l.data.set(s,d)),d}},w3=typeof WeakMap=="function"?WeakMap:Map,vn=0,kn=null,Kt=null,rn=0,xn=0,sa=null,Rl=!1,Xu=!1,Rg=!1,Uo=0,li=0,kl=0,Yc=0,kg=0,Aa=0,Qu=0,Cd=null,zr=null,Ig=!1,Fg=0,pp=1/0,mp=null,Il=null,er=0,Fl=null,Zu=null,ef=0,Og=0,jg=null,Mv=null,Ad=0,Ug=null;function oa(){if((vn&2)!==0&&rn!==0)return rn&-rn;if(z.T!==null){var s=Mo;return s!==0?s:$g()}return Wr()}function Pv(){Aa===0&&(Aa=(rn&536870912)===0||sn?gs():536870912);var s=Ca.current;return s!==null&&(s.flags|=32),Aa}function la(s,l,d){(s===kn&&(xn===2||xn===9)||s.cancelPendingCommit!==null)&&(tf(s,0),Ol(s,rn,Aa,!1)),_r(s,d),((vn&2)===0||s!==kn)&&(s===kn&&((vn&2)===0&&(Yc|=d),li===4&&Ol(s,rn,Aa,!1)),Js(s))}function Lv(s,l,d){if((vn&6)!==0)throw Error(i(327));var y=!d&&(l&124)===0&&(l&s.expiredLanes)===0||nr(s,l),_=y?C3(s,l):qg(s,l,!0),T=y;do{if(_===0){Xu&&!y&&Ol(s,l,0,!1);break}else{if(d=s.current.alternate,T&&!_3(d)){_=qg(s,l,!1),T=!1;continue}if(_===2){if(T=l,s.errorRecoveryDisabledLanes&T)var q=0;else q=s.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){l=q;e:{var ae=s;_=Cd;var ye=ae.current.memoizedState.isDehydrated;if(ye&&(tf(ae,q).flags|=256),q=qg(ae,q,!1),q!==2){if(Rg&&!ye){ae.errorRecoveryDisabledLanes|=T,Yc|=T,_=4;break e}T=zr,zr=_,T!==null&&(zr===null?zr=T:zr.push.apply(zr,T))}_=q}if(T=!1,_!==2)continue}}if(_===1){tf(s,0),Ol(s,l,0,!0);break}e:{switch(y=s,T=_,T){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:Ol(y,l,Aa,!Rl);break e;case 2:zr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(_=Fg+300-Ue(),10<_)){if(Ol(y,l,Aa,!Rl),pn(y,0,!0)!==0)break e;y.timeoutHandle=s2(Dv.bind(null,y,d,zr,mp,Ig,l,Aa,Yc,Qu,Rl,T,2,-0,0),_);break e}Dv(y,d,zr,mp,Ig,l,Aa,Yc,Qu,Rl,T,0,-0,0)}}break}while(!0);Js(s)}function Dv(s,l,d,y,_,T,q,ae,ye,Re,Ve,Ye,ke,Ie){if(s.timeoutHandle=-1,Ye=l.subtreeFlags,(Ye&8192||(Ye&16785408)===16785408)&&(Dd={stylesheets:null,count:0,unsuspend:i4},Av(l),Ye=a4(),Ye!==null)){s.cancelPendingCommit=Ye(Uv.bind(null,s,l,T,d,y,_,q,ae,ye,Ve,1,ke,Ie)),Ol(s,T,q,!Re);return}Uv(s,l,T,d,y,_,q,ae,ye)}function _3(s){for(var l=s;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var y=0;y<d.length;y++){var _=d[y],T=_.getSnapshot;_=_.value;try{if(!Ai(T(),_))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ol(s,l,d,y){l&=~kg,l&=~Yc,s.suspendedLanes|=l,s.pingedLanes&=~l,y&&(s.warmLanes|=l),y=s.expirationTimes;for(var _=l;0<_;){var T=31-nt(_),q=1<<T;y[T]=-1,_&=~q}d!==0&&It(s,d,l)}function gp(){return(vn&6)===0?(Td(0),!1):!0}function Bg(){if(Kt!==null){if(xn===0)var s=Kt.return;else s=Kt,Qa=Ni=null,zu(s),Wu=null,gd=0,s=Kt;for(;s!==null;)fv(s.alternate,s),s=s.return;Kt=null}}function tf(s,l){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,B3(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Bg(),kn=s,Kt=d=va(s.current,null),rn=l,xn=0,sa=null,Rl=!1,Xu=nr(s,l),Rg=!1,Qu=Aa=kg=Yc=kl=li=0,zr=Cd=null,Ig=!1,(l&8)!==0&&(l|=l&32);var y=s.entangledLanes;if(y!==0)for(s=s.entanglements,y&=l;0<y;){var _=31-nt(y),T=1<<_;l|=s[_],y&=~T}return Uo=l,Fr(),d}function Rv(s,l){St=null,z.H=ip,l===ee||l===re?(l=Ne(),xn=3):l===ne?(l=Ne(),xn=4):xn=l===Xy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,sa=l,Kt===null&&(li=1,lp(s,$t(l,s.current)))}function kv(){var s=z.H;return z.H=ip,s===null?ip:s}function Iv(){var s=z.A;return z.A=b3,s}function zg(){li=4,Rl||(rn&4194048)!==rn&&Ca.current!==null||(Xu=!0),(kl&134217727)===0&&(Yc&134217727)===0||kn===null||Ol(kn,rn,Aa,!1)}function qg(s,l,d){var y=vn;vn|=2;var _=kv(),T=Iv();(kn!==s||rn!==l)&&(mp=null,tf(s,l)),l=!1;var q=li;e:do try{if(xn!==0&&Kt!==null){var ae=Kt,ye=sa;switch(xn){case 8:Bg(),q=6;break e;case 3:case 2:case 9:case 6:Ca.current===null&&(l=!0);var Re=xn;if(xn=0,sa=null,nf(s,ae,ye,Re),d&&Xu){q=0;break e}break;default:Re=xn,xn=0,sa=null,nf(s,ae,ye,Re)}}S3(),q=li;break}catch(Ve){Rv(s,Ve)}while(!0);return l&&s.shellSuspendCounter++,Qa=Ni=null,vn=y,z.H=_,z.A=T,Kt===null&&(kn=null,rn=0,Fr()),q}function S3(){for(;Kt!==null;)Fv(Kt)}function C3(s,l){var d=vn;vn|=2;var y=kv(),_=Iv();kn!==s||rn!==l?(mp=null,pp=Ue()+500,tf(s,l)):Xu=nr(s,l);e:do try{if(xn!==0&&Kt!==null){l=Kt;var T=sa;t:switch(xn){case 1:xn=0,sa=null,nf(s,l,T,1);break;case 2:case 9:if(de(T)){xn=0,sa=null,Ov(l);break}l=function(){xn!==2&&xn!==9||kn!==s||(xn=7),Js(s)},T.then(l,l);break e;case 3:xn=7;break e;case 4:xn=5;break e;case 7:de(T)?(xn=0,sa=null,Ov(l)):(xn=0,sa=null,nf(s,l,T,7));break;case 5:var q=null;switch(Kt.tag){case 26:q=Kt.memoizedState;case 5:case 27:var ae=Kt;if(!q||v2(q)){xn=0,sa=null;var ye=ae.sibling;if(ye!==null)Kt=ye;else{var Re=ae.return;Re!==null?(Kt=Re,yp(Re)):Kt=null}break t}}xn=0,sa=null,nf(s,l,T,5);break;case 6:xn=0,sa=null,nf(s,l,T,6);break;case 8:Bg(),li=6;break e;default:throw Error(i(462))}}A3();break}catch(Ve){Rv(s,Ve)}while(!0);return Qa=Ni=null,z.H=y,z.A=_,vn=d,Kt!==null?0:(kn=null,rn=0,Fr(),li)}function A3(){for(;Kt!==null&&!ge();)Fv(Kt)}function Fv(s){var l=cv(s.alternate,s,Uo);s.memoizedProps=s.pendingProps,l===null?yp(s):Kt=l}function Ov(s){var l=s,d=l.alternate;switch(l.tag){case 15:case 0:l=iv(d,l,l.pendingProps,l.type,void 0,rn);break;case 11:l=iv(d,l,l.pendingProps,l.type.render,l.ref,rn);break;case 5:zu(l);default:fv(d,l),l=Kt=Pc(l,Uo),l=cv(d,l,Uo)}s.memoizedProps=s.pendingProps,l===null?yp(s):Kt=l}function nf(s,l,d,y){Qa=Ni=null,zu(l),Wu=null,gd=0;var _=l.return;try{if(p3(s,_,l,d,rn)){li=1,lp(s,$t(d,s.current)),Kt=null;return}}catch(T){if(_!==null)throw Kt=_,T;li=1,lp(s,$t(d,s.current)),Kt=null;return}l.flags&32768?(sn||y===1?s=!0:Xu||(rn&536870912)!==0?s=!1:(Rl=s=!0,(y===2||y===9||y===3||y===6)&&(y=Ca.current,y!==null&&y.tag===13&&(y.flags|=16384))),jv(l,s)):yp(l)}function yp(s){var l=s;do{if((l.flags&32768)!==0){jv(l,Rl);return}s=l.return;var d=g3(l.alternate,l,Uo);if(d!==null){Kt=d;return}if(l=l.sibling,l!==null){Kt=l;return}Kt=l=s}while(l!==null);li===0&&(li=5)}function jv(s,l){do{var d=y3(s.alternate,s);if(d!==null){d.flags&=32767,Kt=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(s=s.sibling,s!==null)){Kt=s;return}Kt=s=d}while(s!==null);li=6,Kt=null}function Uv(s,l,d,y,_,T,q,ae,ye){s.cancelPendingCommit=null;do vp();while(er!==0);if((vn&6)!==0)throw Error(i(327));if(l!==null){if(l===s.current)throw Error(i(177));if(T=l.lanes|l.childLanes,T|=ei,Vn(s,d,T,q,ae,ye),s===kn&&(Kt=kn=null,rn=0),Zu=l,Fl=s,ef=d,Og=T,jg=_,Mv=y,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,M3(Qe,function(){return Hv(),null})):(s.callbackNode=null,s.callbackPriority=0),y=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||y){y=z.T,z.T=null,_=G.p,G.p=2,q=vn,vn|=4;try{v3(s,l,d)}finally{vn=q,G.p=_,z.T=y}}er=1,Bv(),zv(),qv()}}function Bv(){if(er===1){er=0;var s=Fl,l=Zu,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=z.T,z.T=null;var y=G.p;G.p=2;var _=vn;vn|=4;try{_v(l,s);var T=e0,q=Ki(s.containerInfo),ae=T.focusedElem,ye=T.selectionRange;if(q!==ae&&ae&&ae.ownerDocument&&Ps(ae.ownerDocument.documentElement,ae)){if(ye!==null&&Di(ae)){var Re=ye.start,Ve=ye.end;if(Ve===void 0&&(Ve=Re),"selectionStart"in ae)ae.selectionStart=Re,ae.selectionEnd=Math.min(Ve,ae.value.length);else{var Ye=ae.ownerDocument||document,ke=Ye&&Ye.defaultView||window;if(ke.getSelection){var Ie=ke.getSelection(),Dt=ae.textContent.length,At=Math.min(ye.start,Dt),Tn=ye.end===void 0?At:Math.min(ye.end,Dt);!Ie.extend&&At>Tn&&(q=Tn,Tn=At,At=q);var Ee=Ha(ae,At),Ce=Ha(ae,Tn);if(Ee&&Ce&&(Ie.rangeCount!==1||Ie.anchorNode!==Ee.node||Ie.anchorOffset!==Ee.offset||Ie.focusNode!==Ce.node||Ie.focusOffset!==Ce.offset)){var Le=Ye.createRange();Le.setStart(Ee.node,Ee.offset),Ie.removeAllRanges(),At>Tn?(Ie.addRange(Le),Ie.extend(Ce.node,Ce.offset)):(Le.setEnd(Ce.node,Ce.offset),Ie.addRange(Le))}}}}for(Ye=[],Ie=ae;Ie=Ie.parentNode;)Ie.nodeType===1&&Ye.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof ae.focus=="function"&&ae.focus(),ae=0;ae<Ye.length;ae++){var Ge=Ye[ae];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}Pp=!!Zg,e0=Zg=null}finally{vn=_,G.p=y,z.T=d}}s.current=l,er=2}}function zv(){if(er===2){er=0;var s=Fl,l=Zu,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=z.T,z.T=null;var y=G.p;G.p=2;var _=vn;vn|=4;try{vv(s,l.alternate,l)}finally{vn=_,G.p=y,z.T=d}}er=3}}function qv(){if(er===4||er===3){er=0,oe();var s=Fl,l=Zu,d=ef,y=Mv;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?er=5:(er=0,Zu=Fl=null,Vv(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(Il=null),fi(d),l=l.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(dt,l,void 0,(l.current.flags&128)===128)}catch{}if(y!==null){l=z.T,_=G.p,G.p=2,z.T=null;try{for(var T=s.onRecoverableError,q=0;q<y.length;q++){var ae=y[q];T(ae.value,{componentStack:ae.stack})}}finally{z.T=l,G.p=_}}(ef&3)!==0&&vp(),Js(s),_=s.pendingLanes,(d&4194090)!==0&&(_&42)!==0?s===Ug?Ad++:(Ad=0,Ug=s):Ad=0,Td(0)}}function Vv(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,kc(l)))}function vp(s){return Bv(),zv(),qv(),Hv()}function Hv(){if(er!==5)return!1;var s=Fl,l=Og;Og=0;var d=fi(ef),y=z.T,_=G.p;try{G.p=32>d?32:d,z.T=null,d=jg,jg=null;var T=Fl,q=ef;if(er=0,Zu=Fl=null,ef=0,(vn&6)!==0)throw Error(i(331));var ae=vn;if(vn|=4,Nv(T.current),Cv(T,T.current,q,d),vn=ae,Td(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(dt,T)}catch{}return!0}finally{G.p=_,z.T=y,Vv(s,l)}}function Gv(s,l,d){l=$t(d,l),l=yg(s.stateNode,l,2),s=We(s,l,2),s!==null&&(_r(s,2),Js(s))}function En(s,l,d){if(s.tag===3)Gv(s,s,d);else for(;l!==null;){if(l.tag===3){Gv(l,s,d);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Il===null||!Il.has(y))){s=$t(d,s),d=Jy(2),y=We(l,d,2),y!==null&&(Ky(d,y,l,s),_r(y,2),Js(y));break}}l=l.return}}function Vg(s,l,d){var y=s.pingCache;if(y===null){y=s.pingCache=new w3;var _=new Set;y.set(l,_)}else _=y.get(l),_===void 0&&(_=new Set,y.set(l,_));_.has(d)||(Rg=!0,_.add(d),s=T3.bind(null,s,l,d),l.then(s,s))}function T3(s,l,d){var y=s.pingCache;y!==null&&y.delete(l),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,kn===s&&(rn&d)===d&&(li===4||li===3&&(rn&62914560)===rn&&300>Ue()-Fg?(vn&2)===0&&tf(s,0):kg|=d,Qu===rn&&(Qu=0)),Js(s)}function $v(s,l){l===0&&(l=Fn()),s=$a(s,l),s!==null&&(_r(s,l),Js(s))}function N3(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),$v(s,d)}function E3(s,l){var d=0;switch(s.tag){case 13:var y=s.stateNode,_=s.memoizedState;_!==null&&(d=_.retryLane);break;case 19:y=s.stateNode;break;case 22:y=s.stateNode._retryCache;break;default:throw Error(i(314))}y!==null&&y.delete(l),$v(s,d)}function M3(s,l){return je(s,l)}var xp=null,rf=null,Hg=!1,bp=!1,Gg=!1,Jc=0;function Js(s){s!==rf&&s.next===null&&(rf===null?xp=rf=s:rf=rf.next=s),bp=!0,Hg||(Hg=!0,L3())}function Td(s,l){if(!Gg&&bp){Gg=!0;do for(var d=!1,y=xp;y!==null;){if(s!==0){var _=y.pendingLanes;if(_===0)var T=0;else{var q=y.suspendedLanes,ae=y.pingedLanes;T=(1<<31-nt(42|s)+1)-1,T&=_&~(q&~ae),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(d=!0,Kv(y,T))}else T=rn,T=pn(y,y===kn?T:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(T&3)===0||nr(y,T)||(d=!0,Kv(y,T));y=y.next}while(d);Gg=!1}}function P3(){Wv()}function Wv(){bp=Hg=!1;var s=0;Jc!==0&&(U3()&&(s=Jc),Jc=0);for(var l=Ue(),d=null,y=xp;y!==null;){var _=y.next,T=Yv(y,l);T===0?(y.next=null,d===null?xp=_:d.next=_,_===null&&(rf=d)):(d=y,(s!==0||(T&3)!==0)&&(bp=!0)),y=_}Td(s)}function Yv(s,l){for(var d=s.suspendedLanes,y=s.pingedLanes,_=s.expirationTimes,T=s.pendingLanes&-62914561;0<T;){var q=31-nt(T),ae=1<<q,ye=_[q];ye===-1?((ae&d)===0||(ae&y)!==0)&&(_[q]=cn(ae,l)):ye<=l&&(s.expiredLanes|=ae),T&=~ae}if(l=kn,d=rn,d=pn(s,s===l?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y=s.callbackNode,d===0||s===l&&(xn===2||xn===9)||s.cancelPendingCommit!==null)return y!==null&&y!==null&&Ke(y),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||nr(s,d)){if(l=d&-d,l===s.callbackPriority)return l;switch(y!==null&&Ke(y),fi(d)){case 2:case 8:d=Xe;break;case 32:d=Qe;break;case 268435456:d=ft;break;default:d=Qe}return y=Jv.bind(null,s),d=je(d,y),s.callbackPriority=l,s.callbackNode=d,l}return y!==null&&y!==null&&Ke(y),s.callbackPriority=2,s.callbackNode=null,2}function Jv(s,l){if(er!==0&&er!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(vp()&&s.callbackNode!==d)return null;var y=rn;return y=pn(s,s===kn?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y===0?null:(Lv(s,y,l),Yv(s,Ue()),s.callbackNode!=null&&s.callbackNode===d?Jv.bind(null,s):null)}function Kv(s,l){if(vp())return null;Lv(s,l,!0)}function L3(){z3(function(){(vn&6)!==0?je(qe,P3):Wv()})}function $g(){return Jc===0&&(Jc=gs()),Jc}function Xv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ua(""+s)}function Qv(s,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,s.id&&d.setAttribute("form",s.id),l.parentNode.insertBefore(d,l),s=new FormData(s),d.parentNode.removeChild(d),s}function D3(s,l,d,y,_){if(l==="submit"&&d&&d.stateNode===_){var T=Xv((_[On]||null).action),q=y.submitter;q&&(l=(l=q[On]||null)?Xv(l.formAction):q.getAttribute("formAction"),l!==null&&(T=l,q=null));var ae=new Ss("action","action",null,y,_);s.push({event:ae,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Jc!==0){var ye=q?Qv(_,q):new FormData(_);Sa(d,{pending:!0,data:ye,method:_.method,action:T},null,ye)}}else typeof T=="function"&&(ae.preventDefault(),ye=q?Qv(_,q):new FormData(_),Sa(d,{pending:!0,data:ye,method:_.method,action:T},T,ye))},currentTarget:_}]})}}for(var Wg=0;Wg<So.length;Wg++){var Yg=So[Wg],R3=Yg.toLowerCase(),k3=Yg[0].toUpperCase()+Yg.slice(1);$n(R3,"on"+k3)}$n(yl,"onAnimationEnd"),$n(Ds,"onAnimationIteration"),$n(Rs,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(ks,"onTransitionRun"),$n(_o,"onTransitionStart"),$n(vl,"onTransitionCancel"),$n(Is,"onTransitionEnd"),Yr("onMouseEnter",["mouseout","mouseover"]),Yr("onMouseLeave",["mouseout","mouseover"]),Yr("onPointerEnter",["pointerout","pointerover"]),Yr("onPointerLeave",["pointerout","pointerover"]),Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nd));function Zv(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var y=s[d],_=y.event;y=y.listeners;e:{var T=void 0;if(l)for(var q=y.length-1;0<=q;q--){var ae=y[q],ye=ae.instance,Re=ae.currentTarget;if(ae=ae.listener,ye!==T&&_.isPropagationStopped())break e;T=ae,_.currentTarget=Re;try{T(_)}catch(Ve){op(Ve)}_.currentTarget=null,T=ye}else for(q=0;q<y.length;q++){if(ae=y[q],ye=ae.instance,Re=ae.currentTarget,ae=ae.listener,ye!==T&&_.isPropagationStopped())break e;T=ae,_.currentTarget=Re;try{T(_)}catch(Ve){op(Ve)}_.currentTarget=null,T=ye}}}}function Xt(s,l){var d=l[Xn];d===void 0&&(d=l[Xn]=new Set);var y=s+"__bubble";d.has(y)||(e2(l,s,2,!1),d.add(y))}function Jg(s,l,d){var y=0;l&&(y|=4),e2(d,s,y,l)}var wp="_reactListening"+Math.random().toString(36).slice(2);function Kg(s){if(!s[wp]){s[wp]=!0,ys.forEach(function(d){d!=="selectionchange"&&(I3.has(d)||Jg(d,!1,s),Jg(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[wp]||(l[wp]=!0,Jg("selectionchange",!1,l))}}function e2(s,l,d,y){switch(C2(l)){case 2:var _=l4;break;case 8:_=c4;break;default:_=u0}d=_.bind(null,l,d,s),_=void 0,!rl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),y?_!==void 0?s.addEventListener(l,d,{capture:!0,passive:_}):s.addEventListener(l,d,!0):_!==void 0?s.addEventListener(l,d,{passive:_}):s.addEventListener(l,d,!1)}function Xg(s,l,d,y,_){var T=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var q=y.tag;if(q===3||q===4){var ae=y.stateNode.containerInfo;if(ae===_)break;if(q===4)for(q=y.return;q!==null;){var ye=q.tag;if((ye===3||ye===4)&&q.stateNode.containerInfo===_)return;q=q.return}for(;ae!==null;){if(q=Ui(ae),q===null)return;if(ye=q.tag,ye===5||ye===6||ye===26||ye===27){y=T=q;continue e}ae=ae.parentNode}}y=y.return}Mu(function(){var Re=T,Ve=Si(d),Ye=[];e:{var ke=Ga.get(s);if(ke!==void 0){var Ie=Ss,Dt=s;switch(s){case"keypress":if(_s(d)===0)break e;case"keydown":case"keyup":Ie=dl;break;case"focusin":Dt="focus",Ie=mo;break;case"focusout":Dt="blur",Ie=mo;break;case"beforeblur":case"afterblur":Ie=mo;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=ma;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=As;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Tc;break;case yl:case Ds:case Rs:Ie=Xf;break;case Is:Ie=J;break;case"scroll":case"scrollend":Ie=Lu;break;case"wheel":Ie=xe;break;case"copy":case"cut":case"paste":Ie=Qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=hl;break;case"toggle":case"beforetoggle":Ie=Be}var At=(l&4)!==0,Tn=!At&&(s==="scroll"||s==="scrollend"),Ee=At?ke!==null?ke+"Capture":null:ke;At=[];for(var Ce=Re,Le;Ce!==null;){var Ge=Ce;if(Le=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||Le===null||Ee===null||(Ge=ar(Ce,Ee),Ge!=null&&At.push(Ed(Ce,Ge,Le))),Tn)break;Ce=Ce.return}0<At.length&&(ke=new Ie(ke,Dt,null,d,Ve),Ye.push({event:ke,listeners:At}))}}if((l&7)===0){e:{if(ke=s==="mouseover"||s==="pointerover",Ie=s==="mouseout"||s==="pointerout",ke&&d!==il&&(Dt=d.relatedTarget||d.fromElement)&&(Ui(Dt)||Dt[di]))break e;if((Ie||ke)&&(ke=Ve.window===Ve?Ve:(ke=Ve.ownerDocument)?ke.defaultView||ke.parentWindow:window,Ie?(Dt=d.relatedTarget||d.toElement,Ie=Re,Dt=Dt?Ui(Dt):null,Dt!==null&&(Tn=a(Dt),At=Dt.tag,Dt!==Tn||At!==5&&At!==27&&At!==6)&&(Dt=null)):(Ie=null,Dt=Re),Ie!==Dt)){if(At=ma,Ge="onMouseLeave",Ee="onMouseEnter",Ce="mouse",(s==="pointerout"||s==="pointerover")&&(At=hl,Ge="onPointerLeave",Ee="onPointerEnter",Ce="pointer"),Tn=Ie==null?ke:ir(Ie),Le=Dt==null?ke:ir(Dt),ke=new At(Ge,Ce+"leave",Ie,d,Ve),ke.target=Tn,ke.relatedTarget=Le,Ge=null,Ui(Ve)===Re&&(At=new At(Ee,Ce+"enter",Dt,d,Ve),At.target=Le,At.relatedTarget=Tn,Ge=At),Tn=Ge,Ie&&Dt)t:{for(At=Ie,Ee=Dt,Ce=0,Le=At;Le;Le=af(Le))Ce++;for(Le=0,Ge=Ee;Ge;Ge=af(Ge))Le++;for(;0<Ce-Le;)At=af(At),Ce--;for(;0<Le-Ce;)Ee=af(Ee),Le--;for(;Ce--;){if(At===Ee||Ee!==null&&At===Ee.alternate)break t;At=af(At),Ee=af(Ee)}At=null}else At=null;Ie!==null&&t2(Ye,ke,Ie,At,!1),Dt!==null&&Tn!==null&&t2(Ye,Tn,Dt,At,!0)}}e:{if(ke=Re?ir(Re):window,Ie=ke.nodeName&&ke.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&ke.type==="file")var pt=ml;else if(Qr(ke))if(vo)pt=Ru;else{pt=ed;var Yt=sr}else Ie=ke.nodeName,!Ie||Ie.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Re&&bc(Re.elementType)&&(pt=ml):pt=Ec;if(pt&&(pt=pt(s,Re))){Nc(Ye,pt,d,Ve);break e}Yt&&Yt(s,ke,Re),s==="focusout"&&Re&&ke.type==="number"&&Re.memoizedProps.value!=null&&yc(ke,"number",ke.value)}switch(Yt=Re?ir(Re):window,s){case"focusin":(Qr(Yt)||Yt.contentEditable==="true")&&(or=Yt,Zr=Re,ga=null);break;case"focusout":ga=Zr=or=null;break;case"mousedown":ea=!0;break;case"contextmenu":case"mouseup":case"dragend":ea=!1,Gn(Ye,d,Ve);break;case"selectionchange":if(Ls)break;case"keydown":case"keyup":Gn(Ye,d,Ve)}var wt;if(at)e:{switch(s){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else Zn?jn(s,d)&&(Tt="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Tt="onCompositionStart");Tt&&(Ft&&d.locale!=="ko"&&(Zn||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Zn&&(wt=Pu()):(kr=Ve,_c="value"in kr?kr.value:kr.textContent,Zn=!0)),Yt=_p(Re,Tt),0<Yt.length&&(Tt=new cl(Tt,s,null,d,Ve),Ye.push({event:Tt,listeners:Yt}),wt?Tt.data=wt:(wt=Qn(d),wt!==null&&(Tt.data=wt)))),(wt=jt?Ci(s,d):Xr(s,d))&&(Tt=_p(Re,"onBeforeInput"),0<Tt.length&&(Yt=new cl("onBeforeInput","beforeinput",null,d,Ve),Ye.push({event:Yt,listeners:Tt}),Yt.data=wt)),D3(Ye,s,Re,d,Ve)}Zv(Ye,l)})}function Ed(s,l,d){return{instance:s,listener:l,currentTarget:d}}function _p(s,l){for(var d=l+"Capture",y=[];s!==null;){var _=s,T=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||T===null||(_=ar(s,d),_!=null&&y.unshift(Ed(s,_,T)),_=ar(s,l),_!=null&&y.push(Ed(s,_,T))),s.tag===3)return y;s=s.return}return[]}function af(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function t2(s,l,d,y,_){for(var T=l._reactName,q=[];d!==null&&d!==y;){var ae=d,ye=ae.alternate,Re=ae.stateNode;if(ae=ae.tag,ye!==null&&ye===y)break;ae!==5&&ae!==26&&ae!==27||Re===null||(ye=Re,_?(Re=ar(d,T),Re!=null&&q.unshift(Ed(d,Re,ye))):_||(Re=ar(d,T),Re!=null&&q.push(Ed(d,Re,ye)))),d=d.return}q.length!==0&&s.push({event:l,listeners:q})}var F3=/\r\n?/g,O3=/\u0000|\uFFFD/g;function n2(s){return(typeof s=="string"?s:""+s).replace(F3,`
`).replace(O3,"")}function i2(s,l){return l=n2(l),n2(s)===l}function Sp(){}function An(s,l,d,y,_,T){switch(d){case"children":typeof y=="string"?l==="body"||l==="textarea"&&y===""||bs(s,y):(typeof y=="number"||typeof y=="bigint")&&l!=="body"&&bs(s,""+y);break;case"className":fo(s,"class",y);break;case"tabIndex":fo(s,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":fo(s,d,y);break;case"style":Eu(s,y,T);break;case"data":if(l!=="object"){fo(s,"data",y);break}case"src":case"href":if(y===""&&(l!=="a"||d!=="href")){s.removeAttribute(d);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(d);break}y=Ua(""+y),s.setAttribute(d,y);break;case"action":case"formAction":if(typeof y=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(d==="formAction"?(l!=="input"&&An(s,l,"name",_.name,_,null),An(s,l,"formEncType",_.formEncType,_,null),An(s,l,"formMethod",_.formMethod,_,null),An(s,l,"formTarget",_.formTarget,_,null)):(An(s,l,"encType",_.encType,_,null),An(s,l,"method",_.method,_,null),An(s,l,"target",_.target,_,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(d);break}y=Ua(""+y),s.setAttribute(d,y);break;case"onClick":y!=null&&(s.onclick=Sp);break;case"onScroll":y!=null&&Xt("scroll",s);break;case"onScrollEnd":y!=null&&Xt("scrollend",s);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(d=y.__html,d!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=d}}break;case"multiple":s.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":s.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){s.removeAttribute("xlink:href");break}d=Ua(""+y),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(d,""+y):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":y===!0?s.setAttribute(d,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(d,y):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?s.setAttribute(d,y):s.removeAttribute(d);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?s.removeAttribute(d):s.setAttribute(d,y);break;case"popover":Xt("beforetoggle",s),Xt("toggle",s),Ia(s,"popover",y);break;case"xlinkActuate":Jr(s,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Jr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Jr(s,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Jr(s,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Jr(s,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Jr(s,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Jr(s,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Jr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Jr(s,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Ia(s,"is",y);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=ja.get(d)||d,Ia(s,d,y))}}function Qg(s,l,d,y,_,T){switch(d){case"style":Eu(s,y,T);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(i(61));if(d=y.__html,d!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=d}}break;case"children":typeof y=="string"?bs(s,y):(typeof y=="number"||typeof y=="bigint")&&bs(s,""+y);break;case"onScroll":y!=null&&Xt("scroll",s);break;case"onScrollEnd":y!=null&&Xt("scrollend",s);break;case"onClick":y!=null&&(s.onclick=Sp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uo.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(_=d.endsWith("Capture"),l=d.slice(2,_?d.length-7:void 0),T=s[On]||null,T=T!=null?T[d]:null,typeof T=="function"&&s.removeEventListener(l,T,_),typeof y=="function")){typeof T!="function"&&T!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(l,y,_);break e}d in s?s[d]=y:y===!0?s.setAttribute(d,""):Ia(s,d,y)}}}function tr(s,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",s),Xt("load",s);var y=!1,_=!1,T;for(T in d)if(d.hasOwnProperty(T)){var q=d[T];if(q!=null)switch(T){case"src":y=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:An(s,l,T,q,d,null)}}_&&An(s,l,"srcSet",d.srcSet,d,null),y&&An(s,l,"src",d.src,d,null);return;case"input":Xt("invalid",s);var ae=T=q=_=null,ye=null,Re=null;for(y in d)if(d.hasOwnProperty(y)){var Ve=d[y];if(Ve!=null)switch(y){case"name":_=Ve;break;case"type":q=Ve;break;case"checked":ye=Ve;break;case"defaultChecked":Re=Ve;break;case"value":T=Ve;break;case"defaultValue":ae=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(i(137,l));break;default:An(s,l,y,Ve,d,null)}}gc(s,T,ae,ye,Re,q,_,!1),xs(s);return;case"select":Xt("invalid",s),y=q=T=null;for(_ in d)if(d.hasOwnProperty(_)&&(ae=d[_],ae!=null))switch(_){case"value":T=ae;break;case"defaultValue":q=ae;break;case"multiple":y=ae;default:An(s,l,_,ae,d,null)}l=T,d=q,s.multiple=!!y,l!=null?Oa(s,!!y,l,!1):d!=null&&Oa(s,!!y,d,!0);return;case"textarea":Xt("invalid",s),T=_=y=null;for(q in d)if(d.hasOwnProperty(q)&&(ae=d[q],ae!=null))switch(q){case"value":y=ae;break;case"defaultValue":_=ae;break;case"children":T=ae;break;case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(91));break;default:An(s,l,q,ae,d,null)}vc(s,y,_,T),xs(s);return;case"option":for(ye in d)if(d.hasOwnProperty(ye)&&(y=d[ye],y!=null))switch(ye){case"selected":s.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:An(s,l,ye,y,d,null)}return;case"dialog":Xt("beforetoggle",s),Xt("toggle",s),Xt("cancel",s),Xt("close",s);break;case"iframe":case"object":Xt("load",s);break;case"video":case"audio":for(y=0;y<Nd.length;y++)Xt(Nd[y],s);break;case"image":Xt("error",s),Xt("load",s);break;case"details":Xt("toggle",s);break;case"embed":case"source":case"link":Xt("error",s),Xt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in d)if(d.hasOwnProperty(Re)&&(y=d[Re],y!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:An(s,l,Re,y,d,null)}return;default:if(bc(l)){for(Ve in d)d.hasOwnProperty(Ve)&&(y=d[Ve],y!==void 0&&Qg(s,l,Ve,y,d,void 0));return}}for(ae in d)d.hasOwnProperty(ae)&&(y=d[ae],y!=null&&An(s,l,ae,y,d,null))}function j3(s,l,d,y){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,T=null,q=null,ae=null,ye=null,Re=null,Ve=null;for(Ie in d){var Ye=d[Ie];if(d.hasOwnProperty(Ie)&&Ye!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":ye=Ye;default:y.hasOwnProperty(Ie)||An(s,l,Ie,null,y,Ye)}}for(var ke in y){var Ie=y[ke];if(Ye=d[ke],y.hasOwnProperty(ke)&&(Ie!=null||Ye!=null))switch(ke){case"type":T=Ie;break;case"name":_=Ie;break;case"checked":Re=Ie;break;case"defaultChecked":Ve=Ie;break;case"value":q=Ie;break;case"defaultValue":ae=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(i(137,l));break;default:Ie!==Ye&&An(s,l,ke,Ie,y,Ye)}}po(s,q,ae,ye,Re,Ve,T,_);return;case"select":Ie=q=ae=ke=null;for(T in d)if(ye=d[T],d.hasOwnProperty(T)&&ye!=null)switch(T){case"value":break;case"multiple":Ie=ye;default:y.hasOwnProperty(T)||An(s,l,T,null,y,ye)}for(_ in y)if(T=y[_],ye=d[_],y.hasOwnProperty(_)&&(T!=null||ye!=null))switch(_){case"value":ke=T;break;case"defaultValue":ae=T;break;case"multiple":q=T;default:T!==ye&&An(s,l,_,T,y,ye)}l=ae,d=q,y=Ie,ke!=null?Oa(s,!!d,ke,!1):!!y!=!!d&&(l!=null?Oa(s,!!d,l,!0):Oa(s,!!d,d?[]:"",!1));return;case"textarea":Ie=ke=null;for(ae in d)if(_=d[ae],d.hasOwnProperty(ae)&&_!=null&&!y.hasOwnProperty(ae))switch(ae){case"value":break;case"children":break;default:An(s,l,ae,null,y,_)}for(q in y)if(_=y[q],T=d[q],y.hasOwnProperty(q)&&(_!=null||T!=null))switch(q){case"value":ke=_;break;case"defaultValue":Ie=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==T&&An(s,l,q,_,y,T)}Tu(s,ke,Ie);return;case"option":for(var Dt in d)if(ke=d[Dt],d.hasOwnProperty(Dt)&&ke!=null&&!y.hasOwnProperty(Dt))switch(Dt){case"selected":s.selected=!1;break;default:An(s,l,Dt,null,y,ke)}for(ye in y)if(ke=y[ye],Ie=d[ye],y.hasOwnProperty(ye)&&ke!==Ie&&(ke!=null||Ie!=null))switch(ye){case"selected":s.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:An(s,l,ye,ke,y,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in d)ke=d[At],d.hasOwnProperty(At)&&ke!=null&&!y.hasOwnProperty(At)&&An(s,l,At,null,y,ke);for(Re in y)if(ke=y[Re],Ie=d[Re],y.hasOwnProperty(Re)&&ke!==Ie&&(ke!=null||Ie!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(i(137,l));break;default:An(s,l,Re,ke,y,Ie)}return;default:if(bc(l)){for(var Tn in d)ke=d[Tn],d.hasOwnProperty(Tn)&&ke!==void 0&&!y.hasOwnProperty(Tn)&&Qg(s,l,Tn,void 0,y,ke);for(Ve in y)ke=y[Ve],Ie=d[Ve],!y.hasOwnProperty(Ve)||ke===Ie||ke===void 0&&Ie===void 0||Qg(s,l,Ve,ke,y,Ie);return}}for(var Ee in d)ke=d[Ee],d.hasOwnProperty(Ee)&&ke!=null&&!y.hasOwnProperty(Ee)&&An(s,l,Ee,null,y,ke);for(Ye in y)ke=y[Ye],Ie=d[Ye],!y.hasOwnProperty(Ye)||ke===Ie||ke==null&&Ie==null||An(s,l,Ye,ke,y,Ie)}var Zg=null,e0=null;function Cp(s){return s.nodeType===9?s:s.ownerDocument}function r2(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a2(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function t0(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var n0=null;function U3(){var s=window.event;return s&&s.type==="popstate"?s===n0?!1:(n0=s,!0):(n0=null,!1)}var s2=typeof setTimeout=="function"?setTimeout:void 0,B3=typeof clearTimeout=="function"?clearTimeout:void 0,o2=typeof Promise=="function"?Promise:void 0,z3=typeof queueMicrotask=="function"?queueMicrotask:typeof o2<"u"?function(s){return o2.resolve(null).then(s).catch(q3)}:s2;function q3(s){setTimeout(function(){throw s})}function jl(s){return s==="head"}function l2(s,l){var d=l,y=0,_=0;do{var T=d.nextSibling;if(s.removeChild(d),T&&T.nodeType===8)if(d=T.data,d==="/$"){if(0<y&&8>y){d=y;var q=s.ownerDocument;if(d&1&&Md(q.documentElement),d&2&&Md(q.body),d&4)for(d=q.head,Md(d),q=d.firstChild;q;){var ae=q.nextSibling,ye=q.nodeName;q[Cr]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&q.rel.toLowerCase()==="stylesheet"||d.removeChild(q),q=ae}}if(_===0){s.removeChild(T),Od(l);return}_--}else d==="$"||d==="$?"||d==="$!"?_++:y=d.charCodeAt(0)-48;else y=0;d=T}while(d);Od(l)}function i0(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":i0(d),Ar(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function V3(s,l,d,y){for(;s.nodeType===1;){var _=d;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!y&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(y){if(!s[Cr])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(T=s.getAttribute("rel"),T==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(T!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(T=s.getAttribute("src"),(T!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&T&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var T=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===T)return s}else return s;if(s=as(s.nextSibling),s===null)break}return null}function H3(s,l,d){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=as(s.nextSibling),s===null))return null;return s}function r0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function G3(s,l){var d=s.ownerDocument;if(s.data!=="$?"||d.readyState==="complete")l();else{var y=function(){l(),d.removeEventListener("DOMContentLoaded",y)};d.addEventListener("DOMContentLoaded",y),s._reactRetry=y}}function as(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var a0=null;function c2(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return s;l--}else d==="/$"&&l++}s=s.previousSibling}return null}function u2(s,l,d){switch(l=Cp(d),s){case"html":if(s=l.documentElement,!s)throw Error(i(452));return s;case"head":if(s=l.head,!s)throw Error(i(453));return s;case"body":if(s=l.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Md(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Ar(s)}var Ta=new Map,f2=new Set;function Ap(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Bo=G.d;G.d={f:$3,r:W3,D:Y3,C:J3,L:K3,m:X3,X:Z3,S:Q3,M:e4};function $3(){var s=Bo.f(),l=gp();return s||l}function W3(s){var l=Bi(s);l!==null&&l.tag===5&&l.type==="form"?Hc(l):Bo.r(s)}var sf=typeof document>"u"?null:document;function d2(s,l,d){var y=sf;if(y&&typeof l=="string"&&l){var _=Nn(l);_='link[rel="'+s+'"][href="'+_+'"]',typeof d=="string"&&(_+='[crossorigin="'+d+'"]'),f2.has(_)||(f2.add(_),s={rel:s,crossOrigin:d,href:l},y.querySelector(_)===null&&(l=y.createElement("link"),tr(l,"link",s),gn(l),y.head.appendChild(l)))}}function Y3(s){Bo.D(s),d2("dns-prefetch",s,null)}function J3(s,l){Bo.C(s,l),d2("preconnect",s,l)}function K3(s,l,d){Bo.L(s,l,d);var y=sf;if(y&&s&&l){var _='link[rel="preload"][as="'+Nn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(_+='[imagesrcset="'+Nn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(_+='[imagesizes="'+Nn(d.imageSizes)+'"]')):_+='[href="'+Nn(s)+'"]';var T=_;switch(l){case"style":T=of(s);break;case"script":T=lf(s)}Ta.has(T)||(s=h({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:s,as:l},d),Ta.set(T,s),y.querySelector(_)!==null||l==="style"&&y.querySelector(Pd(T))||l==="script"&&y.querySelector(Ld(T))||(l=y.createElement("link"),tr(l,"link",s),gn(l),y.head.appendChild(l)))}}function X3(s,l){Bo.m(s,l);var d=sf;if(d&&s){var y=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+Nn(y)+'"][href="'+Nn(s)+'"]',T=_;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=lf(s)}if(!Ta.has(T)&&(s=h({rel:"modulepreload",href:s},l),Ta.set(T,s),d.querySelector(_)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Ld(T)))return}y=d.createElement("link"),tr(y,"link",s),gn(y),d.head.appendChild(y)}}}function Q3(s,l,d){Bo.S(s,l,d);var y=sf;if(y&&s){var _=Li(y).hoistableStyles,T=of(s);l=l||"default";var q=_.get(T);if(!q){var ae={loading:0,preload:null};if(q=y.querySelector(Pd(T)))ae.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":l},d),(d=Ta.get(T))&&s0(s,d);var ye=q=y.createElement("link");gn(ye),tr(ye,"link",s),ye._p=new Promise(function(Re,Ve){ye.onload=Re,ye.onerror=Ve}),ye.addEventListener("load",function(){ae.loading|=1}),ye.addEventListener("error",function(){ae.loading|=2}),ae.loading|=4,Tp(q,l,y)}q={type:"stylesheet",instance:q,count:1,state:ae},_.set(T,q)}}}function Z3(s,l){Bo.X(s,l);var d=sf;if(d&&s){var y=Li(d).hoistableScripts,_=lf(s),T=y.get(_);T||(T=d.querySelector(Ld(_)),T||(s=h({src:s,async:!0},l),(l=Ta.get(_))&&o0(s,l),T=d.createElement("script"),gn(T),tr(T,"link",s),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(_,T))}}function e4(s,l){Bo.M(s,l);var d=sf;if(d&&s){var y=Li(d).hoistableScripts,_=lf(s),T=y.get(_);T||(T=d.querySelector(Ld(_)),T||(s=h({src:s,async:!0,type:"module"},l),(l=Ta.get(_))&&o0(s,l),T=d.createElement("script"),gn(T),tr(T,"link",s),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(_,T))}}function h2(s,l,d,y){var _=(_=fe.current)?Ap(_):null;if(!_)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=of(d.href),d=Li(_).hoistableStyles,y=d.get(l),y||(y={type:"style",instance:null,count:0,state:null},d.set(l,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=of(d.href);var T=Li(_).hoistableStyles,q=T.get(s);if(q||(_=_.ownerDocument||_,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(s,q),(T=_.querySelector(Pd(s)))&&!T._p&&(q.instance=T,q.state.loading=5),Ta.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ta.set(s,d),T||t4(_,s,d,q.state))),l&&y===null)throw Error(i(528,""));return q}if(l&&y!==null)throw Error(i(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=lf(d),d=Li(_).hoistableScripts,y=d.get(l),y||(y={type:"script",instance:null,count:0,state:null},d.set(l,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function of(s){return'href="'+Nn(s)+'"'}function Pd(s){return'link[rel="stylesheet"]['+s+"]"}function p2(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function t4(s,l,d,y){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?y.loading=1:(l=s.createElement("link"),y.preload=l,l.addEventListener("load",function(){return y.loading|=1}),l.addEventListener("error",function(){return y.loading|=2}),tr(l,"link",d),gn(l),s.head.appendChild(l))}function lf(s){return'[src="'+Nn(s)+'"]'}function Ld(s){return"script[async]"+s}function m2(s,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var y=s.querySelector('style[data-href~="'+Nn(d.href)+'"]');if(y)return l.instance=y,gn(y),y;var _=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return y=(s.ownerDocument||s).createElement("style"),gn(y),tr(y,"style",_),Tp(y,d.precedence,s),l.instance=y;case"stylesheet":_=of(d.href);var T=s.querySelector(Pd(_));if(T)return l.state.loading|=4,l.instance=T,gn(T),T;y=p2(d),(_=Ta.get(_))&&s0(y,_),T=(s.ownerDocument||s).createElement("link"),gn(T);var q=T;return q._p=new Promise(function(ae,ye){q.onload=ae,q.onerror=ye}),tr(T,"link",y),l.state.loading|=4,Tp(T,d.precedence,s),l.instance=T;case"script":return T=lf(d.src),(_=s.querySelector(Ld(T)))?(l.instance=_,gn(_),_):(y=d,(_=Ta.get(T))&&(y=h({},d),o0(y,_)),s=s.ownerDocument||s,_=s.createElement("script"),gn(_),tr(_,"link",y),s.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(y=l.instance,l.state.loading|=4,Tp(y,d.precedence,s));return l.instance}function Tp(s,l,d){for(var y=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=y.length?y[y.length-1]:null,T=_,q=0;q<y.length;q++){var ae=y[q];if(ae.dataset.precedence===l)T=ae;else if(T!==_)break}T?T.parentNode.insertBefore(s,T.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(s,l.firstChild))}function s0(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function o0(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Np=null;function g2(s,l,d){if(Np===null){var y=new Map,_=Np=new Map;_.set(d,y)}else _=Np,y=_.get(d),y||(y=new Map,_.set(d,y));if(y.has(s))return y;for(y.set(s,null),d=d.getElementsByTagName(s),_=0;_<d.length;_++){var T=d[_];if(!(T[Cr]||T[Sn]||s==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var q=T.getAttribute(l)||"";q=s+q;var ae=y.get(q);ae?ae.push(T):y.set(q,[T])}}return y}function y2(s,l,d){s=s.ownerDocument||s,s.head.insertBefore(d,l==="title"?s.querySelector("head > title"):null)}function n4(s,l,d){if(d===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function v2(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Dd=null;function i4(){}function r4(s,l,d){if(Dd===null)throw Error(i(475));var y=Dd;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var _=of(d.href),T=s.querySelector(Pd(_));if(T){s=T._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(y.count++,y=Ep.bind(y),s.then(y,y)),l.state.loading|=4,l.instance=T,gn(T);return}T=s.ownerDocument||s,d=p2(d),(_=Ta.get(_))&&s0(d,_),T=T.createElement("link"),gn(T);var q=T;q._p=new Promise(function(ae,ye){q.onload=ae,q.onerror=ye}),tr(T,"link",d),l.instance=T}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(y.count++,l=Ep.bind(y),s.addEventListener("load",l),s.addEventListener("error",l))}}function a4(){if(Dd===null)throw Error(i(475));var s=Dd;return s.stylesheets&&s.count===0&&l0(s,s.stylesheets),0<s.count?function(l){var d=setTimeout(function(){if(s.stylesheets&&l0(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(d)}}:null}function Ep(){if(this.count--,this.count===0){if(this.stylesheets)l0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Mp=null;function l0(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Mp=new Map,l.forEach(s4,s),Mp=null,Ep.call(s))}function s4(s,l){if(!(l.state.loading&4)){var d=Mp.get(s);if(d)var y=d.get(null);else{d=new Map,Mp.set(s,d);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<_.length;T++){var q=_[T];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(d.set(q.dataset.precedence,q),y=q)}y&&d.set(null,y)}_=l.instance,q=_.getAttribute("data-precedence"),T=d.get(q)||y,T===y&&d.set(null,_),d.set(q,_),this.count++,y=Ep.bind(this),_.addEventListener("load",y),_.addEventListener("error",y),T?T.parentNode.insertBefore(_,T.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),l.state.loading|=4}}var Rd={$$typeof:N,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function o4(s,l,d,y,_,T,q,ae){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.hiddenUpdates=wr(null),this.identifierPrefix=y,this.onUncaughtError=_,this.onCaughtError=T,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ae,this.incompleteTransitions=new Map}function x2(s,l,d,y,_,T,q,ae,ye,Re,Ve,Ye){return s=new o4(s,l,d,q,ae,ye,Re,Ye),l=1,T===!0&&(l|=24),T=qi(3,null,null,l),s.current=T,T.stateNode=s,l=nd(),l.refCount++,s.pooledCache=l,l.refCount++,T.memoizedState={element:y,isDehydrated:d,cache:l},Se(T),s}function b2(s){return s?(s=Ti,s):Ti}function w2(s,l,d,y,_,T){_=b2(_),y.context===null?y.context=_:y.pendingContext=_,y=ze(l),y.payload={element:d},T=T===void 0?null:T,T!==null&&(y.callback=T),d=We(s,y,l),d!==null&&(la(d,s,l),He(d,s,l))}function _2(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function c0(s,l){_2(s,l),(s=s.alternate)&&_2(s,l)}function S2(s){if(s.tag===13){var l=$a(s,67108864);l!==null&&la(l,s,67108864),c0(s,67108864)}}var Pp=!0;function l4(s,l,d,y){var _=z.T;z.T=null;var T=G.p;try{G.p=2,u0(s,l,d,y)}finally{G.p=T,z.T=_}}function c4(s,l,d,y){var _=z.T;z.T=null;var T=G.p;try{G.p=8,u0(s,l,d,y)}finally{G.p=T,z.T=_}}function u0(s,l,d,y){if(Pp){var _=f0(y);if(_===null)Xg(s,l,y,Lp,d),A2(s,y);else if(f4(_,s,l,d,y))y.stopPropagation();else if(A2(s,y),l&4&&-1<u4.indexOf(s)){for(;_!==null;){var T=Bi(_);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var q=Zt(T.pendingLanes);if(q!==0){var ae=T;for(ae.pendingLanes|=2,ae.entangledLanes|=2;q;){var ye=1<<31-nt(q);ae.entanglements[1]|=ye,q&=~ye}Js(T),(vn&6)===0&&(pp=Ue()+500,Td(0))}}break;case 13:ae=$a(T,2),ae!==null&&la(ae,T,2),gp(),c0(T,2)}if(T=f0(y),T===null&&Xg(s,l,y,Lp,d),T===_)break;_=T}_!==null&&y.stopPropagation()}else Xg(s,l,y,null,d)}}function f0(s){return s=Si(s),d0(s)}var Lp=null;function d0(s){if(Lp=null,s=Ui(s),s!==null){var l=a(s);if(l===null)s=null;else{var d=l.tag;if(d===13){if(s=o(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Lp=s,null}function C2(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ot()){case qe:return 2;case Xe:return 8;case Qe:case Ze:return 32;case ft:return 268435456;default:return 32}default:return 32}}var h0=!1,Ul=null,Bl=null,zl=null,kd=new Map,Id=new Map,ql=[],u4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A2(s,l){switch(s){case"focusin":case"focusout":Ul=null;break;case"dragenter":case"dragleave":Bl=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":kd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Id.delete(l.pointerId)}}function Fd(s,l,d,y,_,T){return s===null||s.nativeEvent!==T?(s={blockedOn:l,domEventName:d,eventSystemFlags:y,nativeEvent:T,targetContainers:[_]},l!==null&&(l=Bi(l),l!==null&&S2(l)),s):(s.eventSystemFlags|=y,l=s.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),s)}function f4(s,l,d,y,_){switch(l){case"focusin":return Ul=Fd(Ul,s,l,d,y,_),!0;case"dragenter":return Bl=Fd(Bl,s,l,d,y,_),!0;case"mouseover":return zl=Fd(zl,s,l,d,y,_),!0;case"pointerover":var T=_.pointerId;return kd.set(T,Fd(kd.get(T)||null,s,l,d,y,_)),!0;case"gotpointercapture":return T=_.pointerId,Id.set(T,Fd(Id.get(T)||null,s,l,d,y,_)),!0}return!1}function T2(s){var l=Ui(s.target);if(l!==null){var d=a(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){s.blockedOn=l,fa(s.priority,function(){if(d.tag===13){var y=oa();y=ka(y);var _=$a(d,y);_!==null&&la(_,d,y),c0(d,y)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Dp(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=f0(s.nativeEvent);if(d===null){d=s.nativeEvent;var y=new d.constructor(d.type,d);il=y,d.target.dispatchEvent(y),il=null}else return l=Bi(d),l!==null&&S2(l),s.blockedOn=d,!1;l.shift()}return!0}function N2(s,l,d){Dp(s)&&d.delete(l)}function d4(){h0=!1,Ul!==null&&Dp(Ul)&&(Ul=null),Bl!==null&&Dp(Bl)&&(Bl=null),zl!==null&&Dp(zl)&&(zl=null),kd.forEach(N2),Id.forEach(N2)}function Rp(s,l){s.blockedOn===l&&(s.blockedOn=null,h0||(h0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,d4)))}var kp=null;function E2(s){kp!==s&&(kp=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kp===s&&(kp=null);for(var l=0;l<s.length;l+=3){var d=s[l],y=s[l+1],_=s[l+2];if(typeof y!="function"){if(d0(y||d)===null)continue;break}var T=Bi(d);T!==null&&(s.splice(l,3),l-=3,Sa(T,{pending:!0,data:_,method:d.method,action:y},y,_))}}))}function Od(s){function l(ye){return Rp(ye,s)}Ul!==null&&Rp(Ul,s),Bl!==null&&Rp(Bl,s),zl!==null&&Rp(zl,s),kd.forEach(l),Id.forEach(l);for(var d=0;d<ql.length;d++){var y=ql[d];y.blockedOn===s&&(y.blockedOn=null)}for(;0<ql.length&&(d=ql[0],d.blockedOn===null);)T2(d),d.blockedOn===null&&ql.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(y=0;y<d.length;y+=3){var _=d[y],T=d[y+1],q=_[On]||null;if(typeof T=="function")q||E2(d);else if(q){var ae=null;if(T&&T.hasAttribute("formAction")){if(_=T,q=T[On]||null)ae=q.formAction;else if(d0(_)!==null)continue}else ae=q.action;typeof ae=="function"?d[y+1]=ae:(d.splice(y,3),y-=3),E2(d)}}}function p0(s){this._internalRoot=s}Ip.prototype.render=p0.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(i(409));var d=l.current,y=oa();w2(d,y,s,l,null,null)},Ip.prototype.unmount=p0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;w2(s.current,2,null,s,null,null),gp(),l[di]=null}};function Ip(s){this._internalRoot=s}Ip.prototype.unstable_scheduleHydration=function(s){if(s){var l=Wr();s={blockedOn:null,target:s,priority:l};for(var d=0;d<ql.length&&l!==0&&l<ql[d].priority;d++);ql.splice(d,0,s),d===0&&T2(s)}};var M2=e.version;if(M2!=="19.1.0")throw Error(i(527,M2,"19.1.0"));G.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=u(l),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var h4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fp.isDisabled&&Fp.supportsFiber)try{dt=Fp.inject(h4),yt=Fp}catch{}}return Ud.createRoot=function(s,l){if(!r(s))throw Error(i(299));var d=!1,y="",_=Gy,T=$y,q=Wy,ae=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(q=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(ae=l.unstable_transitionCallbacks)),l=x2(s,1,!1,null,null,d,y,_,T,q,ae,null),s[di]=l.current,Kg(s),new p0(l)},Ud.hydrateRoot=function(s,l,d){if(!r(s))throw Error(i(299));var y=!1,_="",T=Gy,q=$y,ae=Wy,ye=null,Re=null;return d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(q=d.onCaughtError),d.onRecoverableError!==void 0&&(ae=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ye=d.unstable_transitionCallbacks),d.formState!==void 0&&(Re=d.formState)),l=x2(s,1,!0,l,d??null,y,_,T,q,ae,ye,Re),l.context=b2(null),d=l.current,y=oa(),y=ka(y),_=ze(y),_.callback=null,We(d,_,y),d=y,l.current.lanes=d,_r(l,d),Js(l),s[di]=l.current,Kg(s),new Ip(l)},Ud.version="19.1.0",Ud}var U2;function T4(){if(U2)return y0.exports;U2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),y0.exports=A4(),y0.exports}var N4=T4();const E4=Wm(N4);var Bd={},B2;function M4(){if(B2)return Bd;B2=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.parse=o,Bd.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function o(x,b){const A=new a,C=x.length;if(C<2)return A;const P=(b==null?void 0:b.decode)||h;let M=0;do{const L=x.indexOf("=",M);if(L===-1)break;const N=x.indexOf(";",M),R=N===-1?C:N;if(L>R){M=x.lastIndexOf(";",L-1)+1;continue}const F=c(x,M,L),Y=u(x,L,F),B=x.slice(F,Y);if(A[B]===void 0){let V=c(x,L+1,R),X=u(x,R,V);const K=P(x.slice(V,X));A[B]=K}M=R+1}while(M<C);return A}function c(x,b,A){do{const C=x.charCodeAt(b);if(C!==32&&C!==9)return b}while(++b<A);return A}function u(x,b,A){for(;b>A;){const C=x.charCodeAt(--b);if(C!==32&&C!==9)return b+1}return A}function f(x,b,A){const C=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const P=C(b);if(!e.test(P))throw new TypeError(`argument val is invalid: ${b}`);let M=x+"="+P;if(!A)return M;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);M+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);M+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);M+="; Path="+A.path}if(A.expires){if(!g(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);M+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(M+="; HttpOnly"),A.secure&&(M+="; Secure"),A.partitioned&&(M+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return M}function h(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function g(x){return r.call(x)==="[object Date]"}return Bd}M4();var z2="popstate";function P4(t={}){function e(r,a){let{pathname:o="/",search:c="",hash:u=""}=yu(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),e1("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){let o=r.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let u=r.location.href,f=u.indexOf("#");c=f===-1?u:u.slice(0,f)}return c+"#"+(typeof a=="string"?a:_h(a))}function i(r,a){La(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return D4(e,n,i,t)}function Jn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function La(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L4(){return Math.random().toString(36).substring(2,10)}function q2(t,e){return{usr:t.state,key:t.key,idx:e}}function e1(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?yu(e):e,state:n,key:e&&e.key||i||L4()}}function _h({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function D4(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,c="POP",u=null,f=h();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function h(){return(o.state||{idx:null}).idx}function g(){c="POP";let P=h(),M=P==null?null:P-f;f=P,u&&u({action:c,location:C.location,delta:M})}function x(P,M){c="PUSH";let L=e1(C.location,P,M);n&&n(L,P),f=h()+1;let N=q2(L,f),R=C.createHref(L);try{o.pushState(N,"",R)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;r.location.assign(R)}a&&u&&u({action:c,location:C.location,delta:1})}function b(P,M){c="REPLACE";let L=e1(C.location,P,M);n&&n(L,P),f=h();let N=q2(L,f),R=C.createHref(L);o.replaceState(N,"",R),a&&u&&u({action:c,location:C.location,delta:0})}function A(P){return R4(P)}let C={get action(){return c},get location(){return t(r,o)},listen(P){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(z2,g),u=P,()=>{r.removeEventListener(z2,g),u=null}},createHref(P){return e(r,P)},createURL:A,encodeLocation(P){let M=A(P);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:x,replace:b,go(P){return o.go(P)}};return C}function R4(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Jn(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:_h(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Nw(t,e,n="/"){return k4(t,e,n,!1)}function k4(t,e,n,i){let r=typeof e=="string"?yu(e):e,a=Ko(r.pathname||"/",n);if(a==null)return null;let o=Ew(t);I4(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let f=$4(a);c=H4(o[u],f,i)}return c}function Ew(t,e=[],n=[],i=""){let r=(a,o,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(Jn(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length));let f=Jo([i,u.relativePath]),h=n.concat(u);a.children&&a.children.length>0&&(Jn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Ew(a.children,e,h,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:q4(f,a.index),routesMeta:h})};return t.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))r(a,o);else for(let u of Mw(a.path))r(a,o,u)}),e}function Mw(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let o=Mw(i.join("/")),c=[];return c.push(...o.map(u=>u===""?a:[a,u].join("/"))),r&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function I4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:V4(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var F4=/^:[\w-]+$/,O4=3,j4=2,U4=1,B4=10,z4=-2,V2=t=>t==="*";function q4(t,e){let n=t.split("/"),i=n.length;return n.some(V2)&&(i+=z4),e&&(i+=j4),n.filter(r=>!V2(r)).reduce((r,a)=>r+(F4.test(a)?O4:a===""?U4:B4),i)}function V4(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function H4(t,e,n=!1){let{routesMeta:i}=t,r={},a="/",o=[];for(let c=0;c<i.length;++c){let u=i[c],f=c===i.length-1,h=a==="/"?e:e.slice(a.length)||"/",g=Nm({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),x=u.route;if(!g&&f&&n&&!i[i.length-1].route.index&&(g=Nm({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!g)return null;Object.assign(r,g.params),o.push({params:r,pathname:Jo([a,g.pathname]),pathnameBase:K4(Jo([a,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(a=Jo([a,g.pathnameBase]))}return o}function Nm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=G4(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((f,{paramName:h,isOptional:g},x)=>{if(h==="*"){let A=c[x]||"";o=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const b=c[x];return g&&!b?f[h]=void 0:f[h]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:t}}function G4(t,e=!1,n=!0){La(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function $4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return La(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ko(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function W4(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?yu(t):t;return{pathname:n?n.startsWith("/")?n:Y4(n,e):e,search:X4(i),hash:Q4(r)}}function Y4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function w0(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function J4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function G1(t){let e=J4(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function $1(t,e,n,i=!1){let r;typeof t=="string"?r=yu(t):(r={...t},Jn(!r.pathname||!r.pathname.includes("?"),w0("?","pathname","search",r)),Jn(!r.pathname||!r.pathname.includes("#"),w0("#","pathname","hash",r)),Jn(!r.search||!r.search.includes("#"),w0("#","search","hash",r)));let a=t===""||r.pathname==="",o=a?"/":r.pathname,c;if(o==null)c=n;else{let g=e.length-1;if(!i&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),g-=1;r.pathname=x.join("/")}c=g>=0?e[g]:"/"}let u=W4(r,c),f=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var Jo=t=>t.join("/").replace(/\/\/+/g,"/"),K4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),X4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Q4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Z4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Pw=["POST","PUT","PATCH","DELETE"];new Set(Pw);var eC=["GET",...Pw];new Set(eC);var jf=pe.createContext(null);jf.displayName="DataRouter";var Ym=pe.createContext(null);Ym.displayName="DataRouterState";var Lw=pe.createContext({isTransitioning:!1});Lw.displayName="ViewTransition";var tC=pe.createContext(new Map);tC.displayName="Fetchers";var nC=pe.createContext(null);nC.displayName="Await";var ds=pe.createContext(null);ds.displayName="Navigation";var Rh=pe.createContext(null);Rh.displayName="Location";var hs=pe.createContext({outlet:null,matches:[],isDataRoute:!1});hs.displayName="Route";var W1=pe.createContext(null);W1.displayName="RouteError";function iC(t,{relative:e}={}){Jn(Uf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=pe.useContext(ds),{hash:r,pathname:a,search:o}=kh(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:Jo([n,a])),i.createHref({pathname:c,search:o,hash:r})}function Uf(){return pe.useContext(Rh)!=null}function fc(){return Jn(Uf(),"useLocation() may be used only in the context of a <Router> component."),pe.useContext(Rh).location}var Dw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rw(t){pe.useContext(ds).static||pe.useLayoutEffect(t)}function Bf(){let{isDataRoute:t}=pe.useContext(hs);return t?yC():rC()}function rC(){Jn(Uf(),"useNavigate() may be used only in the context of a <Router> component.");let t=pe.useContext(jf),{basename:e,navigator:n}=pe.useContext(ds),{matches:i}=pe.useContext(hs),{pathname:r}=fc(),a=JSON.stringify(G1(i)),o=pe.useRef(!1);return Rw(()=>{o.current=!0}),pe.useCallback((u,f={})=>{if(La(o.current,Dw),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=$1(u,JSON.parse(a),r,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Jo([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,a,r,t])}pe.createContext(null);function aC(){let{matches:t}=pe.useContext(hs),e=t[t.length-1];return e?e.params:{}}function kh(t,{relative:e}={}){let{matches:n}=pe.useContext(hs),{pathname:i}=fc(),r=JSON.stringify(G1(n));return pe.useMemo(()=>$1(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function sC(t,e){return kw(t,e)}function kw(t,e,n,i){var M;Jn(Uf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=pe.useContext(ds),{matches:a}=pe.useContext(hs),o=a[a.length-1],c=o?o.params:{},u=o?o.pathname:"/",f=o?o.pathnameBase:"/",h=o&&o.route;{let L=h&&h.path||"";Iw(u,!h||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let g=fc(),x;if(e){let L=typeof e=="string"?yu(e):e;Jn(f==="/"||((M=L.pathname)==null?void 0:M.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${L.pathname}" was given in the \`location\` prop.`),x=L}else x=g;let b=x.pathname||"/",A=b;if(f!=="/"){let L=f.replace(/^\//,"").split("/");A="/"+b.replace(/^\//,"").split("/").slice(L.length).join("/")}let C=Nw(t,{pathname:A});La(h||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),La(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=fC(C&&C.map(L=>Object.assign({},L,{params:Object.assign({},c,L.params),pathname:Jo([f,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?f:Jo([f,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),a,n,i);return e&&P?pe.createElement(Rh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},P):P}function oC(){let t=gC(),e=Z4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=pe.createElement(pe.Fragment,null,pe.createElement("p",null,"💿 Hey developer 👋"),pe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",pe.createElement("code",{style:a},"ErrorBoundary")," or"," ",pe.createElement("code",{style:a},"errorElement")," prop on your route.")),pe.createElement(pe.Fragment,null,pe.createElement("h2",null,"Unexpected Application Error!"),pe.createElement("h3",{style:{fontStyle:"italic"}},e),n?pe.createElement("pre",{style:r},n):null,o)}var lC=pe.createElement(oC,null),cC=class extends pe.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?pe.createElement(hs.Provider,{value:this.props.routeContext},pe.createElement(W1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uC({routeContext:t,match:e,children:n}){let i=pe.useContext(jf);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),pe.createElement(hs.Provider,{value:t},n)}function fC(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,a=n==null?void 0:n.errors;if(a!=null){let u=r.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);Jn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let o=!1,c=-1;if(n)for(let u=0;u<r.length;u++){let f=r[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:g}=n,x=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){o=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((u,f,h)=>{let g,x=!1,b=null,A=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||lC,o&&(c<0&&h===0?(Iw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,A=null):c===h&&(x=!0,A=f.route.hydrateFallbackElement||null)));let C=e.concat(r.slice(0,h+1)),P=()=>{let M;return g?M=b:x?M=A:f.route.Component?M=pe.createElement(f.route.Component,null):f.route.element?M=f.route.element:M=u,pe.createElement(uC,{match:f,routeContext:{outlet:u,matches:C,isDataRoute:n!=null},children:M})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?pe.createElement(cC,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:P(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):P()},null)}function Y1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dC(t){let e=pe.useContext(jf);return Jn(e,Y1(t)),e}function hC(t){let e=pe.useContext(Ym);return Jn(e,Y1(t)),e}function pC(t){let e=pe.useContext(hs);return Jn(e,Y1(t)),e}function J1(t){let e=pC(t),n=e.matches[e.matches.length-1];return Jn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function mC(){return J1("useRouteId")}function gC(){var i;let t=pe.useContext(W1),e=hC("useRouteError"),n=J1("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function yC(){let{router:t}=dC("useNavigate"),e=J1("useNavigate"),n=pe.useRef(!1);return Rw(()=>{n.current=!0}),pe.useCallback(async(r,a={})=>{La(n.current,Dw),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...a}))},[t,e])}var H2={};function Iw(t,e,n){!e&&!H2[t]&&(H2[t]=!0,La(!1,n))}pe.memo(vC);function vC({routes:t,future:e,state:n}){return kw(t,void 0,n,e)}function zd({to:t,replace:e,state:n,relative:i}){Jn(Uf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=pe.useContext(ds);La(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=pe.useContext(hs),{pathname:o}=fc(),c=Bf(),u=$1(t,G1(a),o,i==="path"),f=JSON.stringify(u);return pe.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:i})},[c,f,i,e,n]),null}function ki(t){Jn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:a=!1}){Jn(!Uf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=pe.useMemo(()=>({basename:o,navigator:r,static:a,future:{}}),[o,r,a]);typeof n=="string"&&(n=yu(n));let{pathname:u="/",search:f="",hash:h="",state:g=null,key:x="default"}=n,b=pe.useMemo(()=>{let A=Ko(u,o);return A==null?null:{location:{pathname:A,search:f,hash:h,state:g,key:x},navigationType:i}},[o,u,f,h,g,x,i]);return La(b!=null,`<Router basename="${o}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:pe.createElement(ds.Provider,{value:c},pe.createElement(Rh.Provider,{children:e,value:b}))}function G2({children:t,location:e}){return sC(t1(t),e)}function t1(t,e=[]){let n=[];return pe.Children.forEach(t,(i,r)=>{if(!pe.isValidElement(i))return;let a=[...e,r];if(i.type===pe.Fragment){n.push.apply(n,t1(i.props.children,a));return}Jn(i.type===ki,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=t1(i.props.children,a)),n.push(o)}),n}var gm="get",ym="application/x-www-form-urlencoded";function Jm(t){return t!=null&&typeof t.tagName=="string"}function bC(t){return Jm(t)&&t.tagName.toLowerCase()==="button"}function wC(t){return Jm(t)&&t.tagName.toLowerCase()==="form"}function _C(t){return Jm(t)&&t.tagName.toLowerCase()==="input"}function SC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CC(t,e){return t.button===0&&(!e||e==="_self")&&!SC(t)}var Op=null;function AC(){if(Op===null)try{new FormData(document.createElement("form"),0),Op=!1}catch{Op=!0}return Op}var TC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _0(t){return t!=null&&!TC.has(t)?(La(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ym}"`),null):t}function NC(t,e){let n,i,r,a,o;if(wC(t)){let c=t.getAttribute("action");i=c?Ko(c,e):null,n=t.getAttribute("method")||gm,r=_0(t.getAttribute("enctype"))||ym,a=new FormData(t)}else if(bC(t)||_C(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(i=u?Ko(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||gm,r=_0(t.getAttribute("formenctype"))||_0(c.getAttribute("enctype"))||ym,a=new FormData(c,t),!AC()){let{name:f,type:h,value:g}=t;if(h==="image"){let x=f?`${f}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else f&&a.append(f,g)}}else{if(Jm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gm,i=null,r=ym,o=t}return a&&r==="text/plain"&&(o=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:o}}function K1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function EC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function PC(t,e,n){let i=await Promise.all(t.map(async r=>{let a=e.routes[r.route.id];if(a){let o=await EC(a,n);return o.links?o.links():[]}return[]}));return kC(i.flat(1).filter(MC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function $2(t,e,n,i,r,a){let o=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,c=(u,f)=>{var h;return n[f].pathname!==u.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,f)=>o(u,f)||c(u,f)):a==="data"?e.filter((u,f)=>{var g;let h=i.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let x=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function LC(t,e,{includeHydrateFallback:n}={}){return DC(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function DC(t){return[...new Set(t)]}function RC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function kC(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let a=JSON.stringify(RC(r));return n.has(a)||(n.add(a),i.push({key:a,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var IC=new Set([100,101,204,205]);function FC(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ko(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Fw(){let t=pe.useContext(jf);return K1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function OC(){let t=pe.useContext(Ym);return K1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var X1=pe.createContext(void 0);X1.displayName="FrameworkContext";function Ow(){let t=pe.useContext(X1);return K1(t,"You must render this element inside a <HydratedRouter> element"),t}function jC(t,e){let n=pe.useContext(X1),[i,r]=pe.useState(!1),[a,o]=pe.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:g}=e,x=pe.useRef(null);pe.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let C=M=>{M.forEach(L=>{o(L.isIntersecting)})},P=new IntersectionObserver(C,{threshold:.5});return x.current&&P.observe(x.current),()=>{P.disconnect()}}},[t]),pe.useEffect(()=>{if(i){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[i]);let b=()=>{r(!0)},A=()=>{r(!1),o(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:qd(c,b),onBlur:qd(u,A),onMouseEnter:qd(f,b),onMouseLeave:qd(h,A),onTouchStart:qd(g,b)}]:[!1,x,{}]}function qd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function UC({page:t,...e}){let{router:n}=Fw(),i=pe.useMemo(()=>Nw(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?pe.createElement(zC,{page:t,matches:i,...e}):null}function BC(t){let{manifest:e,routeModules:n}=Ow(),[i,r]=pe.useState([]);return pe.useEffect(()=>{let a=!1;return PC(t,e,n).then(o=>{a||r(o)}),()=>{a=!0}},[t,e,n]),i}function zC({page:t,matches:e,...n}){let i=fc(),{manifest:r,routeModules:a}=Ow(),{basename:o}=Fw(),{loaderData:c,matches:u}=OC(),f=pe.useMemo(()=>$2(t,e,u,r,i,"data"),[t,e,u,r,i]),h=pe.useMemo(()=>$2(t,e,u,r,i,"assets"),[t,e,u,r,i]),g=pe.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let A=new Set,C=!1;if(e.forEach(M=>{var N;let L=r.routes[M.route.id];!L||!L.hasLoader||(!f.some(R=>R.route.id===M.route.id)&&M.route.id in c&&((N=a[M.route.id])!=null&&N.shouldRevalidate)||L.hasClientLoader?C=!0:A.add(M.route.id))}),A.size===0)return[];let P=FC(t,o);return C&&A.size>0&&P.searchParams.set("_routes",e.filter(M=>A.has(M.route.id)).map(M=>M.route.id).join(",")),[P.pathname+P.search]},[o,c,i,r,f,e,t,a]),x=pe.useMemo(()=>LC(h,r),[h,r]),b=BC(h);return pe.createElement(pe.Fragment,null,g.map(A=>pe.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),x.map(A=>pe.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),b.map(({key:A,link:C})=>pe.createElement("link",{key:A,...C})))}function qC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var jw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jw&&(window.__reactRouterVersion="7.6.3")}catch{}function W2({basename:t,children:e,window:n}){let i=pe.useRef();i.current==null&&(i.current=P4({window:n,v5Compat:!0}));let r=i.current,[a,o]=pe.useState({action:r.action,location:r.location}),c=pe.useCallback(u=>{pe.startTransition(()=>o(u))},[o]);return pe.useLayoutEffect(()=>r.listen(c),[r,c]),pe.createElement(xC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:r})}var Uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jl=pe.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:a,replace:o,state:c,target:u,to:f,preventScrollReset:h,viewTransition:g,...x},b){let{basename:A}=pe.useContext(ds),C=typeof f=="string"&&Uw.test(f),P,M=!1;if(typeof f=="string"&&C&&(P=f,jw))try{let X=new URL(window.location.href),K=f.startsWith("//")?new URL(X.protocol+f):new URL(f),O=Ko(K.pathname,A);K.origin===X.origin&&O!=null?f=O+K.search+K.hash:M=!0}catch{La(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=iC(f,{relative:r}),[N,R,F]=jC(i,x),Y=GC(f,{replace:o,state:c,target:u,preventScrollReset:h,relative:r,viewTransition:g});function B(X){e&&e(X),X.defaultPrevented||Y(X)}let V=pe.createElement("a",{...x,...F,href:P||L,onClick:M||a?e:B,ref:qC(b,R),target:u,"data-discover":!C&&n==="render"?"true":void 0});return N&&!C?pe.createElement(pe.Fragment,null,V,pe.createElement(UC,{page:L})):V});Jl.displayName="Link";var Bw=pe.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:a,to:o,viewTransition:c,children:u,...f},h){let g=kh(o,{relative:f.relative}),x=fc(),b=pe.useContext(Ym),{navigator:A,basename:C}=pe.useContext(ds),P=b!=null&&KC(g)&&c===!0,M=A.encodeLocation?A.encodeLocation(g).pathname:g.pathname,L=x.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(L=L.toLowerCase(),N=N?N.toLowerCase():null,M=M.toLowerCase()),N&&C&&(N=Ko(N,C)||N);const R=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let F=L===M||!r&&L.startsWith(M)&&L.charAt(R)==="/",Y=N!=null&&(N===M||!r&&N.startsWith(M)&&N.charAt(M.length)==="/"),B={isActive:F,isPending:Y,isTransitioning:P},V=F?e:void 0,X;typeof i=="function"?X=i(B):X=[i,F?"active":null,Y?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a(B):a;return pe.createElement(Jl,{...f,"aria-current":V,className:X,ref:h,style:K,to:o,viewTransition:c},typeof u=="function"?u(B):u)});Bw.displayName="NavLink";var VC=pe.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:a,method:o=gm,action:c,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:g,...x},b)=>{let A=YC(),C=JC(c,{relative:f}),P=o.toLowerCase()==="get"?"get":"post",M=typeof c=="string"&&Uw.test(c),L=N=>{if(u&&u(N),N.defaultPrevented)return;N.preventDefault();let R=N.nativeEvent.submitter,F=(R==null?void 0:R.getAttribute("formmethod"))||o;A(R||N.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:r,state:a,relative:f,preventScrollReset:h,viewTransition:g})};return pe.createElement("form",{ref:b,method:P,action:C,onSubmit:i?u:L,...x,"data-discover":!M&&t==="render"?"true":void 0})});VC.displayName="Form";function HC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zw(t){let e=pe.useContext(jf);return Jn(e,HC(t)),e}function GC(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:a,viewTransition:o}={}){let c=Bf(),u=fc(),f=kh(t,{relative:a});return pe.useCallback(h=>{if(CC(h,e)){h.preventDefault();let g=n!==void 0?n:_h(u)===_h(f);c(t,{replace:g,state:i,preventScrollReset:r,relative:a,viewTransition:o})}},[u,c,f,n,i,e,t,r,a,o])}var $C=0,WC=()=>`__${String(++$C)}__`;function YC(){let{router:t}=zw("useSubmit"),{basename:e}=pe.useContext(ds),n=mC();return pe.useCallback(async(i,r={})=>{let{action:a,method:o,encType:c,formData:u,body:f}=NC(i,e);if(r.navigate===!1){let h=r.fetcherKey||WC();await t.fetch(h,n,r.action||a,{preventScrollReset:r.preventScrollReset,formData:u,body:f,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await t.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:u,body:f,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function JC(t,{relative:e}={}){let{basename:n}=pe.useContext(ds),i=pe.useContext(hs);Jn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...kh(t||".",{relative:e})},o=fc();if(t==null){a.search=o.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(h=>h==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let h=c.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Jo([n,a.pathname])),_h(a)}function KC(t,e={}){let n=pe.useContext(Lw);Jn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=zw("useViewTransitionState"),r=kh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Ko(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Ko(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Nm(r.pathname,o)!=null||Nm(r.pathname,a)!=null}[...IC];const XC="modulepreload",QC=function(t){return"/"+t},Y2={},sc=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let o=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=o(n.map(f=>{if(f=QC(f),f in Y2)return;Y2[f]=!0;const h=f.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":XC,h||(x.as="script"),x.crossOrigin="",x.href=f,u&&x.setAttribute("nonce",u),document.head.appendChild(x),h)return new Promise((b,A)=>{x.addEventListener("load",b),x.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return r.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},ZC=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>sc(async()=>{const{default:i}=await Promise.resolve().then(()=>zf);return{default:i}},[]).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class Q1 extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class eA extends Q1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class J2 extends Q1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class K2 extends Q1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var n1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(n1||(n1={}));var tA=function(t,e,n,i){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(h){try{f(i.next(h))}catch(g){o(g)}}function u(h){try{f(i.throw(h))}catch(g){o(g)}}function f(h){h.done?a(h.value):r(h.value).then(c,u)}f((i=i.apply(t,e||[])).next())})};class nA{constructor(e,{headers:n={},customFetch:i,region:r=n1.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=ZC(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return tA(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:o}=n;let c={},{region:u}=n;u||(u=this.region);const f=new URL(`${this.url}/${e}`);u&&u!=="any"&&(c["x-region"]=u,f.searchParams.set("forceFunctionRegion",u));let h;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(c["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(c["Content-Type"]="application/json",h=JSON.stringify(o)));const g=yield this.fetch(f.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:h}).catch(C=>{throw new eA(C)}),x=g.headers.get("x-relay-error");if(x&&x==="true")throw new J2(g);if(!g.ok)throw new K2(g);let b=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),A;return b==="application/json"?A=yield g.json():b==="application/octet-stream"?A=yield g.blob():b==="text/event-stream"?A=g:b==="multipart/form-data"?A=yield g.formData():A=yield g.text(),{data:A,error:null,response:g}}catch(r){return{data:null,error:r,response:r instanceof K2||r instanceof J2?r.context:void 0}}})}}var $i={},cf={},uf={},ff={},df={},hf={},iA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},If=iA();const rA=If.fetch,qw=If.fetch.bind(If),Vw=If.Headers,aA=If.Request,sA=If.Response,zf=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vw,Request:aA,Response:sA,default:qw,fetch:rA},Symbol.toStringTag,{value:"Module"})),oA=Tw(zf);var jp={},X2;function Hw(){if(X2)return jp;X2=1,Object.defineProperty(jp,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return jp.default=t,jp}var Q2;function Gw(){if(Q2)return hf;Q2=1;var t=hf&&hf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hf,"__esModule",{value:!0});const e=t(oA),n=t(Hw());class i{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=Object.assign({},this.headers),this.headers[a]=o,this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let u=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,g,x;let b=null,A=null,C=null,P=f.status,M=f.statusText;if(f.ok){if(this.method!=="HEAD"){const F=await f.text();F===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?A=F:A=JSON.parse(F))}const N=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),R=(g=f.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");N&&R&&R.length>1&&(C=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(b={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,C=null,P=406,M="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const N=await f.text();try{b=JSON.parse(N),Array.isArray(b)&&f.status===404&&(A=[],b=null,P=200,M="OK")}catch{f.status===404&&N===""?(P=204,M="No Content"):b={message:N}}if(b&&this.isMaybeSingle&&(!((x=b==null?void 0:b.details)===null||x===void 0)&&x.includes("0 rows"))&&(b=null,P=200,M="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:A,count:C,status:P,statusText:M}});return this.shouldThrowOnError||(u=u.catch(f=>{var h,g,x;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(g=f==null?void 0:f.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(x=f==null?void 0:f.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),u.then(a,o)}returns(){return this}overrideTypes(){return this}}return hf.default=i,hf}var Z2;function $w(){if(Z2)return df;Z2=1;var t=df&&df.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(df,"__esModule",{value:!0});const e=t(Gw());class n extends e.default{select(r){let a=!1;const o=(r??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:a=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const f=u?`${u}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${r}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${r}`),this}range(r,a,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${r}`),this.url.searchParams.set(f,`${a-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:a=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:f="text"}={}){var h;const g=[r?"analyze":null,a?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),x=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${x}"; options=${g};`,f==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return df.default=n,df}var ex;function Z1(){if(ex)return ff;ex=1;var t=ff&&ff.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ff,"__esModule",{value:!0});const e=t($w());class n extends e.default{eq(r,a){return this.url.searchParams.append(r,`eq.${a}`),this}neq(r,a){return this.url.searchParams.append(r,`neq.${a}`),this}gt(r,a){return this.url.searchParams.append(r,`gt.${a}`),this}gte(r,a){return this.url.searchParams.append(r,`gte.${a}`),this}lt(r,a){return this.url.searchParams.append(r,`lt.${a}`),this}lte(r,a){return this.url.searchParams.append(r,`lte.${a}`),this}like(r,a){return this.url.searchParams.append(r,`like.${a}`),this}likeAllOf(r,a){return this.url.searchParams.append(r,`like(all).{${a.join(",")}}`),this}likeAnyOf(r,a){return this.url.searchParams.append(r,`like(any).{${a.join(",")}}`),this}ilike(r,a){return this.url.searchParams.append(r,`ilike.${a}`),this}ilikeAllOf(r,a){return this.url.searchParams.append(r,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(r,a){return this.url.searchParams.append(r,`ilike(any).{${a.join(",")}}`),this}is(r,a){return this.url.searchParams.append(r,`is.${a}`),this}in(r,a){const o=Array.from(new Set(a)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cs.{${a.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(a)}`),this}containedBy(r,a){return typeof a=="string"?this.url.searchParams.append(r,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(r,`cd.{${a.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(a)}`),this}rangeGt(r,a){return this.url.searchParams.append(r,`sr.${a}`),this}rangeGte(r,a){return this.url.searchParams.append(r,`nxl.${a}`),this}rangeLt(r,a){return this.url.searchParams.append(r,`sl.${a}`),this}rangeLte(r,a){return this.url.searchParams.append(r,`nxr.${a}`),this}rangeAdjacent(r,a){return this.url.searchParams.append(r,`adj.${a}`),this}overlaps(r,a){return typeof a=="string"?this.url.searchParams.append(r,`ov.${a}`):this.url.searchParams.append(r,`ov.{${a.join(",")}}`),this}textSearch(r,a,{config:o,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${u}fts${f}.${a}`),this}match(r){return Object.entries(r).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(r,a,o){return this.url.searchParams.append(r,`not.${a}.${o}`),this}or(r,{foreignTable:a,referencedTable:o=a}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${r})`),this}filter(r,a,o){return this.url.searchParams.append(r,`${a}.${o}`),this}}return ff.default=n,ff}var tx;function Ww(){if(tx)return uf;tx=1;var t=uf&&uf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(uf,"__esModule",{value:!0});const e=t(Z1());class n{constructor(r,{headers:a={},schema:o,fetch:c}){this.url=r,this.headers=a,this.schema=o,this.fetch=c}select(r,{head:a=!1,count:o}={}){const c=a?"HEAD":"GET";let u=!1;const f=(r??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",f),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:a,defaultToNull:o=!0}={}){const c="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(r)){const f=r.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(f.length>0){const h=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:a,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){const f="POST",h=[`resolution=${o?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),u||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(r)){const g=r.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(g.length>0){const x=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:a}={}){const o="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),this.headers.Prefer=c.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const a="DELETE",o=[];return r&&o.push(`count=${r}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return uf.default=n,uf}var Vd={},Hd={},nx;function lA(){return nx||(nx=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.version=void 0,Hd.version="0.0.0-automated"),Hd}var ix;function cA(){if(ix)return Vd;ix=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.DEFAULT_HEADERS=void 0;const t=lA();return Vd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Vd}var rx;function uA(){if(rx)return cf;rx=1;var t=cf&&cf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(cf,"__esModule",{value:!0});const e=t(Ww()),n=t(Z1()),i=cA();class r{constructor(o,{headers:c={},schema:u,fetch:f}={}){this.url=o,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),c),this.schemaName=u,this.fetch=f}from(o){const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:u=!1,get:f=!1,count:h}={}){let g;const x=new URL(`${this.url}/rpc/${o}`);let b;u||f?(g=u?"HEAD":"GET",Object.entries(c).filter(([C,P])=>P!==void 0).map(([C,P])=>[C,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([C,P])=>{x.searchParams.append(C,P)})):(g="POST",b=c);const A=Object.assign({},this.headers);return h&&(A.Prefer=`count=${h}`),new n.default({method:g,url:x,headers:A,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return cf.default=r,cf}var ax;function fA(){if(ax)return $i;ax=1;var t=$i&&$i.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty($i,"__esModule",{value:!0}),$i.PostgrestError=$i.PostgrestBuilder=$i.PostgrestTransformBuilder=$i.PostgrestFilterBuilder=$i.PostgrestQueryBuilder=$i.PostgrestClient=void 0;const e=t(uA());$i.PostgrestClient=e.default;const n=t(Ww());$i.PostgrestQueryBuilder=n.default;const i=t(Z1());$i.PostgrestFilterBuilder=i.default;const r=t($w());$i.PostgrestTransformBuilder=r.default;const a=t(Gw());$i.PostgrestBuilder=a.default;const o=t(Hw());return $i.PostgrestError=o.default,$i.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:a.default,PostgrestError:o.default},$i}var dA=fA();const hA=Wm(dA),{PostgrestClient:pA,PostgrestQueryBuilder:HO,PostgrestFilterBuilder:GO,PostgrestTransformBuilder:$O,PostgrestBuilder:WO,PostgrestError:YO}=hA;function mA(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const gA=mA(),yA="2.11.15",vA=`realtime-js/${yA}`,xA="1.0.0",Yw=1e4,bA=1e3;var oh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(oh||(oh={}));var gr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gr||(gr={}));var us;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(us||(us={}));var i1;(function(t){t.websocket="websocket"})(i1||(i1={}));var iu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(iu||(iu={}));class wA{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const r=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const c=i.decode(e.slice(o,o+r));o=o+r;const u=i.decode(e.slice(o,o+a));o=o+a;const f=JSON.parse(i.decode(e.slice(o,e.byteLength)));return{ref:null,topic:c,event:u,payload:f}}}class Jw{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var In;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(In||(In={}));const sx=(t,e,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((a,o)=>(a[o]=_A(o,t,e,r),a),{})},_A=(t,e,n,i)=>{const r=e.find(c=>c.name===t),a=r==null?void 0:r.type,o=n[t];return a&&!i.includes(a)?Kw(a,o):r1(o)},Kw=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return TA(e,n)}switch(t){case In.bool:return SA(e);case In.float4:case In.float8:case In.int2:case In.int4:case In.int8:case In.numeric:case In.oid:return CA(e);case In.json:case In.jsonb:return AA(e);case In.timestamp:return NA(e);case In.abstime:case In.date:case In.daterange:case In.int4range:case In.int8range:case In.money:case In.reltime:case In.text:case In.time:case In.timestamptz:case In.timetz:case In.tsrange:case In.tstzrange:return r1(e);default:return r1(e)}},r1=t=>t,SA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},CA=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},AA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},TA=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(c=>Kw(e,c))}return t},NA=t=>typeof t=="string"?t.replace(" ","T"):t,Xw=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class S0{constructor(e,n,i={},r=Yw){this.channel=e,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ox;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ox||(ox={}));class lh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lh.syncState(this.state,r,a,o),this.pendingDiffs.forEach(u=>{this.state=lh.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},r=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=lh.syncDiff(this.state,r,a,o),c())}),this.onJoin((r,a,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:a,newPresences:o})}),this.onLeave((r,a,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,r){const a=this.cloneDeep(e),o=this.transformState(n),c={},u={};return this.map(a,(f,h)=>{o[f]||(u[f]=h)}),this.map(o,(f,h)=>{const g=a[f];if(g){const x=h.map(P=>P.presence_ref),b=g.map(P=>P.presence_ref),A=h.filter(P=>b.indexOf(P.presence_ref)<0),C=g.filter(P=>x.indexOf(P.presence_ref)<0);A.length>0&&(c[f]=A),C.length>0&&(u[f]=C)}else c[f]=h}),this.syncDiff(a,{joins:c,leaves:u},i,r)}static syncDiff(e,n,i,r){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(a,(c,u)=>{var f;const h=(f=e[c])!==null&&f!==void 0?f:[];if(e[c]=this.cloneDeep(u),h.length>0){const g=e[c].map(b=>b.presence_ref),x=h.filter(b=>g.indexOf(b.presence_ref)<0);e[c].unshift(...x)}i(c,h,u)}),this.map(o,(c,u)=>{let f=e[c];if(!f)return;const h=u.map(g=>g.presence_ref);f=f.filter(g=>h.indexOf(g.presence_ref)<0),e[c]=f,r(c,f,u),f.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const r=e[i];return"metas"in r?n[i]=r.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lx;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(lx||(lx={}));var cx;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(cx||(cx={}));var $o;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})($o||($o={}));class ey{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=gr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new S0(this,us.join,this.params,this.timeout),this.rejoinTimer=new Jw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gr.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=gr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(us.reply,{},(r,a)=>{this._trigger(this._replyEventName(a),r)}),this.presence=new lh(this),this.broadcastEndpointURL=Xw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==gr.closed){const{config:{broadcast:a,presence:o,private:c}}=this.params;this._onError(h=>e==null?void 0:e($o.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e($o.CLOSED));const u={},f={broadcast:a,presence:o,postgres_changes:(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(h=>h.filter))!==null&&r!==void 0?r:[],private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var g;if(this.socket.setAuth(),h===void 0){e==null||e($o.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(g=x==null?void 0:x.length)!==null&&g!==void 0?g:0,A=[];for(let C=0;C<b;C++){const P=x[C],{filter:{event:M,schema:L,table:N,filter:R}}=P,F=h&&h[C];if(F&&F.event===M&&F.schema===L&&F.table===N&&F.filter===R)A.push(Object.assign(Object.assign({},P),{id:F.id}));else{this.unsubscribe(),this.state=gr.errored,e==null||e($o.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e($o.SUBSCRIBED);return}}).receive("error",h=>{this.state=gr.errored,e==null||e($o.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e($o.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this._on(e,n,i)}async send(e,n={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=f.body)===null||r===void 0?void 0:r.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,c,u;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(us.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new S0(this,us.leave,{},e),i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,i){const r=new AbortController,a=setTimeout(()=>r.abort(),i),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(a),o}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new S0(this,e,n,i);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var r,a;const o=e.toLocaleLowerCase(),{close:c,error:u,leave:f,join:h}=us;if(i&&[c,u,f,h].indexOf(o)>=0&&i!==this._joinRef())return;let x=this._onMessage(o,n,i);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(b=>{var A,C,P;return((A=b.filter)===null||A===void 0?void 0:A.event)==="*"||((P=(C=b.filter)===null||C===void 0?void 0:C.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===o}).map(b=>b.callback(x,i)):(a=this.bindings[o])===null||a===void 0||a.filter(b=>{var A,C,P,M,L,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const R=b.id,F=(A=b.filter)===null||A===void 0?void 0:A.event;return R&&((C=n.ids)===null||C===void 0?void 0:C.includes(R))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((P=n.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const R=(L=(M=b==null?void 0:b.filter)===null||M===void 0?void 0:M.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return R==="*"||R===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof x=="object"&&"ids"in x){const A=x.data,{schema:C,table:P,commit_timestamp:M,type:L,errors:N}=A;x=Object.assign(Object.assign({},{schema:C,table:P,commit_timestamp:M,eventType:L,new:{},old:{},errors:N}),this._getPayloadRecords(A))}b.callback(x,i)})}_isClosed(){return this.state===gr.closed}_isJoined(){return this.state===gr.joined}_isJoining(){return this.state===gr.joining}_isLeaving(){return this.state===gr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const r=e.toLocaleLowerCase(),a={type:r,filter:n,callback:i};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(r=>{var a;return!(((a=r.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&ey.isEqual(r.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(us.close,{},e)}_onError(e){this._on(us.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=sx(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=sx(e.columns,e.old_record)),n}}const ux=()=>{},EA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class MA{constructor(e,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yw,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ux,this.ref=0,this.logger=ux,this.conn=null,this.sendBuffer=[],this.serializer=new wA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...c)=>sc(async()=>{const{default:u}=await Promise.resolve().then(()=>zf);return{default:u}},void 0).then(({default:u})=>u(...c)):o=fetch,(...c)=>o(...c)},this.endPoint=`${e}/${i1.websocket}`,this.httpEndpoint=Xw(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,o)=>o(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Jw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=gA),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xA}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case oh.connecting:return iu.Connecting;case oh.open:return iu.Open;case oh.closing:return iu.Closing;default:return iu.Closed}}isConnected(){return this.connectionState()===iu.Open}channel(e,n={config:{}}){const i=`realtime:${e}`,r=this.getChannels().find(a=>a.topic===i);if(r)return r;{const a=new ey(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:i,payload:r,ref:a}=e,o=()=>{this.encode(e,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${i} (${a})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const r={access_token:n,version:vA};n&&i.updateJoinPayload(r),i.joinedOnce&&i._isJoined()&&i._push(us.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(bA,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:i,event:r,payload:a,ref:o}=n;i==="phoenix"&&r==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${i} ${r} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(c=>c._isMember(i)).forEach(c=>c._trigger(r,a,o)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(us.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${i}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([EA],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class ty extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Wi(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class PA extends ty{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class a1 extends ty{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var LA=function(t,e,n,i){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(h){try{f(i.next(h))}catch(g){o(g)}}function u(h){try{f(i.throw(h))}catch(g){o(g)}}function f(h){h.done?a(h.value):r(h.value).then(c,u)}f((i=i.apply(t,e||[])).next())})};const Qw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>sc(async()=>{const{default:i}=await Promise.resolve().then(()=>zf);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},DA=()=>LA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sc(()=>Promise.resolve().then(()=>zf),void 0)).Response:Response}),s1=t=>{if(Array.isArray(t))return t.map(n=>s1(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const r=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[r]=s1(i)}),e};var vu=function(t,e,n,i){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(h){try{f(i.next(h))}catch(g){o(g)}}function u(h){try{f(i.throw(h))}catch(g){o(g)}}function f(h){h.done?a(h.value):r(h.value).then(c,u)}f((i=i.apply(t,e||[])).next())})};const C0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RA=(t,e,n)=>vu(void 0,void 0,void 0,function*(){const i=yield DA();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{e(new PA(C0(r),t.status||500))}).catch(r=>{e(new a1(C0(r),r))}):e(new a1(C0(t),t))}),kA=(t,e,n,i)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i&&(r.body=JSON.stringify(i)),Object.assign(Object.assign({},r),n))};function Ih(t,e,n,i,r,a){return vu(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(n,kA(e,i,r,a)).then(u=>{if(!u.ok)throw u;return i!=null&&i.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>RA(u,c,i))})})}function Em(t,e,n,i){return vu(this,void 0,void 0,function*(){return Ih(t,"GET",e,n,i)})}function Kl(t,e,n,i,r){return vu(this,void 0,void 0,function*(){return Ih(t,"POST",e,i,r,n)})}function IA(t,e,n,i,r){return vu(this,void 0,void 0,function*(){return Ih(t,"PUT",e,i,r,n)})}function FA(t,e,n,i){return vu(this,void 0,void 0,function*(){return Ih(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Zw(t,e,n,i,r){return vu(this,void 0,void 0,function*(){return Ih(t,"DELETE",e,i,r,n)})}var qr=function(t,e,n,i){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(h){try{f(i.next(h))}catch(g){o(g)}}function u(h){try{f(i.throw(h))}catch(g){o(g)}}function f(h){h.done?a(h.value):r(h.value).then(c,u)}f((i=i.apply(t,e||[])).next())})};const OA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jA{constructor(e,n={},i,r){this.url=e,this.headers=n,this.bucketId=i,this.fetch=Qw(r)}uploadOrUpdate(e,n,i,r){return qr(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},fx),r);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u))):(a=i,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),r!=null&&r.headers&&(c=Object.assign(Object.assign({},c),r.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),g=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:a,headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{})),x=yield g.json();return g.ok?{data:{path:f,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(a){if(Wi(a))return{data:null,error:a};throw a}})}upload(e,n,i){return qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,r){return qr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let u;const f=Object.assign({upsert:fx.upsert},r),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",f.cacheControl)):(u=i,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const g=yield this.fetch(c.toString(),{method:"PUT",body:u,headers:h}),x=yield g.json();return g.ok?{data:{path:a,fullPath:x.Key},error:null}:{data:null,error:x}}catch(u){if(Wi(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return qr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const a=yield Kl(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),o=new URL(this.url+a.url),c=o.searchParams.get("token");if(!c)throw new ty("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(i){if(Wi(i))return{data:null,error:i};throw i}})}update(e,n,i){return qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return qr(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Wi(r))return{data:null,error:r};throw r}})}copy(e,n,i){return qr(this,void 0,void 0,function*(){try{return{data:{path:(yield Kl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Wi(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,i){return qr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield Kl(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(r){if(Wi(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,i){return qr(this,void 0,void 0,function*(){try{const r=yield Kl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(r){if(Wi(r))return{data:null,error:r};throw r}})}download(e,n){return qr(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield Em(this.fetch,`${this.url}/${r}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Wi(c))return{data:null,error:c};throw c}})}info(e){return qr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Em(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:s1(i),error:null}}catch(i){if(Wi(i))return{data:null,error:i};throw i}})}exists(e){return qr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield FA(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Wi(i)&&i instanceof a1){const r=i.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),r=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&r.push(a);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&r.push(u);let f=r.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${f}`)}}}remove(e){return qr(this,void 0,void 0,function*(){try{return{data:yield Zw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Wi(n))return{data:null,error:n};throw n}})}list(e,n,i){return qr(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},OA),n),{prefix:e||""});return{data:yield Kl(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(Wi(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const UA="2.7.1",BA={"X-Client-Info":`storage-js/${UA}`};var pf=function(t,e,n,i){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(h){try{f(i.next(h))}catch(g){o(g)}}function u(h){try{f(i.throw(h))}catch(g){o(g)}}function f(h){h.done?a(h.value):r(h.value).then(c,u)}f((i=i.apply(t,e||[])).next())})};class zA{constructor(e,n={},i){this.url=e,this.headers=Object.assign(Object.assign({},BA),n),this.fetch=Qw(i)}listBuckets(){return pf(this,void 0,void 0,function*(){try{return{data:yield Em(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Wi(e))return{data:null,error:e};throw e}})}getBucket(e){return pf(this,void 0,void 0,function*(){try{return{data:yield Em(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Wi(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return pf(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Wi(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return pf(this,void 0,void 0,function*(){try{return{data:yield IA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Wi(i))return{data:null,error:i};throw i}})}emptyBucket(e){return pf(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Wi(n))return{data:null,error:n};throw n}})}deleteBucket(e){return pf(this,void 0,void 0,function*(){try{return{data:yield Zw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Wi(n))return{data:null,error:n};throw n}})}}class qA extends zA{constructor(e,n={},i){super(e,n,i)}from(e){return new jA(this.url,this.headers,e,this.fetch)}}const VA="2.50.5";let th="";typeof Deno<"u"?th="deno":typeof document<"u"?th="web":typeof navigator<"u"&&navigator.product==="ReactNative"?th="react-native":th="node";const HA={"X-Client-Info":`supabase-js-${th}/${VA}`},GA={headers:HA},$A={schema:"public"},WA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YA={};var JA=function(t,e,n,i){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(h){try{f(i.next(h))}catch(g){o(g)}}function u(h){try{f(i.throw(h))}catch(g){o(g)}}function f(h){h.done?a(h.value):r(h.value).then(c,u)}f((i=i.apply(t,e||[])).next())})};const KA=t=>{let e;return t?e=t:typeof fetch>"u"?e=qw:e=fetch,(...n)=>e(...n)},XA=()=>typeof Headers>"u"?Vw:Headers,QA=(t,e,n)=>{const i=KA(n),r=XA();return(a,o)=>JA(void 0,void 0,void 0,function*(){var c;const u=(c=yield e())!==null&&c!==void 0?c:t;let f=new r(o==null?void 0:o.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${u}`),i(a,Object.assign(Object.assign({},o),{headers:f}))})};var ZA=function(t,e,n,i){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(h){try{f(i.next(h))}catch(g){o(g)}}function u(h){try{f(i.throw(h))}catch(g){o(g)}}function f(h){h.done?a(h.value):r(h.value).then(c,u)}f((i=i.apply(t,e||[])).next())})};function eT(t){return t.endsWith("/")?t:t+"/"}function tT(t,e){var n,i;const{db:r,auth:a,realtime:o,global:c}=t,{db:u,auth:f,realtime:h,global:g}=e,x={db:Object.assign(Object.assign({},u),r),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},h),o),global:Object.assign(Object.assign(Object.assign({},g),c),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(i=c==null?void 0:c.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>ZA(this,void 0,void 0,function*(){return""})};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}const e_="2.70.0",Sf=30*1e3,o1=3,A0=o1*Sf,nT="http://localhost:9999",iT="supabase.auth.token",rT={"X-Client-Info":`gotrue-js/${e_}`},l1="X-Supabase-Api-Version",t_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sT=6e5;class ny extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function qt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class oT extends ny{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function lT(t){return qt(t)&&t.name==="AuthApiError"}class n_ extends ny{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class dc extends ny{constructor(e,n,i,r){super(e,i,r),this.name=n,this.status=i}}class Yl extends dc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cT(t){return qt(t)&&t.name==="AuthSessionMissingError"}class Up extends dc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bp extends dc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zp extends dc{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uT(t){return qt(t)&&t.name==="AuthImplicitGrantRedirectError"}class dx extends dc{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class c1 extends dc{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function T0(t){return qt(t)&&t.name==="AuthRetryableFetchError"}class hx extends dc{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class ch extends dc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),px=` 	
\r=`.split(""),fT=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<px.length;e+=1)t[px[e].charCodeAt(0)]=-2;for(let e=0;e<Mm.length;e+=1)t[Mm[e].charCodeAt(0)]=e;return t})();function mx(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Mm[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Mm[i]),e.queuedBits-=6}}function i_(t,e,n){const i=fT[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function gx(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},a=o=>{pT(o,i,n)};for(let o=0;o<t.length;o+=1)i_(t.charCodeAt(o),r,a);return e.join("")}function dT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hT(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}dT(i,e)}}function pT(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function mT(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)i_(t.charCodeAt(r),n,i);return new Uint8Array(e)}function gT(t){const e=[];return hT(t,n=>e.push(n)),new Uint8Array(e)}function yT(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};return t.forEach(r=>mx(r,n,i)),mx(null,n,i),e.join("")}function vT(t){return Math.round(Date.now()/1e3)+t}function xT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ls=()=>typeof window<"u"&&typeof document<"u",Kc={tested:!1,writable:!1},uh=()=>{if(!ls())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kc.tested)return Kc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Kc.tested=!0,Kc.writable=!0}catch{Kc.tested=!0,Kc.writable=!1}return Kc.writable};function bT(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,a)=>{e[a]=r})}catch{}return n.searchParams.forEach((i,r)=>{e[r]=i}),e}const r_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>sc(async()=>{const{default:i}=await Promise.resolve().then(()=>zf);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},wT=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",a_=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},qp=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Vp=async(t,e)=>{await t.removeItem(e)};class Km{constructor(){this.promise=new Km.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Km.promiseConstructor=Promise;function N0(t){const e=t.split(".");if(e.length!==3)throw new ch("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!aT.test(e[i]))throw new ch("JWT not in base64url format");return{header:JSON.parse(gx(e[0])),payload:JSON.parse(gx(e[1])),signature:mT(e[2]),raw:{header:e[0],payload:e[1]}}}async function _T(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ST(t,e){return new Promise((i,r)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){i(o);return}}catch(o){if(!e(a,o)){r(o);return}}})()})}function CT(t){return("0"+t.toString(16)).substr(-2)}function AT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let r="";for(let a=0;a<56;a++)r+=n.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,CT).join("")}async function TT(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(i);return Array.from(r).map(a=>String.fromCharCode(a)).join("")}async function NT(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await TT(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mf(t,e,n=!1){const i=AT();let r=i;n&&(r+="/PASSWORD_RECOVERY"),await a_(t,`${e}-code-verifier`,r);const a=await NT(i);return[a,i===a?"plain":"s256"]}const ET=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MT(t){const e=t.headers.get(l1);if(!e||!e.match(ET))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function PT(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function LT(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const DT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gf(t){if(!DT.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var RT=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const eu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kT=[502,503,504];async function yx(t){var e;if(!wT(t))throw new c1(eu(t),0);if(kT.includes(t.status))throw new c1(eu(t),t.status);let n;try{n=await t.json()}catch(a){throw new n_(eu(a),a)}let i;const r=MT(t);if(r&&r.getTime()>=t_["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new hx(eu(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Yl}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new hx(eu(n),t.status,n.weak_password.reasons);throw new oT(eu(n),t.status||500,i)}const IT=(t,e,n,i)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};async function Qt(t,e,n,i){var r;const a=Object.assign({},i==null?void 0:i.headers);a[l1]||(a[l1]=t_["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const o=(r=i==null?void 0:i.query)!==null&&r!==void 0?r:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await FT(t,e,n+c,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(u):{data:Object.assign({},u),error:null}}async function FT(t,e,n,i,r,a){const o=IT(e,i,r,a);let c;try{c=await t(n,Object.assign({},o))}catch(u){throw console.error(u),new c1(eu(u),0)}if(c.ok||await yx(c),i!=null&&i.noResolveJson)return c;try{return await c.json()}catch(u){await yx(u)}}function Vo(t){var e;let n=null;BT(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=vT(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function vx(t){const e=Vo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function OT(t){return{data:t,error:null}}function jT(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:a}=t,o=RT(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:a},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function UT(t){return t}function BT(t){return t.access_token&&t.refresh_token&&t.expires_in}const E0=["global","local","others"];var zT=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};class qT{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=r_(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=E0[0]){if(E0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${E0.join(", ")}`);try{return await Qt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(qt(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await Qt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xl})}catch(i){if(qt(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=zT(e,["options"]),r=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(r.new_email=i==null?void 0:i.newEmail,delete r.newEmail),await Qt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:jT,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(qt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Qt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xl})}catch(n){if(qt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,r,a,o,c,u;try{const f={nextPage:null,lastPage:0,total:0},h=await Qt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:""},xform:UT});if(h.error)throw h.error;const g=await h.json(),x=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(u=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return b.length>0&&(b.forEach(A=>{const C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(A.split(";")[1].split("=")[1]);f[`${P}Page`]=C}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(qt(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){gf(e);try{return await Qt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xl})}catch(n){if(qt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){gf(e);try{return await Qt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Xl})}catch(i){if(qt(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){gf(e);try{return await Qt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xl})}catch(i){if(qt(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){gf(e.userId);try{const{data:n,error:i}=await Qt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:i}}catch(n){if(qt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){gf(e.userId),gf(e.id);try{return{data:await Qt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}}}const VT={getItem:t=>uh()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{uh()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{uh()&&globalThis.localStorage.removeItem(t)}};function xx(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function HT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yf={debug:!!(globalThis&&uh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class s_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class GT extends s_{}async function $T(t,e,n){yf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),yf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){yf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{yf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw yf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new GT(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yf.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}HT();const WT={url:nT,storageKey:iT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function bx(t,e,n){return await n()}class Sh{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sh.nextInstanceID,Sh.nextInstanceID+=1,this.instanceID>0&&ls()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},WT),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new qT({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=r_(r.fetch),this.lock=r.lock||bx,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:ls()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=$T:this.lock=bx,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:uh()?this.storage=VT:(this.memoryStorage={},this.storage=xx(this.memoryStorage)):(this.memoryStorage={},this.storage=xx(this.memoryStorage)),ls()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${e_}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=bT(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),ls()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),uT(a)){const u=(e=a.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:c}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return qt(n)?{error:n}:{error:new n_("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,r;try{const a=await Qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Vo}),{data:o,error:c}=a;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:f,session:u},error:null}}catch(a){if(qt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,i,r;try{let a;if("email"in e){const{email:h,password:g,options:x}=e;let b=null,A=null;this.flowType==="pkce"&&([b,A]=await mf(this.storage,this.storageKey)),a=await Qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:h,password:g,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:b,code_challenge_method:A},xform:Vo})}else if("phone"in e){const{phone:h,password:g,options:x}=e;a=await Qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(i=x==null?void 0:x.data)!==null&&i!==void 0?i:{},channel:(r=x==null?void 0:x.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Vo})}else throw new Bp("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:f,session:u},error:null}}catch(a){if(qt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:c}=e;n=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:vx})}else if("phone"in e){const{phone:a,password:o,options:c}=e;n=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:vx})}else throw new Bp("You must provide either an email or phone number and a password");const{data:i,error:r}=n;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Up}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(n){if(qt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,r,a,o,c,u,f,h,g,x,b;let A,C;if("message"in e)A=e.message,C=e.signature;else{const{chain:P,wallet:M,statement:L,options:N}=e;let R;if(ls())if(typeof M=="object")R=M;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))R=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=M}const F=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in R&&R.signIn){const Y=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),L?{statement:L}:null));let B;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")B=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)B=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)A=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),C=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${F.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(r=(i=N==null?void 0:N.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((a=N==null?void 0:N.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((g=(h=N==null?void 0:N.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...N.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const Y=await R.signMessage(new TextEncoder().encode(A),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=Y}}try{const{data:P,error:M}=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:yT(C)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Vo});if(M)throw M;return!P||!P.session||!P.user?{data:{user:null,session:null},error:new Up}:(P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),{data:Object.assign({},P),error:M})}catch(P){if(qt(P))return{data:{user:null,session:null},error:P};throw P}}async _exchangeCodeForSession(e){const n=await qp(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(n??"").split("/");try{const{data:a,error:o}=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Vo});if(await Vp(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Up}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:r??null}),error:o})}catch(a){if(qt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:i,token:r,access_token:a,nonce:o}=e,c=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Vo}),{data:u,error:f}=c;return f?{data:{user:null,session:null},error:f}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Up}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:f})}catch(n){if(qt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,r,a,o;try{if("email"in e){const{email:c,options:u}=e;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await mf(this.storage,this.storageKey));const{error:g}=await Qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:c,options:u}=e,{data:f,error:h}=await Qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(a=u==null?void 0:u.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h}}throw new Bp("You must provide either an email or phone number.")}catch(c){if(qt(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,i;try{let r,a;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:c}=await Qt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:Vo});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,f=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:f,session:u},error:null}}catch(r){if(qt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,i,r;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await mf(this.storage,this.storageKey)),await Qt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:OT})}catch(a){if(qt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new Yl;const{error:r}=await Qt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(qt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:r,options:a}=e,{error:o}=await Qt(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:i,type:r,options:a}=e,{data:o,error:c}=await Qt(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c}}throw new Bp("You must provide either an email or phone number and a type")}catch(n){if(qt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await qp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<A0:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,f,h)=>(!o&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,f,h))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xl}):await this._useSession(async n=>{var i,r,a;const{data:o,error:c}=n;if(c)throw c;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yl}:await Qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0,xform:Xl})})}catch(n){if(qt(n))return cT(n)&&(await this._removeSession(),await Vp(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:r,error:a}=i;if(a)throw a;if(!r.session)throw new Yl;const o=r.session;let c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=await mf(this.storage,this.storageKey));const{data:f,error:h}=await Qt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:Xl});if(h)throw h;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(i){if(qt(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yl;const n=Date.now()/1e3;let i=n,r=!0,a=null;const{payload:o}=N0(e.access_token);if(o.exp&&(i=o.exp,r=i<=n),r){const{session:c,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:u}=await this._getUser(e.access_token);if(u)throw u;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(qt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:o,error:c}=n;if(c)throw c;e=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Yl;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(qt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ls())throw new zp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new dx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new dx("No code detected.");const{data:L,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:a,refresh_token:o,expires_in:c,expires_at:u,token_type:f}=e;if(!a||!c||!o||!f)throw new zp("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(c);let x=h+g;u&&(x=parseInt(u));const b=x-h;b*1e3<=Sf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const A=x-g;h-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,x,h):h-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,x,h);const{data:C,error:P}=await this._getUser(a);if(P)throw P;const M={provider_token:i,provider_refresh_token:r,access_token:a,expires_in:g,expires_at:x,refresh_token:o,token_type:f,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:e.type},error:null}}catch(i){if(qt(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await qp(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:r,error:a}=n;if(a)return{error:a};const o=(i=r.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(lT(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Vp(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=xT(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,r;try{const{data:{session:a},error:o}=n;if(o)throw o;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await mf(this.storage,this.storageKey,!0));try{return await Qt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(qt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:r}=await this._useSession(async a=>{var o,c,u,f,h;const{data:g,error:x}=a;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Qt(this.fetch,"GET",b,{headers:this.headers,jwt:(h=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(r)throw r;return ls()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(qt(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,r;const{data:a,error:o}=n;if(o)throw o;return await Qt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(qt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await ST(async r=>(r>0&&await _T(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await Qt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Vo})),(r,a)=>{const o=200*Math.pow(2,r);return a&&T0(a)&&Date.now()+o-i<Sf})}catch(i){if(this._debug(n,"error",i),qt(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),ls()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await qp(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const r=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<A0;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${A0}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),T0(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new Yl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Km;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Yl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(r,"error",a),qt(a)){const o={session:null,error:a};return T0(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,i=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await a_(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Vp(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ls()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/Sf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Sf}ms, refresh threshold is ${o1} ticks`),r<=o1&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof s_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ls()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const r=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,o]=await mf(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(c.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);r.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:r,error:a}=n;return a?{data:null,error:a}:await Qt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(qt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,r;const{data:a,error:o}=n;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:f}=await Qt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((r=u==null?void 0:u.totp)===null||r===void 0)&&r.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(qt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:c}=await Qt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(n){if(qt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:a}=n;return a?{data:null,error:a}:await Qt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(qt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],r=i.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=i.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:i,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=N0(r.access_token);let c=null;o.aal&&(c=o.aal);let u=c;((i=(n=r.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");const h=o.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(o=>o.kid===e);if(i||(i=this.jwks.keys.find(o=>o.kid===e),i&&this.jwks_cached_at+sT>Date.now()))return i;const{data:r,error:a}=await Qt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!r.keys||r.keys.length===0)throw new ch("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),i=r.keys.find(o=>o.kid===e),!i)throw new ch("No matching signing key found in JWKS");return i}async getClaims(e,n={keys:[]}){try{let i=e;if(!i){const{data:b,error:A}=await this.getSession();if(A||!b.session)return{data:null,error:A};i=b.session.access_token}const{header:r,payload:a,signature:o,raw:{header:c,payload:u}}=N0(i);if(PT(a.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:a,header:r,signature:o},error:null}}const f=LT(r.alg),h=await this.fetchJwk(r.kid,n),g=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,g,o,gT(`${c}.${u}`)))throw new ch("Invalid JWT signature");return{data:{claims:a,header:r,signature:o},error:null}}catch(i){if(qt(i))return{data:null,error:i};throw i}}}Sh.nextInstanceID=0;const YT=Sh;class JT extends YT{constructor(e){super(e)}}var KT=function(t,e,n,i){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(h){try{f(i.next(h))}catch(g){o(g)}}function u(h){try{f(i.throw(h))}catch(g){o(g)}}function f(h){h.done?a(h.value):r(h.value).then(c,u)}f((i=i.apply(t,e||[])).next())})};class XT{constructor(e,n,i){var r,a,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=eT(e),u=new URL(c);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:$A,realtime:YA,auth:Object.assign(Object.assign({},WA),{storageKey:f}),global:GA},g=tT(i??{},h);this.storageKey=(r=g.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=g.auth)!==null&&o!==void 0?o:{},this.headers,g.global.fetch),this.fetch=QA(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new pA(new URL("rest/v1",u).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new nA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qA(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return KT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,storageKey:a,flowType:o,lock:c,debug:u},f,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JT({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),f),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,flowType:o,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new MA(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const QT=(t,e,n)=>new XT(t,e,n),iy="https://zechjgfandsneenqtssv.supabase.co",Mf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InplY2hqZ2ZhbmRzbmVlbnF0c3N2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIzMzAzNzksImV4cCI6MjA2NzkwNjM3OX0.3FZhxeQTRem6eEFzCch75zL3hpFwJzqltRHzaRoVovY";console.log("🔍 Debug Supabase Config:",{url:`${iy.substring(0,30)}...`,keyLength:Mf.length,keyStart:Mf.substring(0,20)+"..."});function Fi(){const t=iy.includes(".supabase.co"),e=Mf.length>50;return!!(t&&e)}console.log("🔧 Supabase Configuration Status:",{url:"✅ Configured",key:"✅ Configured",status:Fi()?"🟢 Ready":"🔴 Needs Setup"});const ut=Fi()?QT(iy,Mf,{auth:{persistSession:!1,autoRefreshToken:!1},realtime:{params:{eventsPerSecond:2}},global:{fetch:(t,e={})=>{const n={...e.headers,apikey:Mf,Authorization:`Bearer ${Mf}`,"Content-Type":"application/json"};return fetch(t,{...e,headers:n,mode:"cors",credentials:"omit"})}}}):null,o_=async()=>{if(!ut)return console.error("❌ Supabase client not initialized - check configuration"),!1;try{console.log("🔄 Testing Supabase connection with comprehensive check...");const t=[{table:"companies",name:"Companies"},{table:"categories",name:"Categories"},{table:"products",name:"Products"},{table:"customers",name:"Customers"},{table:"quotes",name:"Quotes"},{table:"suppliers",name:"Suppliers"},{table:"accounts_payable",name:"Accounts Payable"},{table:"app_users",name:"Users"}];console.log("🔍 Testing database tables...");for(const i of t)try{const{data:r,error:a}=await ut.from(i.table).select("count").limit(1);a?console.error(`❌ ${i.name} table error:`,a):console.log(`✅ ${i.name} table accessible`)}catch(r){console.error(`❌ ${i.name} table failed:`,r)}const{data:e,error:n}=await ut.from("companies").select("count").limit(1);return n?(console.error("❌ Supabase final connection test failed:",n),!1):(console.log("✅ Supabase connection fully successful - all systems ready"),!0)}catch(t){return console.error("❌ Supabase connection critical error:",t),!1}},it=t=>{var e,n,i,r,a,o;throw Fi()?(console.error("🚨 Supabase Error Details:",{message:t==null?void 0:t.message,code:t==null?void 0:t.code,details:t==null?void 0:t.details,hint:t==null?void 0:t.hint}),(e=t==null?void 0:t.message)!=null&&e.includes("Failed to fetch")||(t==null?void 0:t.name)==="TypeError"&&((n=t==null?void 0:t.message)!=null&&n.includes("fetch"))?new Error("Erro de CORS: Adicione http://localhost:5173 às configurações CORS do Supabase"):(i=t==null?void 0:t.message)!=null&&i.includes("Failed to fetch")||(t==null?void 0:t.name)==="TypeError"||(t==null?void 0:t.name)==="NetworkError"||(t==null?void 0:t.code)==="ENOTFOUND"||(t==null?void 0:t.code)==="ECONNREFUSED"||(t==null?void 0:t.code)==="42P01"||(r=t==null?void 0:t.message)!=null&&r.includes("does not exist")||t.message.includes("fetch")||t.message.includes("NetworkError")||t.message.includes("ERR_NETWORK")||t.code==="NETWORK_ERROR"||t.code==="ENOTFOUND"||t.code==="ECONNREFUSED"?(console.warn("🔌 Supabase Connection Issue - switching to offline mode"),new Error("Conexão com o banco de dados falhou")):(t==null?void 0:t.code)==="42501"||(a=t==null?void 0:t.message)!=null&&a.includes("permission denied")||(o=t==null?void 0:t.message)!=null&&o.includes("RLS")?(console.error("🔒 RLS/Permission Error:",t),new Error("Erro de permissão no banco de dados - verifique as políticas RLS")):new Error((t==null?void 0:t.message)||"Erro desconhecido no banco de dados")):(console.warn("⚠️ Supabase not configured - using offline mode"),new Error("Conexão com o banco de dados falhou - modo offline ativado"))};var ci=(t=>(t.PER_UNIT="unidade",t.PER_SQUARE_METER="m2",t))(ci||{}),Et=(t=>(t.ADMIN="admin",t.SALES="sales",t))(Et||{});const ru=15;Et.SALES;const Pm="MaxControl",ZT="gemini-2.5-flash-preview-04-17",l_=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),c_=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})}),eN=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})}),tN=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),u_=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),nN=({userName:t,userFullName:e,userRole:n,onLogout:i,companyInfo:r,isSidebarOpen:a,onToggleSidebar:o})=>{const[c,u]=pe.useState(!1),f=e||t;return w.jsx("header",{className:"bg-black shadow-lg fixed top-0 z-40 w-full",children:w.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex items-center justify-between h-16",children:[w.jsx("div",{className:"flex-1 flex justify-start",children:w.jsx("button",{onClick:o,className:"md:hidden p-2 text-gray-300 hover:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-inset focus:ring-yellow-500","aria-label":"Toggle menu","aria-expanded":a,children:a?w.jsx(u_,{className:"h-6 w-6"}):w.jsx(tN,{className:"h-6 w-6"})})}),w.jsx("div",{className:"flex-shrink-0",children:r!=null&&r.logoUrlDarkBg?w.jsx("img",{src:r.logoUrlDarkBg,alt:r.name||Pm,className:"h-10 w-auto max-h-10"}):w.jsx("h1",{className:"text-xl md:text-2xl font-bold text-yellow-500 truncate",children:(r==null?void 0:r.name)||Pm})}),w.jsx("div",{className:"flex-1 flex justify-end",children:w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>u(!c),className:"flex items-center text-sm font-medium text-white hover:text-yellow-400 focus:outline-none","aria-haspopup":"true","aria-expanded":c,"aria-label":`User menu for ${f}`,children:[w.jsx(l_,{className:"h-8 w-8 text-gray-300 mr-2"}),w.jsxs("span",{className:"hidden sm:inline",children:[f," (",n,")"]}),w.jsx(c_,{className:"ml-1 h-5 w-5 text-gray-400"})]}),c&&w.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-[#1d1d1d] ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",onMouseLeave:()=>u(!1),children:w.jsxs("button",{onClick:()=>{i(),u(!1)},className:"w-full text-left flex items-center px-4 py-2 text-sm text-gray-200 hover:bg-[#3a3a3a] hover:text-yellow-500",role:"menuitem",children:[w.jsx(eN,{className:"h-5 w-5 mr-2 text-gray-400"}),"Sair"]})})]})})]})})})},ry=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m2.25-18v18m13.5-18v18M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h18M12 3v18"})}),fh=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15M3.75 3.75h4.5v4.5h-4.5v-4.5Zm0 12h4.5v4.5h-4.5v-4.5Zm12-12h4.5v4.5h-4.5v-4.5Zm0 12h4.5v4.5h-4.5v-4.5Z"})}),ro=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-.94-2.348l-4.126-4.126A3.375 3.375 0 0 0 10.125 4.5H7.5A2.25 2.25 0 0 0 5.25 6.75v10.5A2.25 2.25 0 0 0 7.5 19.5h7.5M19.5 14.25v4.5A2.25 2.25 0 0 1 17.25 21h-4.5M14.25 8.625v-3.375c0-.621.504-1.125 1.125-1.125h3.375c.621 0 1.125.504 1.125 1.125v3.375M14.25 8.625h3.375M14.25 8.625L19.5 14.25M10.5 15h3.75M10.5 12h3.75m-3.75-3h3.75M5.25 9h.008v.008H5.25V9Zm0 3h.008v.008H5.25v-.008Zm0 3h.008v.008H5.25V12Z"})}),iN=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m18 0h-1.5m-15 0H3m3.75 0a4.5 4.5 0 0 1 7.5 0m-7.5 0a4.5 4.5 0 0 0 7.5 0M12 10.5v3m0 0v3m0-3h3m-3 0h-3m-4.5 0H3m18 0h-1.5m-15 0H3m18 0h-1.5"})}),ou=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})}),u1=t=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"})]}),vm=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),f1=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5v-1.875a3.375 3.375 0 0 1 3.375-3.375h9.75a3.375 3.375 0 0 1 3.375 3.375v1.875M10.5 6h9M10.5 6a2.25 2.25 0 0 0-2.25 2.25v4.5a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-4.5a2.25 2.25 0 0 0-2.25-2.25H10.5Z"})}),nh=({title:t,...e})=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[t&&w.jsx("title",{children:t}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375a1.125 1.125 0 0 1-1.125-1.125V15.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})]}),rN=[{name:"Painel",path:"/",icon:ry,allowedRoles:[Et.ADMIN,Et.SALES]},{name:"Clientes",path:"/customers",icon:ou,allowedRoles:[Et.ADMIN,Et.SALES]},{name:"Produtos",path:"/products",icon:fh,allowedRoles:[Et.ADMIN,Et.SALES]},{name:"Categorias",path:"/categories",icon:u1,allowedRoles:[Et.ADMIN,Et.SALES]},{name:"Orçamentos",path:"/quotes/new",icon:ro,allowedRoles:[Et.ADMIN,Et.SALES]},{name:"Fornecedores",path:"/suppliers",icon:f1,allowedRoles:[Et.ADMIN,Et.SALES]},{name:"Contas a Pagar",path:"/accounts-payable",icon:nh,allowedRoles:[Et.ADMIN]},{name:"Vendas por Usuário",path:"/sales/user-performance",icon:vm,allowedRoles:[Et.ADMIN]},{name:"Usuários",path:"/users",icon:ou,allowedRoles:[Et.ADMIN]},{name:"Empresa",path:"/settings",icon:iN,allowedRoles:[Et.ADMIN]}],aN=({currentRole:t,isOpen:e,setIsOpen:n})=>{const i=rN.filter(a=>!a.allowedRoles||a.allowedRoles.includes(t)),r=()=>{window.innerWidth<768&&n(!1)};return w.jsxs(w.Fragment,{children:[w.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-60 z-30 md:hidden transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>n(!1),"aria-hidden":"true"}),w.jsxs("aside",{className:`w-64 bg-black text-white min-h-screen p-4 flex flex-col fixed top-0 left-0 pt-20 z-40 transform transition-transform duration-300 ease-in-out md:translate-x-0 ${e?"translate-x-0":"-translate-x-full"}`,children:[w.jsx("nav",{children:w.jsx("ul",{children:i.map(a=>w.jsx("li",{className:"mb-2",children:w.jsx(Bw,{to:a.path,end:a.path==="/",onClick:r,className:({isActive:o})=>`flex items-center py-2.5 px-4 rounded-md transition duration-200 group
                    ${o?"bg-yellow-500 text-black":"text-gray-300 hover:bg-[#1d1d1d] hover:text-yellow-500"}`,children:({isActive:o})=>w.jsxs(w.Fragment,{children:[w.jsx(a.icon,{className:`w-5 h-5 mr-3 transition-colors duration-200 ${o?"text-black":"text-gray-300 group-hover:text-yellow-500"}`}),w.jsx("span",{children:a.name})]})})},a.name))})}),w.jsxs("div",{className:"mt-auto p-4 text-center text-xs text-gray-500",children:["© ",new Date().getFullYear()," ",Pm]})]})]})},sN={};var d1=null;function oN(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return sN.randomBytes(t)}catch{}if(!d1)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return d1(t)}function lN(t){d1=t}function ay(t,e){if(t=t||sy,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(Lm(oN(Ch),Ch)),n.join("")}function f_(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=sy;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function i(r){fs(function(){try{r(null,ay(t))}catch(a){r(a)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(r,a){i(function(o,c){if(o){a(o);return}r(c)})})}function d_(t,e){if(typeof e>"u"&&(e=sy),typeof e=="number"&&(e=ay(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return h1(t,e)}function h_(t,e,n,i){function r(a){typeof t=="string"&&typeof e=="number"?f_(e,function(o,c){h1(t,c,a,i)}):typeof t=="string"&&typeof e=="string"?h1(t,e,a,i):fs(a.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);r(n)}else return new Promise(function(a,o){r(function(c,u){if(c){o(c);return}a(u)})})}function p_(t,e){for(var n=t.length^e.length,i=0;i<t.length;++i)n|=t.charCodeAt(i)^e.charCodeAt(i);return n===0}function cN(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:p_(d_(t,e.substring(0,e.length-31)),e)}function uN(t,e,n,i){function r(a){if(typeof t!="string"||typeof e!="string"){fs(a.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){fs(a.bind(this,null,!1));return}h_(t,e.substring(0,29),function(o,c){o?a(o):a(null,p_(c,e))},i)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);r(n)}else return new Promise(function(a,o){r(function(c,u){if(c){o(c);return}a(u)})})}function fN(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function dN(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function hN(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return m_(t)>72}var fs=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function m_(t){for(var e=0,n=0,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(i+1)&64512)===56320?(++i,e+=4):e+=3;return e}function pN(t){for(var e=0,n,i,r=new Array(m_(t)),a=0,o=t.length;a<o;++a)n=t.charCodeAt(a),n<128?r[e++]=n:n<2048?(r[e++]=n>>6|192,r[e++]=n&63|128):(n&64512)===55296&&((i=t.charCodeAt(a+1))&64512)===56320?(n=65536+((n&1023)<<10)+(i&1023),++a,r[e++]=n>>18|240,r[e++]=n>>12&63|128,r[e++]=n>>6&63|128,r[e++]=n&63|128):(r[e++]=n>>12|224,r[e++]=n>>6&63|128,r[e++]=n&63|128);return r}var vf="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Hl=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Lm(t,e){var n=0,i=[],r,a;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(r=t[n++]&255,i.push(vf[r>>2&63]),r=(r&3)<<4,n>=e){i.push(vf[r&63]);break}if(a=t[n++]&255,r|=a>>4&15,i.push(vf[r&63]),r=(a&15)<<2,n>=e){i.push(vf[r&63]);break}a=t[n++]&255,r|=a>>6&3,i.push(vf[r&63]),i.push(vf[a&63])}return i.join("")}function g_(t,e){var n=0,i=t.length,r=0,a=[],o,c,u,f,h,g;if(e<=0)throw Error("Illegal len: "+e);for(;n<i-1&&r<e&&(g=t.charCodeAt(n++),o=g<Hl.length?Hl[g]:-1,g=t.charCodeAt(n++),c=g<Hl.length?Hl[g]:-1,!(o==-1||c==-1||(h=o<<2>>>0,h|=(c&48)>>4,a.push(String.fromCharCode(h)),++r>=e||n>=i)||(g=t.charCodeAt(n++),u=g<Hl.length?Hl[g]:-1,u==-1)||(h=(c&15)<<4>>>0,h|=(u&60)>>2,a.push(String.fromCharCode(h)),++r>=e||n>=i)));)g=t.charCodeAt(n++),f=g<Hl.length?Hl[g]:-1,h=(u&3)<<6>>>0,h|=f,a.push(String.fromCharCode(h)),++r;var x=[];for(n=0;n<r;n++)x.push(a[n].charCodeAt(0));return x}var Ch=16,sy=10,mN=16,gN=100,wx=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],_x=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],y_=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Ah(t,e,n,i){var r,a=t[e],o=t[e+1];return a^=n[0],r=i[a>>>24],r+=i[256|a>>16&255],r^=i[512|a>>8&255],r+=i[768|a&255],o^=r^n[1],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],a^=r^n[2],r=i[a>>>24],r+=i[256|a>>16&255],r^=i[512|a>>8&255],r+=i[768|a&255],o^=r^n[3],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],a^=r^n[4],r=i[a>>>24],r+=i[256|a>>16&255],r^=i[512|a>>8&255],r+=i[768|a&255],o^=r^n[5],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],a^=r^n[6],r=i[a>>>24],r+=i[256|a>>16&255],r^=i[512|a>>8&255],r+=i[768|a&255],o^=r^n[7],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],a^=r^n[8],r=i[a>>>24],r+=i[256|a>>16&255],r^=i[512|a>>8&255],r+=i[768|a&255],o^=r^n[9],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],a^=r^n[10],r=i[a>>>24],r+=i[256|a>>16&255],r^=i[512|a>>8&255],r+=i[768|a&255],o^=r^n[11],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],a^=r^n[12],r=i[a>>>24],r+=i[256|a>>16&255],r^=i[512|a>>8&255],r+=i[768|a&255],o^=r^n[13],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],a^=r^n[14],r=i[a>>>24],r+=i[256|a>>16&255],r^=i[512|a>>8&255],r+=i[768|a&255],o^=r^n[15],r=i[o>>>24],r+=i[256|o>>16&255],r^=i[512|o>>8&255],r+=i[768|o&255],a^=r^n[16],t[e]=o^n[mN+1],t[e+1]=a,t}function Cf(t,e){for(var n=0,i=0;n<4;++n)i=i<<8|t[e]&255,e=(e+1)%t.length;return{key:i,offp:e}}function Sx(t,e,n){for(var i=0,r=[0,0],a=e.length,o=n.length,c,u=0;u<a;u++)c=Cf(t,i),i=c.offp,e[u]=e[u]^c.key;for(u=0;u<a;u+=2)r=Ah(r,0,e,n),e[u]=r[0],e[u+1]=r[1];for(u=0;u<o;u+=2)r=Ah(r,0,e,n),n[u]=r[0],n[u+1]=r[1]}function yN(t,e,n,i){for(var r=0,a=[0,0],o=n.length,c=i.length,u,f=0;f<o;f++)u=Cf(e,r),r=u.offp,n[f]=n[f]^u.key;for(r=0,f=0;f<o;f+=2)u=Cf(t,r),r=u.offp,a[0]^=u.key,u=Cf(t,r),r=u.offp,a[1]^=u.key,a=Ah(a,0,n,i),n[f]=a[0],n[f+1]=a[1];for(f=0;f<c;f+=2)u=Cf(t,r),r=u.offp,a[0]^=u.key,u=Cf(t,r),r=u.offp,a[1]^=u.key,a=Ah(a,0,n,i),i[f]=a[0],i[f+1]=a[1]}function Cx(t,e,n,i,r){var a=y_.slice(),o=a.length,c;if(n<4||n>31)if(c=Error("Illegal number of rounds (4-31): "+n),i){fs(i.bind(this,c));return}else throw c;if(e.length!==Ch)if(c=Error("Illegal salt length: "+e.length+" != "+Ch),i){fs(i.bind(this,c));return}else throw c;n=1<<n>>>0;var u,f,h=0,g;typeof Int32Array=="function"?(u=new Int32Array(wx),f=new Int32Array(_x)):(u=wx.slice(),f=_x.slice()),yN(e,t,u,f);function x(){if(r&&r(h/n),h<n)for(var A=Date.now();h<n&&(h=h+1,Sx(t,u,f),Sx(e,u,f),!(Date.now()-A>gN)););else{for(h=0;h<64;h++)for(g=0;g<o>>1;g++)Ah(a,g<<1,u,f);var C=[];for(h=0;h<o;h++)C.push((a[h]>>24&255)>>>0),C.push((a[h]>>16&255)>>>0),C.push((a[h]>>8&255)>>>0),C.push((a[h]&255)>>>0);if(i){i(null,C);return}else return C}i&&fs(x)}if(typeof i<"u")x();else for(var b;;)if(typeof(b=x())<"u")return b||[]}function h1(t,e,n,i){var r;if(typeof t!="string"||typeof e!="string")if(r=Error("Invalid string / salt: Not a string"),n){fs(n.bind(this,r));return}else throw r;var a,o;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(r=Error("Invalid salt version: "+e.substring(0,2)),n){fs(n.bind(this,r));return}else throw r;if(e.charAt(2)==="$")a="\0",o=3;else{if(a=e.charAt(2),a!=="a"&&a!=="b"&&a!=="y"||e.charAt(3)!=="$")if(r=Error("Invalid salt revision: "+e.substring(2,4)),n){fs(n.bind(this,r));return}else throw r;o=4}if(e.charAt(o+2)>"$")if(r=Error("Missing salt rounds"),n){fs(n.bind(this,r));return}else throw r;var c=parseInt(e.substring(o,o+1),10)*10,u=parseInt(e.substring(o+1,o+2),10),f=c+u,h=e.substring(o+3,o+25);t+=a>="a"?"\0":"";var g=pN(t),x=g_(h,Ch);function b(A){var C=[];return C.push("$2"),a>="a"&&C.push(a),C.push("$"),f<10&&C.push("0"),C.push(f.toString()),C.push("$"),C.push(Lm(x,x.length)),C.push(Lm(A,y_.length*4-1)),C.join("")}if(typeof n>"u")return b(Cx(g,x,f));Cx(g,x,f,function(A,C){A?n(A,null):n(null,b(C))},i)}function vN(t,e){return Lm(t,e)}function xN(t,e){return g_(t,e)}const Hp={setRandomFallback:lN,genSaltSync:ay,genSalt:f_,hashSync:d_,hash:h_,compareSync:cN,compare:uN,getRounds:fN,getSalt:dN,truncates:hN,encodeBase64:vN,decodeBase64:xN};class Gp extends Error{constructor(e){super(`User with username '${e}' already exists`),this.name="UserAlreadyExistsError"}}Fi()&&o_().then(t=>{t||console.warn("⚠️ Supabase connection test failed - trying development mode")});const Ax={async getCompany(){if(console.log("🔄 Loading company data from Supabase..."),!Fi())throw console.error("❌ Supabase not configured - cannot load company data"),new Error("Supabase não configurado");if(!ut)throw console.error("❌ Supabase client not available"),new Error("Cliente Supabase não inicializado");try{const{data:t,error:e}=await ut.from("companies").select("*").limit(1).maybeSingle();return e&&e.code!=="PGRST116"&&(console.error("❌ Company data error:",e),it(e)),t?(console.log("✅ Company data loaded successfully:",t.name),{name:t.name,logoUrlDarkBg:t.logo_url_dark_bg||"",logoUrlLightBg:t.logo_url_light_bg||"",address:t.address||"",phone:t.phone||"",email:t.email||"",cnpj:t.cnpj||"",instagram:t.instagram||"",website:t.website||""}):(console.log("📝 No company data found - returning default"),{name:"Sua Empresa",logoUrlDarkBg:"",logoUrlLightBg:"",address:"",phone:"",email:"",cnpj:"",instagram:"",website:""})}catch(t){throw console.error("❌ Company service error:",t),it(t),t}},async saveCompany(t){try{const{data:e}=await ut.from("companies").select("id").limit(1).single(),n={name:t.name,logo_url_dark_bg:t.logoUrlDarkBg,logo_url_light_bg:t.logoUrlLightBg,address:t.address,phone:t.phone,email:t.email,cnpj:t.cnpj,instagram:t.instagram,website:t.website,updated_at:new Date().toISOString()};if(e){const{error:i}=await ut.from("companies").update(n).eq("id",e.id);i&&it(i)}else{const{error:i}=await ut.from("companies").insert([n]);i&&it(i)}}catch(e){it(e)}}},$p={async getCategories(){if(console.log("🔄 Loading categories from Supabase..."),!Fi()||!ut)throw console.error("❌ Supabase not available for categories"),new Error("Supabase não configurado");try{const{data:t,error:e}=await ut.from("categories").select("*").order("name");return e&&(console.error("❌ Categories error:",e),it(e)),console.log(`✅ Categories loaded: ${(t==null?void 0:t.length)||0} items`),t||[]}catch(t){throw console.error("❌ Categories service error:",t),it(t),t}},async createCategory(t){try{const{data:e,error:n}=await ut.from("categories").insert([{name:t.name}]).select().single();return n&&it(n),e}catch(e){throw it(e),e}},async updateCategory(t){try{const{error:e}=await ut.from("categories").update({name:t.name,updated_at:new Date().toISOString()}).eq("id",t.id);e&&it(e)}catch(e){it(e)}},async deleteCategory(t){try{const{error:e}=await ut.from("categories").delete().eq("id",t);e&&it(e)}catch(e){it(e)}}},Wp={async getProducts(){console.log("🔄 Loading products from Supabase...");try{if(!Fi())throw console.error("❌ Supabase not configured for products"),new Error("Supabase não configurado");if(!ut)throw console.error("❌ Supabase client not available for products"),new Error("Cliente Supabase não inicializado");const{data:t,error:e}=await ut.from("products").select("*").order("name");e&&(console.error("❌ Products error:",e),it(e));const n=(t||[]).map(i=>({id:i.id,name:i.name,description:i.description||"",pricingModel:i.pricing_model,basePrice:Number(i.base_price),unit:i.unit||"un",customCashPrice:i.custom_cash_price?Number(i.custom_cash_price):void 0,customCardPrice:i.custom_card_price?Number(i.custom_card_price):void 0,supplierCost:i.supplier_cost?Number(i.supplier_cost):void 0,categoryId:i.category_id||void 0}));return console.log(`✅ Products loaded: ${n.length} items`),n}catch(t){throw console.error("❌ Products service error:",t),it(t),t}},async createProduct(t){try{const{data:e,error:n}=await ut.from("products").insert([{name:t.name,description:t.description,pricing_model:t.pricingModel,base_price:t.basePrice,unit:t.unit,custom_cash_price:t.customCashPrice,custom_card_price:t.customCardPrice,supplier_cost:t.supplierCost,category_id:t.categoryId}]).select().single();return n&&it(n),{id:e.id,name:e.name,description:e.description||"",pricingModel:e.pricing_model,basePrice:Number(e.base_price),unit:e.unit||"un",customCashPrice:e.custom_cash_price?Number(e.custom_cash_price):void 0,customCardPrice:e.custom_card_price?Number(e.custom_card_price):void 0,supplierCost:e.supplier_cost?Number(e.supplier_cost):void 0,categoryId:e.category_id||void 0}}catch(e){throw it(e),e}},async updateProduct(t){try{const{error:e}=await ut.from("products").update({name:t.name,description:t.description,pricing_model:t.pricingModel,base_price:t.basePrice,unit:t.unit,custom_cash_price:t.customCashPrice,custom_card_price:t.customCardPrice,supplier_cost:t.supplierCost,category_id:t.categoryId,updated_at:new Date().toISOString()}).eq("id",t.id);e&&it(e)}catch(e){it(e)}},async deleteProduct(t){try{const{error:e}=await ut.from("products").delete().eq("id",t);e&&it(e)}catch(e){it(e)}}},Yp={async getCustomers(){try{const{data:t,error:e}=await ut.from("customers").select("*").order("name");e&&it(e);const{data:n,error:i}=await ut.from("customer_down_payments").select("*").order("date");return i&&it(i),(t||[]).map(r=>{const a=(n||[]).filter(o=>o.customer_id===r.id).map(o=>({id:o.id,amount:Number(o.amount),date:o.date,description:o.description||""}));return{id:r.id,name:r.name,documentType:r.document_type,documentNumber:r.document_number||"",phone:r.phone,email:r.email||"",address:r.address||"",city:r.city||"",postalCode:r.postal_code||"",downPayments:a}})}catch(t){return it(t),[]}},async createCustomer(t){try{const{data:e,error:n}=await ut.from("customers").insert([{name:t.name,document_type:t.documentType,document_number:t.documentNumber,phone:t.phone,email:t.email,address:t.address,city:t.city,postal_code:t.postalCode}]).select().single();if(n&&it(n),t.downPayments&&t.downPayments.length>0){const i=t.downPayments.map(a=>({customer_id:e.id,amount:a.amount,date:a.date,description:a.description})),{error:r}=await ut.from("customer_down_payments").insert(i);r&&it(r)}return{id:e.id,name:e.name,documentType:e.document_type,documentNumber:e.document_number||"",phone:e.phone,email:e.email||"",address:e.address||"",city:e.city||"",postalCode:e.postal_code||"",downPayments:t.downPayments||[]}}catch(e){throw it(e),e}},async updateCustomer(t){try{const{error:e}=await ut.from("customers").update({name:t.name,document_type:t.documentType,document_number:t.documentNumber,phone:t.phone,email:t.email,address:t.address,city:t.city,postal_code:t.postalCode,updated_at:new Date().toISOString()}).eq("id",t.id);e&&it(e);const{error:n}=await ut.from("customer_down_payments").delete().eq("customer_id",t.id);if(n&&it(n),t.downPayments&&t.downPayments.length>0){const i=t.downPayments.map(a=>({customer_id:t.id,amount:a.amount,date:a.date,description:a.description})),{error:r}=await ut.from("customer_down_payments").insert(i);r&&it(r)}}catch(e){it(e)}},async deleteCustomer(t){try{const{error:e}=await ut.from("customers").delete().eq("id",t);e&&it(e)}catch(e){it(e)}}},Jp={async getQuotes(){try{if(!Fi())return console.warn("🔌 Supabase not configured - using offline mode"),[];if(!ut)return console.warn("🔌 Supabase client not available - using offline mode"),[];const{data:t,error:e}=await ut.from("quotes").select("*").order("created_at",{ascending:!1});if(e)return console.warn("🔌 Quotes error - switching to offline mode:",e.message),[];const{data:n,error:i}=await ut.from("quote_items").select("*").order("created_at");return i?i.code==="42P01"?(console.warn("🔌 Quote items table does not exist - switching to offline mode"),[]):(it(i),[]):(t||[]).map(r=>{const a=(n||[]).filter(o=>o.quote_id===r.id).map(o=>({productId:o.product_id||"",productName:o.product_name,quantity:Number(o.quantity),unitPrice:Number(o.unit_price),totalPrice:Number(o.total_price),pricingModel:o.pricing_model,width:o.width?Number(o.width):void 0,height:o.height?Number(o.height):void 0,itemCountForAreaCalc:o.item_count_for_area_calc||void 0}));return{id:r.id,quoteNumber:r.quote_number,customerId:r.customer_id||void 0,clientName:r.client_name,clientContact:r.client_contact||"",items:a,subtotal:Number(r.subtotal),discountType:r.discount_type,discountValue:Number(r.discount_value),discountAmountCalculated:Number(r.discount_amount_calculated),subtotalAfterDiscount:Number(r.subtotal_after_discount),totalCash:Number(r.total_cash),totalCard:Number(r.total_card),downPaymentApplied:Number(r.down_payment_applied),selectedPaymentMethod:r.selected_payment_method||"",paymentDate:r.payment_date||void 0,deliveryDeadline:r.delivery_deadline||void 0,status:r.status,companyInfoSnapshot:r.company_info_snapshot,notes:r.notes||"",salespersonUsername:r.salesperson_username,salespersonFullName:r.salesperson_full_name||"",createdAt:r.created_at}})}catch(t){return console.warn("🔌 Quote service - switching to offline mode"),it(t),[]}},async createQuote(t){try{const{data:e,error:n}=await ut.from("quotes").insert([{quote_number:t.quoteNumber,customer_id:t.customerId,client_name:t.clientName,client_contact:t.clientContact,subtotal:t.subtotal,discount_type:t.discountType,discount_value:t.discountValue,discount_amount_calculated:t.discountAmountCalculated,subtotal_after_discount:t.subtotalAfterDiscount,total_cash:t.totalCash,total_card:t.totalCard,down_payment_applied:t.downPaymentApplied,selected_payment_method:t.selectedPaymentMethod,payment_date:t.paymentDate,delivery_deadline:t.deliveryDeadline,status:t.status,company_info_snapshot:t.companyInfoSnapshot,notes:t.notes,salesperson_username:t.salespersonUsername,salesperson_full_name:t.salespersonFullName}]).select().single();if(n&&it(n),t.items&&t.items.length>0){const i=t.items.map(a=>({quote_id:e.id,product_id:a.productId,product_name:a.productName,quantity:a.quantity,unit_price:a.unitPrice,total_price:a.totalPrice,pricing_model:a.pricingModel,width:a.width,height:a.height,item_count_for_area_calc:a.itemCountForAreaCalc})),{error:r}=await ut.from("quote_items").insert(i);r&&it(r)}return{id:e.id,quoteNumber:e.quote_number,customerId:e.customer_id||void 0,clientName:e.client_name,clientContact:e.client_contact||"",items:t.items,subtotal:Number(e.subtotal),discountType:e.discount_type,discountValue:Number(e.discount_value),discountAmountCalculated:Number(e.discount_amount_calculated),subtotalAfterDiscount:Number(e.subtotal_after_discount),totalCash:Number(e.total_cash),totalCard:Number(e.total_card),downPaymentApplied:Number(e.down_payment_applied),selectedPaymentMethod:e.selected_payment_method||"",paymentDate:e.payment_date||void 0,deliveryDeadline:e.delivery_deadline||void 0,status:e.status,companyInfoSnapshot:e.company_info_snapshot,notes:e.notes||"",salespersonUsername:e.salesperson_username,salespersonFullName:e.salesperson_full_name||"",createdAt:e.created_at}}catch(e){throw it(e),e}},async updateQuote(t){try{const{error:e}=await ut.from("quotes").update({quote_number:t.quoteNumber,customer_id:t.customerId,client_name:t.clientName,client_contact:t.clientContact,subtotal:t.subtotal,discount_type:t.discountType,discount_value:t.discountValue,discount_amount_calculated:t.discountAmountCalculated,subtotal_after_discount:t.subtotalAfterDiscount,total_cash:t.totalCash,total_card:t.totalCard,down_payment_applied:t.downPaymentApplied,selected_payment_method:t.selectedPaymentMethod,payment_date:t.paymentDate,delivery_deadline:t.deliveryDeadline,status:t.status,company_info_snapshot:t.companyInfoSnapshot,notes:t.notes,salesperson_username:t.salespersonUsername,salesperson_full_name:t.salespersonFullName,updated_at:new Date().toISOString()}).eq("id",t.id);e&&it(e);const{error:n}=await ut.from("quote_items").delete().eq("quote_id",t.id);if(n&&it(n),t.items&&t.items.length>0){const i=t.items.map(a=>({quote_id:t.id,product_id:a.productId,product_name:a.productName,quantity:a.quantity,unit_price:a.unitPrice,total_price:a.totalPrice,pricing_model:a.pricingModel,width:a.width,height:a.height,item_count_for_area_calc:a.itemCountForAreaCalc})),{error:r}=await ut.from("quote_items").insert(i);r&&it(r)}}catch(e){it(e)}},async deleteQuote(t){try{const{error:e}=await ut.from("quotes").delete().eq("id",t);e&&it(e)}catch(e){it(e)}}},Ks={async getSuppliers(){try{const{data:t,error:e}=await ut.from("suppliers").select("*").order("name");return e&&it(e),(t||[]).map(n=>({id:n.id,name:n.name,cnpj:n.cnpj||"",phone:n.phone||"",email:n.email||"",address:n.address||"",notes:n.notes||""}))}catch(t){return it(t),[]}},async createSupplier(t){try{const{data:e,error:n}=await ut.from("suppliers").insert([{name:t.name,cnpj:t.cnpj,phone:t.phone,email:t.email,address:t.address,notes:t.notes}]).select().single();return n&&it(n),{id:e.id,name:e.name,cnpj:e.cnpj||"",phone:e.phone||"",email:e.email||"",address:e.address||"",notes:e.notes||""}}catch(e){throw it(e),e}},async updateSupplier(t){try{const{error:e}=await ut.from("suppliers").update({name:t.name,cnpj:t.cnpj,phone:t.phone,email:t.email,address:t.address,notes:t.notes,updated_at:new Date().toISOString()}).eq("id",t.id);e&&it(e)}catch(e){it(e)}},async deleteSupplier(t){try{const{error:e}=await ut.from("suppliers").delete().eq("id",t);e&&it(e)}catch(e){it(e)}},async getSupplierDebts(){try{if(!Fi()||!ut)return console.warn("🔌 Supabase not available for supplier debts"),[];const{data:t,error:e}=await ut.from("supplier_debts").select("*").order("date_added",{ascending:!1});return e?(console.warn("🔌 Supplier debts error - switching to offline mode:",e.message),[]):(t||[]).map(n=>({id:n.id,supplierId:n.supplier_id,description:n.description||"",totalAmount:Number(n.total_amount),dateAdded:n.date_added}))}catch{return[]}},async createSupplierDebt(t){try{if(!ut)throw new Error("Cliente Supabase não inicializado");const{data:e,error:n}=await ut.from("supplier_debts").insert([{supplier_id:t.supplierId,description:t.description,total_amount:t.totalAmount,date_added:t.dateAdded}]).select("*").single();if(n&&it(n),!e||!e.id){console.warn("⚠️ Data not returned from insert, attempting to fetch...");const{data:i,error:r}=await ut.from("supplier_debts").select("*").eq("supplier_id",t.supplierId).order("created_at",{ascending:!1}).limit(1).single();if(r||!i)throw new Error("Erro ao criar dívida - verifique as permissões RLS no Supabase");return{id:i.id,supplierId:i.supplier_id,description:i.description||"",totalAmount:Number(i.total_amount),dateAdded:i.date_added}}return{id:e.id,supplierId:e.supplier_id,description:e.description||"",totalAmount:Number(e.total_amount),dateAdded:e.date_added}}catch(e){throw it(e),e}},async deleteSupplierDebt(t){try{const{error:e}=await ut.from("supplier_debts").delete().eq("id",t);e&&it(e)}catch(e){it(e)}},async getSupplierCredits(){try{if(!Fi()||!ut)return console.warn("🔌 Supabase not available for supplier credits"),[];const{data:t,error:e}=await ut.from("supplier_credits").select("*").order("date",{ascending:!1});return e?(console.warn("🔌 Supplier credits error - switching to offline mode:",e.message),[]):(t||[]).map(n=>({id:n.id,supplierId:n.supplier_id,amount:Number(n.amount),date:n.date,description:n.description||""}))}catch{return[]}},async createSupplierCredit(t){try{if(!Fi()||!ut)throw new Error("Supabase não configurado");const{data:e,error:n}=await ut.from("supplier_credits").insert([{supplier_id:t.supplierId,amount:t.amount,date:t.date,description:t.description}]).select("*").single();if(n&&it(n),!e||!e.id){console.warn("⚠️ Data not returned from insert, attempting to fetch...");const{data:i,error:r}=await ut.from("supplier_credits").select("*").eq("supplier_id",t.supplierId).order("created_at",{ascending:!1}).limit(1).single();if(r||!i)throw new Error("Erro ao criar pagamento - verifique as permissões RLS no Supabase");return{id:i.id,supplierId:i.supplier_id,amount:Number(i.amount),date:i.date,description:i.description||""}}return{id:e.id,supplierId:e.supplier_id,amount:Number(e.amount),date:e.date,description:e.description||""}}catch(e){throw it(e),e}},async deleteSupplierCredit(t){try{const{error:e}=await ut.from("supplier_credits").delete().eq("id",t);e&&it(e)}catch(e){it(e)}}},Gd={async getAccountsPayable(){try{const{data:t,error:e}=await ut.from("accounts_payable").select("*").order("due_date");return e&&it(e),(t||[]).map(n=>({id:n.id,name:n.name,amount:Number(n.amount),dueDate:n.due_date,isPaid:n.is_paid,notes:n.notes||"",seriesId:n.series_id||void 0,totalInstallmentsInSeries:n.total_installments_in_series||void 0,installmentNumberOfSeries:n.installment_number_of_series||void 0,createdAt:n.created_at}))}catch(t){return it(t),[]}},async createAccountsPayable(t){try{const e=t.map(r=>({name:r.name,amount:r.amount,due_date:r.dueDate,is_paid:r.isPaid,notes:r.notes,series_id:r.seriesId,total_installments_in_series:r.totalInstallmentsInSeries,installment_number_of_series:r.installmentNumberOfSeries})),{data:n,error:i}=await ut.from("accounts_payable").insert(e).select();return i&&it(i),(n||[]).map(r=>({id:r.id,name:r.name,amount:Number(r.amount),dueDate:r.due_date,isPaid:r.is_paid,notes:r.notes||"",seriesId:r.series_id||void 0,totalInstallmentsInSeries:r.total_installments_in_series||void 0,installmentNumberOfSeries:r.installment_number_of_series||void 0,createdAt:r.created_at}))}catch(e){throw it(e),e}},async updateAccountsPayable(t){try{const{error:e}=await ut.from("accounts_payable").update({name:t.name,amount:t.amount,due_date:t.dueDate,is_paid:t.isPaid,notes:t.notes,series_id:t.seriesId,total_installments_in_series:t.totalInstallmentsInSeries,installment_number_of_series:t.installmentNumberOfSeries,updated_at:new Date().toISOString()}).eq("id",t.id);e&&it(e)}catch(e){it(e)}},async deleteAccountsPayable(t){try{const{error:e}=await ut.from("accounts_payable").delete().eq("id",t);e&&it(e)}catch(e){it(e)}},async deleteAccountsPayableBySeries(t){try{const{error:e}=await ut.from("accounts_payable").delete().eq("series_id",t);e&&it(e)}catch(e){it(e)}}},Ea={async getUsers(){try{if(console.log("🔄 userService.getUsers() called"),!Fi())throw console.warn("⚠️ Supabase not configured"),new Error("Supabase não configurado");if(!ut)throw console.warn("⚠️ Supabase client not available"),new Error("Cliente Supabase não inicializado");const{data:t,error:e}=await ut.from("app_users").select("*").order("username");console.log("📊 Supabase response:",{data:t,error:e,count:t==null?void 0:t.length}),e&&it(e);const n=(t||[]).map(i=>({id:i.id,username:i.username,fullName:i.full_name||"",password:"",role:i.role}));return console.log("✅ Mapped users:",n),n}catch(t){return console.error("❌ userService.getUsers() error:",t),it(t),[]}},async createUser(t){try{if(console.log("🔄 Creating user:",t.username),!Fi())throw console.warn("⚠️ Supabase not configured"),new Error("Supabase não configurado");if(!ut)throw console.warn("⚠️ Supabase client not available"),new Error("Cliente Supabase não inicializado");const e=await Hp.hash(t.password,10);console.log("🔐 Password hashed successfully");const{data:n,error:i}=await ut.from("app_users").insert([{username:t.username,full_name:t.fullName,password_hash:e,role:t.role}]).select().single();if(i)throw console.error("❌ Database error creating user:",i),i.code==="23505"&&i.message.includes("app_users_username_key")?new Gp(t.username):(it(i),i);return console.log("✅ User created successfully:",n.username),{id:n.id,username:n.username,fullName:n.full_name||"",password:"",role:n.role}}catch(e){throw console.error("❌ createUser service error:",e),e instanceof Gp||it(e),e}},async updateUser(t){try{if(console.log("🔄 Updating user:",t.username,"with ID:",t.id),!Fi())throw console.warn("⚠️ Supabase not configured"),new Error("Supabase não configurado");if(!ut)throw console.warn("⚠️ Supabase client not available"),new Error("Cliente Supabase não inicializado");if(!t.id)throw console.error("❌ User ID is required for update"),new Error("ID do usuário é obrigatório para atualização");const e={username:t.username,full_name:t.fullName,role:t.role,updated_at:new Date().toISOString()};t.password&&(console.log("🔐 Updating password for user:",t.username),e.password_hash=await Hp.hash(t.password,10));const{error:n}=await ut.from("app_users").update(e).eq("id",t.id);if(n){if(console.error("❌ Database error updating user:",n),n.code==="23505"&&n.message.includes("app_users_username_key"))throw new Gp(t.username);it(n)}console.log("✅ User updated successfully:",t.username)}catch(e){if(console.error("❌ updateUser service error:",e),e instanceof Gp)throw e;it(e)}},async deleteUser(t){try{if(!Fi())throw new Error("Supabase não configurado");if(!ut)throw new Error("Cliente Supabase não inicializado");const{error:e}=await ut.from("app_users").delete().eq("id",t);e&&it(e)}catch(e){it(e)}},async authenticateUser(t,e){var n;try{if(console.log("🔄 Authenticating user:",t),!Fi())throw console.warn("⚠️ Supabase not configured"),new Error("Supabase não configurado");if(!ut)throw console.warn("⚠️ Supabase client not available"),new Error("Cliente Supabase não inicializado");const{data:i,error:r}=await ut.from("app_users").select("*").eq("username",t).maybeSingle();if(r){if(console.error("❌ Database error during authentication:",r),r.code==="PGRST116")return console.log("❌ User not found in database:",t),null;throw new Error("Erro na consulta do banco de dados")}if(!i)return console.log("❌ User not found:",t),null;if(console.log("✅ User found in database:",i.username),console.log("🔍 Password hash exists:",!!i.password_hash),console.log("🔍 Password hash length:",((n=i.password_hash)==null?void 0:n.length)||0),!i.password_hash||typeof i.password_hash!="string"||i.password_hash.trim()===""){console.log("❌ Invalid or missing password hash for user:",t),console.log("🔧 Attempting to update password hash...");try{const o=await Hp.hash("admin123",10),{error:c}=await ut.from("app_users").update({password_hash:o}).eq("id",i.id);if(c)return console.error("❌ Failed to update password hash:",c),null;console.log("✅ Password hash updated, retrying authentication..."),i.password_hash=o}catch(o){return console.error("❌ Error updating password hash:",o),null}}console.log("🔐 Attempting password comparison..."),console.log("🔐 Input password length:",e.length),console.log("🔐 Hash starts with:",i.password_hash.substring(0,10));let a=!1;try{a=await Hp.compare(e,i.password_hash),console.log("🔐 Password validation result:",a)}catch(o){return console.error("❌ Bcrypt comparison error:",o),null}return a?(console.log("✅ Authentication successful for user:",t),{id:i.id,username:i.username,fullName:i.full_name||"",password:"",role:i.role}):(console.log("❌ Password validation failed for user:",t),console.log("🔐 Expected password: admin123"),console.log("🔐 Received password:",e),null)}catch(i){throw console.error("❌ Authentication error:",i),i}},async getUserByUsername(t){try{if(!Fi()||!ut)return null;const{data:e,error:n}=await ut.from("app_users").select("*").eq("username",t).maybeSingle();return n?(console.error("❌ Error fetching user by username:",n),null):!e||!e.id||typeof e.id!="string"||e.id.trim()===""?null:{id:e.id,username:e.username,fullName:e.full_name||"",password:"",role:e.role}}catch(e){return console.error("❌ Exception in getUserByUsername:",e),null}},async getUserByEmail(t){return null},async deleteUserByUsername(t){try{if(!Fi())throw new Error("Supabase não configurado");if(!ut)throw new Error("Cliente Supabase não inicializado");const{error:e}=await ut.from("app_users").delete().eq("username",t);e&&it(e)}catch(e){it(e)}}},lt=({children:t,variant:e="primary",size:n="md",isLoading:i=!1,iconLeft:r,iconRight:a,className:o,disabled:c,...u})=>{const f="font-semibold rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black transition ease-in-out duration-150 flex items-center justify-center",h={primary:"bg-yellow-500 hover:bg-yellow-600 text-black focus:ring-yellow-400",secondary:"bg-[#282828] hover:bg-[#3a3a3a] text-white focus:ring-yellow-400 border border-[#282828]",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500",warning:"bg-yellow-500 hover:bg-yellow-600 text-black focus:ring-yellow-400",outline:"bg-transparent hover:bg-yellow-500 text-yellow-500 hover:text-black border border-yellow-500 focus:ring-yellow-400"},g={xs:"px-2.5 py-1.5 text-xs",sm:"px-3 py-2 text-sm leading-4",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return w.jsxs("button",{className:`
        ${f} 
        ${h[e]} 
        ${g[n]}
        ${c||i?"opacity-50 cursor-not-allowed":""}
        ${o||""}
      `,disabled:c||i,...u,children:[i&&w.jsxs("svg",{className:`animate-spin h-5 w-5 ${r||t?"mr-3":""} ${a?"ml-3":""}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r&&!i&&w.jsx("span",{className:"mr-2",children:r}),t,a&&!i&&w.jsx("span",{className:"ml-2",children:a})]})},bt=({label:t,id:e,icon:n,error:i,className:r,...a})=>w.jsxs("div",{className:"w-full",children:[t&&w.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-200 mb-1",children:t}),w.jsxs("div",{className:"relative rounded-md shadow-sm",children:[n&&w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n}),w.jsx("input",{id:e,className:`
            ${a.type==="checkbox"?"form-checkbox h-4 w-4 text-yellow-500 bg-[#282828] border-gray-600 rounded focus:ring-yellow-400":`form-input block w-full sm:text-sm rounded-md bg-[#282828] text-white placeholder-gray-500 ${n?"pl-10":"pl-3"} pr-3 py-2 border`}
            ${i?"border-red-500 focus:ring-red-500 focus:border-red-500":a.type!=="checkbox"?"border-[#282828] focus:ring-yellow-500 focus:border-yellow-500":"border-gray-600"}
            ${r||""}
          `,...a})]}),i&&w.jsx("p",{className:"mt-1 text-xs text-red-500",children:i})]}),bN=({onLogin:t})=>{const[e,n]=pe.useState(""),[i,r]=pe.useState(""),[a,o]=pe.useState(!1),[c,u]=pe.useState("");Bf();const f=async h=>{h.preventDefault(),o(!0),u("");try{console.log("🔄 Login attempt for:",e),console.log("🔄 Password provided:",i?"Yes":"No");const g=await Ea.authenticateUser(e,i);if(g)console.log("✅ Login successful for user:",g.username),localStorage.setItem("currentUser",JSON.stringify({id:g.id,username:g.username,fullName:g.fullName,role:g.role})),t(g.username);else throw console.log("❌ Login failed - user is null"),new Error("Email ou senha incorretos")}catch(g){console.error("Login error:",g),g.message==="Supabase não configurado"||g.message==="Cliente Supabase não inicializado"?u("Erro de configuração do sistema. Verifique a conexão com o banco de dados."):g.message==="Erro na consulta do banco de dados"?u("Erro ao consultar banco de dados. Tente novamente."):u("Email ou senha incorretos")}finally{o(!1)}};return w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black py-12 px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-md w-full space-y-8 bg-[#1d1d1d] p-10 rounded-xl shadow-2xl",children:[w.jsxs("div",{children:[w.jsx(l_,{className:"mx-auto h-16 w-auto text-yellow-500"}),w.jsxs("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:["Acessar ",Pm]}),w.jsx("p",{className:"mt-2 text-center text-sm text-gray-300",children:"Bem-vindo! Insira suas credenciais."})]}),w.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[c&&w.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-200 px-4 py-3 rounded",children:c}),w.jsx(bt,{label:"Email",id:"email",type:"email",value:e,onChange:h=>n(h.target.value),required:!0,placeholder:"usuario@exemplo.com"}),w.jsx(bt,{label:"Senha",id:"password",type:"password",value:i,onChange:h=>r(h.target.value),required:!0,placeholder:"password123"}),w.jsx(lt,{type:"submit",variant:"primary",size:"lg",className:"w-full",isLoading:a,disabled:a,children:a?"Entrando...":"Entrar"})]})]})})},oy=({title:t,...e})=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[t&&w.jsx("title",{children:t}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})]}),oc=({title:t,...e})=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[t&&w.jsx("title",{children:t}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})]}),p1=({title:t,...e})=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[t&&w.jsx("title",{children:t}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})]}),oo=({size:t="md",color:e="text-yellow-500",className:n=""})=>{const i={sm:"h-5 w-5",md:"h-8 w-8",lg:"h-12 w-12"};return w.jsx("div",{className:`flex justify-center items-center ${n}`,children:w.jsxs("svg",{className:`animate-spin ${i[t]} ${e}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},Yi=({label:t,id:e,error:n,options:i,className:r,placeholder:a,...o})=>w.jsxs("div",{className:"w-full",children:[t&&w.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-200 mb-1",children:t}),w.jsxs("select",{id:e,className:`
          form-select block w-full sm:text-sm rounded-md
          pl-3 pr-10 py-2 border bg-[#282828] text-white
          ${n?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-[#282828] focus:ring-yellow-500 focus:border-yellow-500"}
          ${r||""}
        `,...o,children:[a&&w.jsx("option",{value:"",disabled:!0,className:"text-gray-400",children:a}),i.map(c=>w.jsx("option",{value:c.value,className:"bg-[#1d1d1d] text-white",children:c.label},c.value))]}),n&&w.jsx("p",{className:"mt-1 text-xs text-red-600",children:n})]});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Fh(t){return t+.5|0}const Zl=(t,e,n)=>Math.max(Math.min(t,n),e);function ih(t){return Zl(Fh(t*2.55),0,255)}function ic(t){return Zl(Fh(t*255),0,255)}function Wo(t){return Zl(Fh(t/2.55)/100,0,1)}function Tx(t){return Zl(Fh(t*100),0,100)}const Na={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},m1=[..."0123456789ABCDEF"],wN=t=>m1[t&15],_N=t=>m1[(t&240)>>4]+m1[t&15],Kp=t=>(t&240)>>4===(t&15),SN=t=>Kp(t.r)&&Kp(t.g)&&Kp(t.b)&&Kp(t.a);function CN(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Na[t[1]]*17,g:255&Na[t[2]]*17,b:255&Na[t[3]]*17,a:e===5?Na[t[4]]*17:255}:(e===7||e===9)&&(n={r:Na[t[1]]<<4|Na[t[2]],g:Na[t[3]]<<4|Na[t[4]],b:Na[t[5]]<<4|Na[t[6]],a:e===9?Na[t[7]]<<4|Na[t[8]]:255})),n}const AN=(t,e)=>t<255?e(t):"";function TN(t){var e=SN(t)?wN:_N;return t?"#"+e(t.r)+e(t.g)+e(t.b)+AN(t.a,e):void 0}const NN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function v_(t,e,n){const i=e*Math.min(n,1-n),r=(a,o=(a+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function EN(t,e,n){const i=(r,a=(r+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function MN(t,e,n){const i=v_(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function PN(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function ly(t){const n=t.r/255,i=t.g/255,r=t.b/255,a=Math.max(n,i,r),o=Math.min(n,i,r),c=(a+o)/2;let u,f,h;return a!==o&&(h=a-o,f=c>.5?h/(2-a-o):h/(a+o),u=PN(n,i,r,h,a),u=u*60+.5),[u|0,f||0,c]}function cy(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(ic)}function uy(t,e,n){return cy(v_,t,e,n)}function LN(t,e,n){return cy(MN,t,e,n)}function DN(t,e,n){return cy(EN,t,e,n)}function x_(t){return(t%360+360)%360}function RN(t){const e=NN.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?ih(+e[5]):ic(+e[5]));const r=x_(+e[2]),a=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=LN(r,a,o):e[1]==="hsv"?i=DN(r,a,o):i=uy(r,a,o),{r:i[0],g:i[1],b:i[2],a:n}}function kN(t,e){var n=ly(t);n[0]=x_(n[0]+e),n=uy(n),t.r=n[0],t.g=n[1],t.b=n[2]}function IN(t){if(!t)return;const e=ly(t),n=e[0],i=Tx(e[1]),r=Tx(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Wo(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const Nx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ex={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function FN(){const t={},e=Object.keys(Ex),n=Object.keys(Nx);let i,r,a,o,c;for(i=0;i<e.length;i++){for(o=c=e[i],r=0;r<n.length;r++)a=n[r],c=c.replace(a,Nx[a]);a=parseInt(Ex[o],16),t[c]=[a>>16&255,a>>8&255,a&255]}return t}let Xp;function ON(t){Xp||(Xp=FN(),Xp.transparent=[0,0,0,0]);const e=Xp[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const jN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function UN(t){const e=jN.exec(t);let n=255,i,r,a;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?ih(o):Zl(o*255,0,255)}return i=+e[1],r=+e[3],a=+e[5],i=255&(e[2]?ih(i):Zl(i,0,255)),r=255&(e[4]?ih(r):Zl(r,0,255)),a=255&(e[6]?ih(a):Zl(a,0,255)),{r:i,g:r,b:a,a:n}}}function BN(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Wo(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const M0=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,xf=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function zN(t,e,n){const i=xf(Wo(t.r)),r=xf(Wo(t.g)),a=xf(Wo(t.b));return{r:ic(M0(i+n*(xf(Wo(e.r))-i))),g:ic(M0(r+n*(xf(Wo(e.g))-r))),b:ic(M0(a+n*(xf(Wo(e.b))-a))),a:t.a+n*(e.a-t.a)}}function Qp(t,e,n){if(t){let i=ly(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=uy(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function b_(t,e){return t&&Object.assign(e||{},t)}function Mx(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ic(t[3]))):(e=b_(t,{r:0,g:0,b:0,a:1}),e.a=ic(e.a)),e}function qN(t){return t.charAt(0)==="r"?UN(t):RN(t)}class Th{constructor(e){if(e instanceof Th)return e;const n=typeof e;let i;n==="object"?i=Mx(e):n==="string"&&(i=CN(e)||ON(e)||qN(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=b_(this._rgb);return e&&(e.a=Wo(e.a)),e}set rgb(e){this._rgb=Mx(e)}rgbString(){return this._valid?BN(this._rgb):void 0}hexString(){return this._valid?TN(this._rgb):void 0}hslString(){return this._valid?IN(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let a;const o=n===a?.5:n,c=2*o-1,u=i.a-r.a,f=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;a=1-f,i.r=255&f*i.r+a*r.r+.5,i.g=255&f*i.g+a*r.g+.5,i.b=255&f*i.b+a*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=zN(this._rgb,e._rgb,n)),this}clone(){return new Th(this.rgb)}alpha(e){return this._rgb.a=ic(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Fh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Qp(this._rgb,2,e),this}darken(e){return Qp(this._rgb,2,-e),this}saturate(e){return Qp(this._rgb,1,e),this}desaturate(e){return Qp(this._rgb,1,-e),this}rotate(e){return kN(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function zo(){}const VN=(()=>{let t=0;return()=>t++})();function Ln(t){return t==null}function Oi(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ln(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Da(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Xs(t,e){return Da(t)?t:e}function on(t,e){return typeof t>"u"?e:t}const HN=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,w_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function zn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function bn(t,e,n,i){let r,a,o;if(Oi(t))for(a=t.length,r=0;r<a;r++)e.call(n,t[r],r);else if(ln(t))for(o=Object.keys(t),a=o.length,r=0;r<a;r++)e.call(n,t[o[r]],o[r])}function Dm(t,e){let n,i,r,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],a=e[n],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function Rm(t){if(Oi(t))return t.map(Rm);if(ln(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Rm(t[n[r]]);return e}return t}function __(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function GN(t,e,n,i){if(!__(t))return;const r=e[t],a=n[t];ln(r)&&ln(a)?Nh(r,a,i):e[t]=Rm(a)}function Nh(t,e,n){const i=Oi(e)?e:[e],r=i.length;if(!ln(t))return t;n=n||{};const a=n.merger||GN;let o;for(let c=0;c<r;++c){if(o=i[c],!ln(o))continue;const u=Object.keys(o);for(let f=0,h=u.length;f<h;++f)a(u[f],t,o,n)}return t}function dh(t,e){return Nh(t,e,{merger:$N})}function $N(t,e,n){if(!__(t))return;const i=e[t],r=n[t];ln(i)&&ln(r)?dh(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Rm(r))}const Px={"":t=>t,x:t=>t.x,y:t=>t.y};function WN(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function YN(t){const e=WN(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function hu(t,e){return(Px[e]||(Px[e]=YN(e)))(t)}function fy(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Eh=t=>typeof t<"u",lc=t=>typeof t=="function",Lx=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function JN(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Pn=Math.PI,Mi=2*Pn,km=Number.POSITIVE_INFINITY,KN=Pn/180,ji=Pn/2,Xc=Pn/4,Dx=Pn*2/3,S_=Math.log10,rc=Math.sign;function xm(t,e,n){return Math.abs(t-e)<n}function Rx(t){const e=Math.round(t);t=xm(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(S_(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function XN(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,a)=>r-a).pop(),e}function QN(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Im(t){return!QN(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function ZN(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function e6(t,e,n){let i,r,a;for(i=0,r=t.length;i<r;i++)a=t[i][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Yo(t){return t*(Pn/180)}function t6(t){return t*(180/Pn)}function kx(t){if(!Da(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function C_(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*Pn&&(a+=Mi),{angle:a,distance:r}}function n6(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function to(t){return(t%Mi+Mi)%Mi}function Fm(t,e,n,i){const r=to(t),a=to(e),o=to(n),c=to(a-r),u=to(o-r),f=to(r-a),h=to(r-o);return r===a||r===o||i&&a===o||c>u&&f<h}function Gr(t,e,n){return Math.max(e,Math.min(n,t))}function i6(t){return Gr(t,-32768,32767)}function au(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function dy(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,a;for(;i-r>1;)a=r+i>>1,n(a)?r=a:i=a;return{lo:r,hi:i}}const g1=(t,e,n,i)=>dy(t,n,i?r=>{const a=t[r][e];return a<n||a===n&&t[r+1][e]===n}:r=>t[r][e]<n),r6=(t,e,n)=>dy(t,n,i=>t[i][e]>=n);function a6(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const A_=["push","pop","shift","splice","unshift"];function s6(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),A_.forEach(n=>{const i="_onData"+fy(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const o=r.apply(this,a);return t._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...a)}),o}})})}function Ix(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(A_.forEach(a=>{delete t[a]}),delete t._chartjs)}function T_(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const N_=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function E_(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,N_.call(window,()=>{i=!1,t.apply(e,n)}))}}function o6(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const hy=t=>t==="start"?"left":t==="end"?"right":"center",yr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,l6=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,Zp=t=>t===0||t===1,Fx=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Mi/n)),Ox=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Mi/n)+1,hh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ji)+1,easeOutSine:t=>Math.sin(t*ji),easeInOutSine:t=>-.5*(Math.cos(Pn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Zp(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Zp(t)?t:Fx(t,.075,.3),easeOutElastic:t=>Zp(t)?t:Ox(t,.075,.3),easeInOutElastic(t){return Zp(t)?t:t<.5?.5*Fx(t*2,.1125,.45):.5+.5*Ox(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-hh.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?hh.easeInBounce(t*2)*.5:hh.easeOutBounce(t*2-1)*.5+.5};function M_(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function jx(t){return M_(t)?t:new Th(t)}function P0(t){return M_(t)?t:new Th(t).saturate(.5).darken(.1).hexString()}const c6=["x","y","borderWidth","radius","tension"],u6=["color","borderColor","backgroundColor"];function f6(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:u6},numbers:{type:"number",properties:c6}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function d6(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ux=new Map;function h6(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Ux.get(n);return i||(i=new Intl.NumberFormat(t,e),Ux.set(n,i)),i}function py(t,e,n){return h6(e,n).format(t)}const p6={values(t){return Oi(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,a=t;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),a=m6(t,n)}const o=S_(Math.abs(a)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),py(t,i,u)}};function m6(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var P_={formatters:p6};function g6(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:P_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const pu=Object.create(null),y1=Object.create(null);function ph(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const a=n[i];t=t[a]||(t[a]=Object.create(null))}return t}function L0(t,e,n){return typeof e=="string"?Nh(ph(t,e),n):Nh(ph(t,""),e)}class y6{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>P0(r.backgroundColor),this.hoverBorderColor=(i,r)=>P0(r.borderColor),this.hoverColor=(i,r)=>P0(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return L0(this,e,n)}get(e){return ph(this,e)}describe(e,n){return L0(y1,e,n)}override(e,n){return L0(pu,e,n)}route(e,n,i,r){const a=ph(this,e),o=ph(this,i),c="_"+n;Object.defineProperties(a,{[c]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[c],f=o[r];return ln(u)?Object.assign({},f,u):on(u,f)},set(u){this[c]=u}}})}apply(e){e.forEach(n=>n(this))}}var _i=new y6({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[f6,d6,g6]);function v6(t){return!t||Ln(t.size)||Ln(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Bx(t,e,n,i,r){let a=e[r];return a||(a=e[r]=t.measureText(r).width,n.push(r)),a>i&&(i=a),i}function Qc(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function zx(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function qx(t,e,n,i){L_(t,e,n,i,null)}function L_(t,e,n,i,r){let a,o,c,u,f,h,g,x;const b=e.pointStyle,A=e.rotation,C=e.radius;let P=(A||0)*KN;if(b&&typeof b=="object"&&(a=b.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(P),t.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),t.restore();return}if(!(isNaN(C)||C<=0)){switch(t.beginPath(),b){default:r?t.ellipse(n,i,r/2,C,0,0,Mi):t.arc(n,i,C,0,Mi),t.closePath();break;case"triangle":h=r?r/2:C,t.moveTo(n+Math.sin(P)*h,i-Math.cos(P)*C),P+=Dx,t.lineTo(n+Math.sin(P)*h,i-Math.cos(P)*C),P+=Dx,t.lineTo(n+Math.sin(P)*h,i-Math.cos(P)*C),t.closePath();break;case"rectRounded":f=C*.516,u=C-f,o=Math.cos(P+Xc)*u,g=Math.cos(P+Xc)*(r?r/2-f:u),c=Math.sin(P+Xc)*u,x=Math.sin(P+Xc)*(r?r/2-f:u),t.arc(n-g,i-c,f,P-Pn,P-ji),t.arc(n+x,i-o,f,P-ji,P),t.arc(n+g,i+c,f,P,P+ji),t.arc(n-x,i+o,f,P+ji,P+Pn),t.closePath();break;case"rect":if(!A){u=Math.SQRT1_2*C,h=r?r/2:u,t.rect(n-h,i-u,2*h,2*u);break}P+=Xc;case"rectRot":g=Math.cos(P)*(r?r/2:C),o=Math.cos(P)*C,c=Math.sin(P)*C,x=Math.sin(P)*(r?r/2:C),t.moveTo(n-g,i-c),t.lineTo(n+x,i-o),t.lineTo(n+g,i+c),t.lineTo(n-x,i+o),t.closePath();break;case"crossRot":P+=Xc;case"cross":g=Math.cos(P)*(r?r/2:C),o=Math.cos(P)*C,c=Math.sin(P)*C,x=Math.sin(P)*(r?r/2:C),t.moveTo(n-g,i-c),t.lineTo(n+g,i+c),t.moveTo(n+x,i-o),t.lineTo(n-x,i+o);break;case"star":g=Math.cos(P)*(r?r/2:C),o=Math.cos(P)*C,c=Math.sin(P)*C,x=Math.sin(P)*(r?r/2:C),t.moveTo(n-g,i-c),t.lineTo(n+g,i+c),t.moveTo(n+x,i-o),t.lineTo(n-x,i+o),P+=Xc,g=Math.cos(P)*(r?r/2:C),o=Math.cos(P)*C,c=Math.sin(P)*C,x=Math.sin(P)*(r?r/2:C),t.moveTo(n-g,i-c),t.lineTo(n+g,i+c),t.moveTo(n+x,i-o),t.lineTo(n-x,i+o);break;case"line":o=r?r/2:Math.cos(P)*C,c=Math.sin(P)*C,t.moveTo(n-o,i-c),t.lineTo(n+o,i+c);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(P)*(r?r/2:C),i+Math.sin(P)*C);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function D_(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function my(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function gy(t){t.restore()}function x6(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ln(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function b6(t,e,n,i,r){if(r.strikethrough||r.underline){const a=t.measureText(i),o=e-a.actualBoundingBoxLeft,c=e+a.actualBoundingBoxRight,u=n-a.actualBoundingBoxAscent,f=n+a.actualBoundingBoxDescent,h=r.strikethrough?(u+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,h),t.lineTo(c,h),t.stroke()}}function w6(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Mh(t,e,n,i,r,a={}){const o=Oi(e)?e:[e],c=a.strokeWidth>0&&a.strokeColor!=="";let u,f;for(t.save(),t.font=r.string,x6(t,a),u=0;u<o.length;++u)f=o[u],a.backdrop&&w6(t,a.backdrop),c&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),Ln(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(f,n,i,a.maxWidth)),t.fillText(f,n,i,a.maxWidth),b6(t,n,i,f,a),i+=Number(r.lineHeight);t.restore()}function Om(t,e){const{x:n,y:i,w:r,h:a,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Pn,Pn,!0),t.lineTo(n,i+a-o.bottomLeft),t.arc(n+o.bottomLeft,i+a-o.bottomLeft,o.bottomLeft,Pn,ji,!0),t.lineTo(n+r-o.bottomRight,i+a),t.arc(n+r-o.bottomRight,i+a-o.bottomRight,o.bottomRight,ji,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-ji,!0),t.lineTo(n+o.topLeft,i)}const _6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,S6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function C6(t,e){const n=(""+t).match(_6);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const A6=t=>+t||0;function yy(t,e){const n={},i=ln(e),r=i?Object.keys(e):e,a=ln(t)?i?o=>on(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=A6(a(o));return n}function R_(t){return yy(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Pf(t){return yy(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ra(t){const e=R_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function xr(t,e){t=t||{},e=e||_i.font;let n=on(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=on(t.style,e.style);i&&!(""+i).match(S6)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:on(t.family,e.family),lineHeight:C6(on(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:on(t.weight,e.weight),string:""};return r.string=v6(r),r}function em(t,e,n,i){let r,a,o;for(r=0,a=t.length;r<a;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function T6(t,e,n){const{min:i,max:r}=t,a=w_(e,(r-i)/2),o=(c,u)=>n&&c===0?0:c+u;return{min:o(i,-Math.abs(a)),max:o(r,a)}}function qf(t,e){return Object.assign(Object.create(t),e)}function vy(t,e=[""],n,i,r=()=>t[0]){const a=n||t;typeof i>"u"&&(i=O_("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:i,_getTarget:r,override:c=>vy([c,...t],e,a,i)};return new Proxy(o,{deleteProperty(c,u){return delete c[u],delete c._keys,delete t[0][u],!0},get(c,u){return I_(c,u,()=>k6(u,e,t,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,u){return Hx(c).includes(u)},ownKeys(c){return Hx(c)},set(c,u,f){const h=c._storage||(c._storage=r());return c[u]=h[u]=f,delete c._keys,!0}})}function Ff(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:k_(t,i),setContext:a=>Ff(t,a,n,i),override:a=>Ff(t.override(a),e,n,i)};return new Proxy(r,{deleteProperty(a,o){return delete a[o],delete t[o],!0},get(a,o,c){return I_(a,o,()=>E6(a,o,c))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(a,o,c){return t[o]=c,delete a[o],!0}})}function k_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:lc(n)?n:()=>n,isIndexable:lc(i)?i:()=>i}}const N6=(t,e)=>t?t+fy(e):e,xy=(t,e)=>ln(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function I_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function E6(t,e,n){const{_proxy:i,_context:r,_subProxy:a,_descriptors:o}=t;let c=i[e];return lc(c)&&o.isScriptable(e)&&(c=M6(e,c,t,n)),Oi(c)&&c.length&&(c=P6(e,c,t,o.isIndexable)),xy(e,c)&&(c=Ff(c,r,a&&a[e],o)),c}function M6(t,e,n,i){const{_proxy:r,_context:a,_subProxy:o,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let u=e(a,o||i);return c.delete(t),xy(t,u)&&(u=by(r._scopes,r,t,u)),u}function P6(t,e,n,i){const{_proxy:r,_context:a,_subProxy:o,_descriptors:c}=n;if(typeof a.index<"u"&&i(t))return e[a.index%e.length];if(ln(e[0])){const u=e,f=r._scopes.filter(h=>h!==u);e=[];for(const h of u){const g=by(f,r,t,h);e.push(Ff(g,a,o&&o[t],c))}}return e}function F_(t,e,n){return lc(t)?t(e,n):t}const L6=(t,e)=>t===!0?e:typeof t=="string"?hu(e,t):void 0;function D6(t,e,n,i,r){for(const a of e){const o=L6(n,a);if(o){t.add(o);const c=F_(o._fallback,n,r);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function by(t,e,n,i){const r=e._rootScopes,a=F_(e._fallback,n,i),o=[...t,...r],c=new Set;c.add(i);let u=Vx(c,o,n,a||n,i);return u===null||typeof a<"u"&&a!==n&&(u=Vx(c,o,a,u,i),u===null)?!1:vy(Array.from(c),[""],r,a,()=>R6(e,n,i))}function Vx(t,e,n,i,r){for(;n;)n=D6(t,e,n,i,r);return n}function R6(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Oi(r)&&ln(n)?n:r||{}}function k6(t,e,n,i){let r;for(const a of e)if(r=O_(N6(a,t),n),typeof r<"u")return xy(t,r)?by(n,i,t,r):r}function O_(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Hx(t){let e=t._keys;return e||(e=t._keys=I6(t._scopes)),e}function I6(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function wy(){return typeof window<"u"&&typeof document<"u"}function _y(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function jm(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Xm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function F6(t,e){return Xm(t).getPropertyValue(e)}const O6=["top","right","bottom","left"];function lu(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const a=O6[r];i[a]=parseFloat(t[e+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const j6=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function U6(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:a}=i;let o=!1,c,u;if(j6(r,a,t.target))c=r,u=a;else{const f=e.getBoundingClientRect();c=i.clientX-f.left,u=i.clientY-f.top,o=!0}return{x:c,y:u,box:o}}function tu(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Xm(n),a=r.boxSizing==="border-box",o=lu(r,"padding"),c=lu(r,"border","width"),{x:u,y:f,box:h}=U6(t,n),g=o.left+(h&&c.left),x=o.top+(h&&c.top);let{width:b,height:A}=e;return a&&(b-=o.width+c.width,A-=o.height+c.height),{x:Math.round((u-g)/b*n.width/i),y:Math.round((f-x)/A*n.height/i)}}function B6(t,e,n){let i,r;if(e===void 0||n===void 0){const a=t&&_y(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const o=a.getBoundingClientRect(),c=Xm(a),u=lu(c,"border","width"),f=lu(c,"padding");e=o.width-f.width-u.width,n=o.height-f.height-u.height,i=jm(c.maxWidth,a,"clientWidth"),r=jm(c.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:i||km,maxHeight:r||km}}const tm=t=>Math.round(t*10)/10;function z6(t,e,n,i){const r=Xm(t),a=lu(r,"margin"),o=jm(r.maxWidth,t,"clientWidth")||km,c=jm(r.maxHeight,t,"clientHeight")||km,u=B6(t,e,n);let{width:f,height:h}=u;if(r.boxSizing==="content-box"){const x=lu(r,"border","width"),b=lu(r,"padding");f-=b.width+x.width,h-=b.height+x.height}return f=Math.max(0,f-a.width),h=Math.max(0,i?f/i:h-a.height),f=tm(Math.min(f,o,u.maxWidth)),h=tm(Math.min(h,c,u.maxHeight)),f&&!h&&(h=tm(f/2)),(e!==void 0||n!==void 0)&&i&&u.height&&h>u.height&&(h=u.height,f=tm(Math.floor(h*i))),{width:f,height:h}}function Gx(t,e,n){const i=e||1,r=Math.floor(t.height*i),a=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==a?(t.currentDevicePixelRatio=i,o.height=r,o.width=a,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const q6=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};wy()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function $x(t,e){const n=F6(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const V6=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},H6=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Lf(t,e,n){return t?V6(e,n):H6()}function j_(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function U_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function nm(t,e,n){return t.options.clip?t[n]:e[n]}function G6(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:nm(n,e,"left"),right:nm(n,e,"right"),top:nm(i,e,"top"),bottom:nm(i,e,"bottom")}:e}function $6(t,e){const n=e._clip;if(n.disabled)return!1;const i=G6(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class W6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const a=n.listeners[r],o=n.duration;a.forEach(c=>c({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=N_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const a=i.items;let o=a.length-1,c=!1,u;for(;o>=0;--o)u=a[o],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),c=!0):(a[o]=a[a.length-1],a.pop());c&&(r.draw(),this._notify(r,i,e,"progress")),a.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ho=new W6;const Wx="transparent",Y6={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=jx(t||Wx),r=i.valid&&jx(e||Wx);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class J6{constructor(e,n,i,r){const a=n[i];r=em([e.to,r,a,e.from]);const o=em([e.from,a,r]);this._active=!0,this._fn=e.fn||Y6[e.type||typeof o],this._easing=hh[e.easing]||hh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],a=i-this._start,o=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=em([e.to,n,r,e.from]),this._from=em([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,a=this._from,o=this._loop,c=this._to;let u;if(this._active=a!==c&&(o||n<i),!this._active){this._target[r]=c,this._notify(!0);return}if(n<0){this._target[r]=a;return}u=n/i%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(a,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class B_{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ln(e))return;const n=Object.keys(_i.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const a=e[r];if(!ln(a))return;const o={};for(const c of n)o[c]=a[c];(Oi(a.properties)&&a.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,o)})})}_animateOptions(e,n){const i=n.options,r=X6(e,i);if(!r)return[];const a=this._createAnimations(r,i);return i.$shared&&K6(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,n){const i=this._properties,r=[],a=e.$animations||(e.$animations={}),o=Object.keys(n),c=Date.now();let u;for(u=o.length-1;u>=0;--u){const f=o[u];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,n));continue}const h=n[f];let g=a[f];const x=i.get(f);if(g)if(x&&g.active()){g.update(x,h,c);continue}else g.cancel();if(!x||!x.duration){e[f]=h;continue}a[f]=g=new J6(x,e,f,h),r.push(g)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Ho.add(this._chart,i),!0}}function K6(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const a=t[i[r]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function X6(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Yx(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:i?a:r,end:i?r:a}}function Q6(t,e,n){if(n===!1)return!1;const i=Yx(t,n),r=Yx(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Z6(t){let e,n,i,r;return ln(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function z_(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,a;for(r=0,a=i.length;r<a;++r)n.push(i[r].index);return n}function Jx(t,e,n,i={}){const r=t.keys,a=i.mode==="single";let o,c,u,f;if(e===null)return;let h=!1;for(o=0,c=r.length;o<c;++o){if(u=+r[o],u===n){if(h=!0,i.all)continue;break}f=t.values[u],Da(f)&&(a||e===0||rc(e)===rc(f))&&(e+=f)}return!h&&!i.all?0:e}function eE(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",o=Object.keys(t),c=new Array(o.length);let u,f,h;for(u=0,f=o.length;u<f;++u)h=o[u],c[u]={[r]:h,[a]:t[h]};return c}function D0(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function tE(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function nE(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function iE(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Kx(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const a=t[r.index];if(n&&a>0||!n&&a<0)return r.index}return null}function Xx(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:a,vScale:o,index:c}=i,u=a.axis,f=o.axis,h=tE(a,o,i),g=e.length;let x;for(let b=0;b<g;++b){const A=e[b],{[u]:C,[f]:P}=A,M=A._stacks||(A._stacks={});x=M[f]=iE(r,h,C),x[c]=P,x._top=Kx(x,o,!0,i.type),x._bottom=Kx(x,o,!1,i.type);const L=x._visualValues||(x._visualValues={});L[c]=P}}function R0(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function rE(t,e){return qf(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function aE(t,e,n){return qf(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function $d(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const a=r._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const k0=t=>t==="reset"||t==="none",Qx=(t,e)=>e?t:Object.assign({},t),sE=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:z_(n,!0),values:null};class Df{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=D0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&$d(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(g,x,b,A)=>g==="x"?x:g==="r"?A:b,a=n.xAxisID=on(i.xAxisID,R0(e,"x")),o=n.yAxisID=on(i.yAxisID,R0(e,"y")),c=n.rAxisID=on(i.rAxisID,R0(e,"r")),u=n.indexAxis,f=n.iAxisID=r(u,a,o,c),h=n.vAxisID=r(u,o,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ix(this._data,this),e._stacked&&$d(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(ln(n)){const r=this._cachedMeta;this._data=eE(n,r)}else if(i!==n){if(i){Ix(i,this);const r=this._cachedMeta;$d(r),r._parsed=[]}n&&Object.isExtensible(n)&&s6(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const a=n._stacked;n._stacked=D0(n.vScale,n),n.stack!==i.stack&&(r=!0,$d(n),n.stack=i.stack),this._resyncElements(e),(r||a!==n._stacked)&&(Xx(this,n._parsed),n._stacked=D0(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:a,_stacked:o}=i,c=a.axis;let u=e===0&&n===r.length?!0:i._sorted,f=e>0&&i._parsed[e-1],h,g,x;if(this._parsing===!1)i._parsed=r,i._sorted=!0,x=r;else{Oi(r[e])?x=this.parseArrayData(i,r,e,n):ln(r[e])?x=this.parseObjectData(i,r,e,n):x=this.parsePrimitiveData(i,r,e,n);const b=()=>g[c]===null||f&&g[c]<f[c];for(h=0;h<n;++h)i._parsed[h+e]=g=x[h],u&&(b()&&(u=!1),f=g);i._sorted=u}o&&Xx(this,x)}parsePrimitiveData(e,n,i,r){const{iScale:a,vScale:o}=e,c=a.axis,u=o.axis,f=a.getLabels(),h=a===o,g=new Array(r);let x,b,A;for(x=0,b=r;x<b;++x)A=x+i,g[x]={[c]:h||a.parse(f[A],A),[u]:o.parse(n[A],A)};return g}parseArrayData(e,n,i,r){const{xScale:a,yScale:o}=e,c=new Array(r);let u,f,h,g;for(u=0,f=r;u<f;++u)h=u+i,g=n[h],c[u]={x:a.parse(g[0],h),y:o.parse(g[1],h)};return c}parseObjectData(e,n,i,r){const{xScale:a,yScale:o}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,f=new Array(r);let h,g,x,b;for(h=0,g=r;h<g;++h)x=h+i,b=n[x],f[h]={x:a.parse(hu(b,c),x),y:o.parse(hu(b,u),x)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,a=this._cachedMeta,o=n[e.axis],c={keys:z_(r,!0),values:n._stacks[e.axis]._visualValues};return Jx(c,o,a.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const a=i[n.axis];let o=a===null?NaN:a;const c=r&&i._stacks[n.axis];r&&c&&(r.values=c,o=Jx(r,a,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,a=i._sorted&&e===i.iScale,o=r.length,c=this._getOtherScale(e),u=sE(n,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:g}=nE(c);let x,b;function A(){b=r[x];const C=b[c.axis];return!Da(b[e.axis])||h>C||g<C}for(x=0;x<o&&!(!A()&&(this.updateRangeFromParsed(f,e,b,u),a));++x);if(a){for(x=o-1;x>=0;--x)if(!A()){this.updateRangeFromParsed(f,e,b,u);break}}return f}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,a,o;for(r=0,a=n.length;r<a;++r)o=n[r][e.axis],Da(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Z6(on(this.options.clip,Q6(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],a=n.chartArea,o=[],c=this._drawStart||0,u=this._drawCount||r.length-c,f=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,a,c,u),h=c;h<c+u;++h){const g=r[h];g.hidden||(g.active&&f?o.push(g):g.draw(e,a))}for(h=0;h<o.length;++h)o[h].draw(e,a)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];a=o.$context||(o.$context=aE(this.getContext(),e,o)),a.parsed=this.getParsed(e),a.raw=r.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=rE(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",a=this._cachedDataOpts,o=e+"-"+n,c=a[o],u=this.enableOptionSharing&&Eh(i);if(c)return Qx(c,u);const f=this.chart.config,h=f.datasetElementScopeKeys(this._type,e),g=r?[`${e}Hover`,"hover",e,""]:[e,""],x=f.getOptionScopes(this.getDataset(),h),b=Object.keys(_i.elements[e]),A=()=>this.getContext(i,r,n),C=f.resolveNamedOptions(x,b,A,g);return C.$shared&&(C.$shared=u,a[o]=Object.freeze(Qx(C,u))),C}_resolveAnimations(e,n,i){const r=this.chart,a=this._cachedDataOpts,o=`animation-${n}`,c=a[o];if(c)return c;let u;if(r.options.animation!==!1){const h=this.chart.config,g=h.datasetAnimationScopeKeys(this._type,n),x=h.getOptionScopes(this.getDataset(),g);u=h.createResolver(x,this.getContext(e,i,n))}const f=new B_(r,u&&u.animations);return u&&u._cacheable&&(a[o]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||k0(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,a=this.getSharedOptions(i),o=this.includeOptions(n,a)||a!==r;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:o}}updateElement(e,n,i,r){k0(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!k0(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const a=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[c,u,f]of this._syncList)this[c](u,f);this._syncList=[];const r=i.length,a=n.length,o=Math.min(a,r);o&&this.parse(0,o),a>r?this._insertElements(r,a-r,e):a<r&&this._removeElements(a,r-a)}_insertElements(e,n,i=!0){const r=this._cachedMeta,a=r.data,o=e+n;let c;const u=f=>{for(f.length+=n,c=f.length-1;c>=o;c--)f[c]=f[c-n]};for(u(a),c=e;c<o;++c)a[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,n),i&&this.updateElements(a,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&$d(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Nt(Df,"defaults",{}),Nt(Df,"datasetElementType",null),Nt(Df,"dataElementType",null);function oE(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,a=n.length;r<a;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=T_(i.sort((r,a)=>r-a))}return t._cache.$bar}function lE(t){const e=t.iScale,n=oE(e,t.type);let i=e._length,r,a,o,c;const u=()=>{o===32767||o===-32768||(Eh(c)&&(i=Math.min(i,Math.abs(o-c)||i)),c=o)};for(r=0,a=n.length;r<a;++r)o=e.getPixelForValue(n[r]),u();for(c=void 0,r=0,a=e.ticks.length;r<a;++r)o=e.getPixelForTick(r),u();return i}function cE(t,e,n,i){const r=n.barThickness;let a,o;return Ln(r)?(a=e.min*n.categoryPercentage,o=n.barPercentage):(a=r*i,o=1),{chunk:a/i,ratio:o,start:e.pixels[t]-a/2}}function uE(t,e,n,i){const r=e.pixels,a=r[t];let o=t>0?r[t-1]:null,c=t<r.length-1?r[t+1]:null;const u=n.categoryPercentage;o===null&&(o=a-(c===null?e.end-e.start:c-a)),c===null&&(c=a+a-o);const f=a-(a-Math.min(o,c))/2*u;return{chunk:Math.abs(c-o)/2*u/i,ratio:n.barPercentage,start:f}}function fE(t,e,n,i){const r=n.parse(t[0],i),a=n.parse(t[1],i),o=Math.min(r,a),c=Math.max(r,a);let u=o,f=c;Math.abs(o)>Math.abs(c)&&(u=c,f=o),e[n.axis]=f,e._custom={barStart:u,barEnd:f,start:r,end:a,min:o,max:c}}function q_(t,e,n,i){return Oi(t)?fE(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Zx(t,e,n,i){const r=t.iScale,a=t.vScale,o=r.getLabels(),c=r===a,u=[];let f,h,g,x;for(f=n,h=n+i;f<h;++f)x=e[f],g={},g[r.axis]=c||r.parse(o[f],f),u.push(q_(x,g,a,f));return u}function I0(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function dE(t,e,n){return t!==0?rc(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function hE(t){let e,n,i,r,a;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",a="start"):(r="start",a="end"),{start:n,end:i,reverse:e,top:r,bottom:a}}function pE(t,e,n,i){let r=e.borderSkipped;const a={};if(!r){t.borderSkipped=a;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:u,top:f,bottom:h}=hE(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=f:(n._bottom||0)===i?r=h:(a[e5(h,o,c,u)]=!0,r=f)),a[e5(r,o,c,u)]=!0,t.borderSkipped=a}function e5(t,e,n,i){return i?(t=mE(t,e,n),t=t5(t,n,e)):t=t5(t,e,n),t}function mE(t,e,n){return t===e?n:t===n?e:t}function t5(t,e,n){return t==="start"?e:t==="end"?n:t}function gE(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class bm extends Df{parsePrimitiveData(e,n,i,r){return Zx(e,n,i,r)}parseArrayData(e,n,i,r){return Zx(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:a,vScale:o}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,f=a.axis==="x"?c:u,h=o.axis==="x"?c:u,g=[];let x,b,A,C;for(x=i,b=i+r;x<b;++x)C=n[x],A={},A[a.axis]=a.parse(hu(C,f),x),g.push(q_(hu(C,h),A,o,x));return g}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const a=i._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,a=this.getParsed(e),o=a._custom,c=I0(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+i.getLabelForValue(a[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const a=r==="reset",{index:o,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),f=c.isHorizontal(),h=this._getRuler(),{sharedOptions:g,includeOptions:x}=this._getSharedOptions(n,r);for(let b=n;b<n+i;b++){const A=this.getParsed(b),C=a||Ln(A[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(b),P=this._calculateBarIndexPixels(b,h),M=(A._stacks||{})[c.axis],L={horizontal:f,base:C.base,enableBorderRadius:!M||I0(A._custom)||o===M._top||o===M._bottom,x:f?C.head:P.center,y:f?P.center:C.head,height:f?P.size:Math.abs(C.size),width:f?Math.abs(C.size):P.size};x&&(L.options=g||this.resolveDataElementOptions(b,e[b].active?"active":r));const N=L.options||e[b].options;pE(L,N,M,o),gE(L,N,h.ratio),this.updateElement(e[b],b,L,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),a=i.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(n),u=c&&c[i.axis],f=h=>{const g=h._parsed.find(b=>b[i.axis]===u),x=g&&g[h.vScale.axis];if(Ln(x)||isNaN(x))return!0};for(const h of r)if(!(n!==void 0&&f(h))&&((a===!1||o.indexOf(h.stack)===-1||a===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[on(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const r=this._getStacks(e,i),a=n!==void 0?r.indexOf(n):-1;return a===-1?r.length-1:a}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let a,o;for(a=0,o=n.data.length;a<o;++a)r.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));const c=e.barThickness;return{min:c||lE(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:a,minBarLength:o}}=this,c=a||0,u=this.getParsed(e),f=u._custom,h=I0(f);let g=u[n.axis],x=0,b=i?this.applyStack(n,u,i):g,A,C;b!==g&&(x=b-g,b=g),h&&(g=f.barStart,b=f.barEnd-f.barStart,g!==0&&rc(g)!==rc(f.barEnd)&&(x=0),x+=g);const P=!Ln(a)&&!h?a:x;let M=n.getPixelForValue(P);if(this.chart.getDataVisibility(e)?A=n.getPixelForValue(x+b):A=M,C=A-M,Math.abs(C)<o){C=dE(C,n,c)*o,g===c&&(M-=C/2);const L=n.getPixelForDecimal(0),N=n.getPixelForDecimal(1),R=Math.min(L,N),F=Math.max(L,N);M=Math.max(Math.min(M,F),R),A=M+C,i&&!h&&(u._stacks[n.axis]._visualValues[r]=n.getValueForPixel(A)-n.getValueForPixel(M))}if(M===n.getPixelForValue(c)){const L=rc(C)*n.getLineWidthForValue(c)/2;M+=L,C-=L}return{size:C,base:M,head:A,center:A+C/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,a=r.skipNull,o=on(r.maxBarThickness,1/0);let c,u;const f=this._getAxisCount();if(n.grouped){const h=a?this._getStackCount(e):n.stackCount,g=r.barThickness==="flex"?uE(e,n,r,h*f):cE(e,n,r,h*f),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(on(x,this.getFirstScaleIdForIndexAxis())),A=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+b;c=g.start+g.chunk*A+g.chunk/2,u=Math.min(o,g.chunk*g.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),u=Math.min(o,n.min*n.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let a=0;for(;a<r;++a)this.getParsed(a)[n.axis]!==null&&!i[a].hidden&&i[a].draw(this._ctx)}}Nt(bm,"id","bar"),Nt(bm,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Nt(bm,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function yE(t,e,n){let i=1,r=1,a=0,o=0;if(e<Mi){const c=t,u=c+e,f=Math.cos(c),h=Math.sin(c),g=Math.cos(u),x=Math.sin(u),b=(N,R,F)=>Fm(N,c,u,!0)?1:Math.max(R,R*n,F,F*n),A=(N,R,F)=>Fm(N,c,u,!0)?-1:Math.min(R,R*n,F,F*n),C=b(0,f,g),P=b(ji,h,x),M=A(Pn,f,g),L=A(Pn+ji,h,x);i=(C-M)/2,r=(P-L)/2,a=-(C+M)/2,o=-(P+L)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:o}}class rh extends Df{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let a=u=>+i[u];if(ln(i[e])){const{key:u="value"}=this._parsing;a=f=>+hu(i[f],u)}let o,c;for(o=e,c=e+n;o<c;++o)r._parsed[o]=a(o)}}_getRotation(){return Yo(this.options.rotation-90)}_getCircumference(){return Yo(this.options.circumference)}_getRotationExtents(){let e=Mi,n=-Mi;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,a=r._getRotation(),o=r._getCircumference();e=Math.min(e,a),n=Math.max(n,a+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,a=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-o)/2,0),u=Math.min(HN(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:h,rotation:g}=this._getRotationExtents(),{ratioX:x,ratioY:b,offsetX:A,offsetY:C}=yE(g,h,u),P=(i.width-o)/x,M=(i.height-o)/b,L=Math.max(Math.min(P,M)/2,0),N=w_(this.options.radius,L),R=Math.max(N*u,0),F=(N-R)/this._getVisibleDatasetWeightTotal();this.offsetX=A*N,this.offsetY=C*N,r.total=this.calculateTotal(),this.outerRadius=N-F*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-F*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,a=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*a/Mi)}updateElements(e,n,i,r){const a=r==="reset",o=this.chart,c=o.chartArea,f=o.options.animation,h=(c.left+c.right)/2,g=(c.top+c.bottom)/2,x=a&&f.animateScale,b=x?0:this.innerRadius,A=x?0:this.outerRadius,{sharedOptions:C,includeOptions:P}=this._getSharedOptions(n,r);let M=this._getRotation(),L;for(L=0;L<n;++L)M+=this._circumference(L,a);for(L=n;L<n+i;++L){const N=this._circumference(L,a),R=e[L],F={x:h+this.offsetX,y:g+this.offsetY,startAngle:M,endAngle:M+N,circumference:N,outerRadius:A,innerRadius:b};P&&(F.options=C||this.resolveDataElementOptions(L,R.active?"active":r)),M+=N,this.updateElement(R,L,F,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const a=e._parsed[r];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Mi*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],a=py(n._parsed[e],i.options.locale);return{label:r[e]||"",value:a}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,a,o,c,u;if(!e){for(r=0,a=i.data.datasets.length;r<a;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,c=o.controller;break}}if(!e)return 0;for(r=0,a=e.length;r<a;++r)u=c.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const a=this.resolveDataElementOptions(i);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(on(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Nt(rh,"id","doughnut"),Nt(rh,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Nt(rh,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Nt(rh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((a,o)=>{const u=e.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class v1 extends rh{}Nt(v1,"id","pie"),Nt(v1,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Zc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Sy{constructor(e){Nt(this,"options");this.options=e||{}}static override(e){Object.assign(Sy.prototype,e)}init(){}formats(){return Zc()}parse(){return Zc()}format(){return Zc()}add(){return Zc()}diff(){return Zc()}startOf(){return Zc()}endOf(){return Zc()}}var vE={_date:Sy};function xE(t,e,n,i){const{controller:r,data:a,_sorted:o}=t,c=r._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&a.length){const f=c._reversePixels?r6:g1;if(i){if(r._sharedOptions){const h=a[0],g=typeof h.getRange=="function"&&h.getRange(e);if(g){const x=f(a,e,n-g),b=f(a,e,n+g);return{lo:x.lo,hi:b.hi}}}}else{const h=f(a,e,n);if(u){const{vScale:g}=r._cachedMeta,{_parsed:x}=t,b=x.slice(0,h.lo+1).reverse().findIndex(C=>!Ln(C[g.axis]));h.lo-=Math.max(0,b);const A=x.slice(h.hi).findIndex(C=>!Ln(C[g.axis]));h.hi+=Math.max(0,A)}return h}}return{lo:0,hi:a.length-1}}function Qm(t,e,n,i,r){const a=t.getSortedVisibleDatasetMetas(),o=n[e];for(let c=0,u=a.length;c<u;++c){const{index:f,data:h}=a[c],{lo:g,hi:x}=xE(a[c],e,o,r);for(let b=g;b<=x;++b){const A=h[b];A.skip||i(A,f,b)}}}function bE(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const a=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function F0(t,e,n,i,r){const a=[];return!r&&!t.isPointInArea(e)||Qm(t,n,e,function(c,u,f){!r&&!D_(c,t.chartArea,0)||c.inRange(e.x,e.y,i)&&a.push({element:c,datasetIndex:u,index:f})},!0),a}function wE(t,e,n,i){let r=[];function a(o,c,u){const{startAngle:f,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:g}=C_(o,{x:e.x,y:e.y});Fm(g,f,h)&&r.push({element:o,datasetIndex:c,index:u})}return Qm(t,n,e,a),r}function _E(t,e,n,i,r,a){let o=[];const c=bE(n);let u=Number.POSITIVE_INFINITY;function f(h,g,x){const b=h.inRange(e.x,e.y,r);if(i&&!b)return;const A=h.getCenterPoint(r);if(!(!!a||t.isPointInArea(A))&&!b)return;const P=c(e,A);P<u?(o=[{element:h,datasetIndex:g,index:x}],u=P):P===u&&o.push({element:h,datasetIndex:g,index:x})}return Qm(t,n,e,f),o}function O0(t,e,n,i,r,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!i?wE(t,e,n,r):_E(t,e,n,i,r,a)}function n5(t,e,n,i,r){const a=[],o=n==="x"?"inXRange":"inYRange";let c=!1;return Qm(t,n,e,(u,f,h)=>{u[o]&&u[o](e[n],r)&&(a.push({element:u,datasetIndex:f,index:h}),c=c||u.inRange(e.x,e.y,r))}),i&&!c?[]:a}var SE={modes:{index(t,e,n,i){const r=tu(e,t),a=n.axis||"x",o=n.includeInvisible||!1,c=n.intersect?F0(t,r,a,i,o):O0(t,r,a,!1,i,o),u=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const h=c[0].index,g=f.data[h];g&&!g.skip&&u.push({element:g,datasetIndex:f.index,index:h})}),u):[]},dataset(t,e,n,i){const r=tu(e,t),a=n.axis||"xy",o=n.includeInvisible||!1;let c=n.intersect?F0(t,r,a,i,o):O0(t,r,a,!1,i,o);if(c.length>0){const u=c[0].datasetIndex,f=t.getDatasetMeta(u).data;c=[];for(let h=0;h<f.length;++h)c.push({element:f[h],datasetIndex:u,index:h})}return c},point(t,e,n,i){const r=tu(e,t),a=n.axis||"xy",o=n.includeInvisible||!1;return F0(t,r,a,i,o)},nearest(t,e,n,i){const r=tu(e,t),a=n.axis||"xy",o=n.includeInvisible||!1;return O0(t,r,a,n.intersect,i,o)},x(t,e,n,i){const r=tu(e,t);return n5(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=tu(e,t);return n5(t,r,"y",n.intersect,i)}}};const V_=["left","top","right","bottom"];function Wd(t,e){return t.filter(n=>n.pos===e)}function i5(t,e){return t.filter(n=>V_.indexOf(n.pos)===-1&&n.box.axis===e)}function Yd(t,e){return t.sort((n,i)=>{const r=e?i:n,a=e?n:i;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function CE(t){const e=[];let n,i,r,a,o,c;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:a,options:{stack:o,stackWeight:c=1}}=r,e.push({index:n,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&a+o,stackWeight:c});return e}function AE(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:a}=n;if(!i||!V_.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return e}function TE(t,e){const n=AE(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let a,o,c;for(a=0,o=t.length;a<o;++a){c=t[a];const{fullSize:u}=c.box,f=n[c.stack],h=f&&c.stackWeight/f.weight;c.horizontal?(c.width=h?h*i:u&&e.availableWidth,c.height=r):(c.width=i,c.height=h?h*r:u&&e.availableHeight)}return n}function NE(t){const e=CE(t),n=Yd(e.filter(f=>f.box.fullSize),!0),i=Yd(Wd(e,"left"),!0),r=Yd(Wd(e,"right")),a=Yd(Wd(e,"top"),!0),o=Yd(Wd(e,"bottom")),c=i5(e,"x"),u=i5(e,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:r.concat(u).concat(o).concat(c),chartArea:Wd(e,"chartArea"),vertical:i.concat(r).concat(u),horizontal:a.concat(o).concat(c)}}function r5(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function H_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function EE(t,e,n,i){const{pos:r,box:a}=n,o=t.maxPadding;if(!ln(r)){n.size&&(t[r]-=n.size);const g=i[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?a.height:a.width),n.size=g.size/g.count,t[r]+=n.size}a.getPadding&&H_(o,a.getPadding());const c=Math.max(0,e.outerWidth-r5(o,t,"left","right")),u=Math.max(0,e.outerHeight-r5(o,t,"top","bottom")),f=c!==t.w,h=u!==t.h;return t.w=c,t.h=u,n.horizontal?{same:f,other:h}:{same:h,other:f}}function ME(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function PE(t,e){const n=e.maxPadding;function i(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{a[o]=Math.max(e[o],n[o])}),a}return i(t?["left","right"]:["top","bottom"])}function ah(t,e,n,i){const r=[];let a,o,c,u,f,h;for(a=0,o=t.length,f=0;a<o;++a){c=t[a],u=c.box,u.update(c.width||e.w,c.height||e.h,PE(c.horizontal,e));const{same:g,other:x}=EE(e,n,c,i);f|=g&&r.length,h=h||x,u.fullSize||r.push(c)}return f&&ah(r,e,n,i)||h}function im(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function a5(t,e,n,i){const r=n.padding;let{x:a,y:o}=e;for(const c of t){const u=c.box,f=i[c.stack]||{placed:0,weight:1},h=c.stackWeight/f.weight||1;if(c.horizontal){const g=e.w*h,x=f.size||u.height;Eh(f.start)&&(o=f.start),u.fullSize?im(u,r.left,o,n.outerWidth-r.right-r.left,x):im(u,e.left+f.placed,o,g,x),f.start=o,f.placed+=g,o=u.bottom}else{const g=e.h*h,x=f.size||u.width;Eh(f.start)&&(a=f.start),u.fullSize?im(u,a,r.top,x,n.outerHeight-r.bottom-r.top):im(u,a,e.top+f.placed,x,g),f.start=a,f.placed+=g,a=u.right}}e.x=a,e.y=o}var Ma={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Ra(t.options.layout.padding),a=Math.max(e-r.width,0),o=Math.max(n-r.height,0),c=NE(t.boxes),u=c.vertical,f=c.horizontal;bn(t.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const h=u.reduce((C,P)=>P.box.options&&P.box.options.display===!1?C:C+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/h,hBoxMaxHeight:o/2}),x=Object.assign({},r);H_(x,Ra(i));const b=Object.assign({maxPadding:x,w:a,h:o,x:r.left,y:r.top},r),A=TE(u.concat(f),g);ah(c.fullSize,b,g,A),ah(u,b,g,A),ah(f,b,g,A)&&ah(u,b,g,A),ME(b),a5(c.leftAndTop,b,g,A),b.x+=b.w,b.y+=b.h,a5(c.rightAndBottom,b,g,A),t.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},bn(c.chartArea,C=>{const P=C.box;Object.assign(P,t.chartArea),P.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class G_{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class LE extends G_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const wm="$chartjs",DE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},s5=t=>t===null||t==="";function RE(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[wm]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",s5(r)){const a=$x(t,"width");a!==void 0&&(t.width=a)}if(s5(i))if(t.style.height==="")t.height=t.width/(e||2);else{const a=$x(t,"height");a!==void 0&&(t.height=a)}return t}const $_=q6?{passive:!0}:!1;function kE(t,e,n){t&&t.addEventListener(e,n,$_)}function IE(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,$_)}function FE(t,e){const n=DE[t.type]||t.type,{x:i,y:r}=tu(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Um(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function OE(t,e,n){const i=t.canvas,r=new MutationObserver(a=>{let o=!1;for(const c of a)o=o||Um(c.addedNodes,i),o=o&&!Um(c.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function jE(t,e,n){const i=t.canvas,r=new MutationObserver(a=>{let o=!1;for(const c of a)o=o||Um(c.removedNodes,i),o=o&&!Um(c.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ph=new Map;let o5=0;function W_(){const t=window.devicePixelRatio;t!==o5&&(o5=t,Ph.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function UE(t,e){Ph.size||window.addEventListener("resize",W_),Ph.set(t,e)}function BE(t){Ph.delete(t),Ph.size||window.removeEventListener("resize",W_)}function zE(t,e,n){const i=t.canvas,r=i&&_y(i);if(!r)return;const a=E_((c,u)=>{const f=r.clientWidth;n(c,u),f<r.clientWidth&&n()},window),o=new ResizeObserver(c=>{const u=c[0],f=u.contentRect.width,h=u.contentRect.height;f===0&&h===0||a(f,h)});return o.observe(r),UE(t,a),o}function j0(t,e,n){n&&n.disconnect(),e==="resize"&&BE(t)}function qE(t,e,n){const i=t.canvas,r=E_(a=>{t.ctx!==null&&n(FE(a,t))},t);return kE(i,e,r),r}class VE extends G_{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(RE(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[wm])return!1;const i=n[wm].initial;["height","width"].forEach(a=>{const o=i[a];Ln(o)?n.removeAttribute(a):n.setAttribute(a,o)});const r=i.style||{};return Object.keys(r).forEach(a=>{n.style[a]=r[a]}),n.width=n.width,delete n[wm],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:OE,detach:jE,resize:zE}[n]||qE;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:j0,detach:j0,resize:j0}[n]||IE)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return z6(e,n,i,r)}isAttached(e){const n=e&&_y(e);return!!(n&&n.isConnected)}}function HE(t){return!wy()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?LE:VE}class Xo{constructor(){Nt(this,"x");Nt(this,"y");Nt(this,"active",!1);Nt(this,"options");Nt(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Im(this.x)&&Im(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(a=>{r[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),r}}Nt(Xo,"defaults",{}),Nt(Xo,"defaultRoutes");function GE(t,e){const n=t.options.ticks,i=$E(t),r=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?YE(e):[],o=a.length,c=a[0],u=a[o-1],f=[];if(o>r)return JE(e,f,a,o/r),f;const h=WE(a,e,r);if(o>0){let g,x;const b=o>1?Math.round((u-c)/(o-1)):null;for(rm(e,f,h,Ln(b)?0:c-b,c),g=0,x=o-1;g<x;g++)rm(e,f,h,a[g],a[g+1]);return rm(e,f,h,u,Ln(b)?e.length:u+b),f}return rm(e,f,h),f}function $E(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function WE(t,e,n){const i=KE(t),r=e.length/n;if(!i)return Math.max(r,1);const a=XN(i);for(let o=0,c=a.length-1;o<c;o++){const u=a[o];if(u>r)return u}return Math.max(r,1)}function YE(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function JE(t,e,n,i){let r=0,a=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===a&&(e.push(t[o]),r++,a=n[r*i])}function rm(t,e,n,i,r){const a=on(i,0),o=Math.min(on(r,t.length),t.length);let c=0,u,f,h;for(n=Math.ceil(n),r&&(u=r-i,n=u/Math.floor(u/n)),h=a;h<0;)c++,h=Math.round(a+c*n);for(f=Math.max(a,0);f<o;f++)f===h&&(e.push(t[f]),c++,h=Math.round(a+c*n))}function KE(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const XE=t=>t==="left"?"right":t==="right"?"left":t,l5=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,c5=(t,e)=>Math.min(e||t,t);function u5(t,e){const n=[],i=t.length/e,r=t.length;let a=0;for(;a<r;a+=i)n.push(t[Math.floor(a)]);return n}function QE(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),a=t._startPixel,o=t._endPixel,c=1e-6;let u=t.getPixelForTick(r),f;if(!(n&&(i===1?f=Math.max(u-a,o-u):e===0?f=(t.getPixelForTick(1)-u)/2:f=(u-t.getPixelForTick(r-1))/2,u+=r<e?f:-f,u<a-c||u>o+c)))return u}function ZE(t,e){bn(t,n=>{const i=n.gc,r=i.length/2;let a;if(r>e){for(a=0;a<r;++a)delete n.data[i[a]];i.splice(0,r)}})}function Jd(t){return t.drawTicks?t.tickLength:0}function f5(t,e){if(!t.display)return 0;const n=xr(t.font,e),i=Ra(t.padding);return(Oi(t.text)?t.text.length:1)*n.lineHeight+i.height}function e8(t,e){return qf(t,{scale:e,type:"scale"})}function t8(t,e,n){return qf(t,{tick:n,index:e,type:"tick"})}function n8(t,e,n){let i=hy(t);return(n&&e!=="right"||!n&&e==="right")&&(i=XE(i)),i}function i8(t,e,n,i){const{top:r,left:a,bottom:o,right:c,chart:u}=t,{chartArea:f,scales:h}=u;let g=0,x,b,A;const C=o-r,P=c-a;if(t.isHorizontal()){if(b=yr(i,a,c),ln(n)){const M=Object.keys(n)[0],L=n[M];A=h[M].getPixelForValue(L)+C-e}else n==="center"?A=(f.bottom+f.top)/2+C-e:A=l5(t,n,e);x=c-a}else{if(ln(n)){const M=Object.keys(n)[0],L=n[M];b=h[M].getPixelForValue(L)-P+e}else n==="center"?b=(f.left+f.right)/2-P+e:b=l5(t,n,e);A=yr(i,o,r),g=n==="left"?-ji:ji}return{titleX:b,titleY:A,maxWidth:x,rotation:g}}let Zm=class Y_ extends Xo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Xs(e,Number.POSITIVE_INFINITY),n=Xs(n,Number.NEGATIVE_INFINITY),i=Xs(i,Number.POSITIVE_INFINITY),r=Xs(r,Number.NEGATIVE_INFINITY),{min:Xs(e,i),max:Xs(n,r),minDefined:Da(e),maxDefined:Da(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:a}=this.getUserBounds(),o;if(r&&a)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,f=c.length;u<f;++u)o=c[u].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),a||(i=Math.max(i,o.max));return n=a&&n>i?i:n,i=r&&n>i?n:i,{min:Xs(n,Xs(i,n)),max:Xs(i,Xs(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){zn(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:a,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=T6(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?u5(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=GE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){zn(this.options.afterUpdate,[this])}beforeSetDimensions(){zn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){zn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),zn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){zn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,a;for(i=0,r=e.length;i<r;i++)a=e[i],a.label=zn(n.callback,[a.value,i,e],this)}afterTickToLabelConversion(){zn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){zn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=c5(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,a=n.maxRotation;let o=r,c,u,f;if(!this._isVisible()||!n.display||r>=a||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),g=h.widest.width,x=h.highest.height,b=Gr(this.chart.width-g,0,this.maxWidth);c=e.offset?this.maxWidth/i:b/(i-1),g+6>c&&(c=b/(i-(e.offset?.5:1)),u=this.maxHeight-Jd(e.grid)-n.padding-f5(e.title,this.chart.options.font),f=Math.sqrt(g*g+x*x),o=t6(Math.min(Math.asin(Gr((h.highest.height+6)/c,-1,1)),Math.asin(Gr(u/f,-1,1))-Math.asin(Gr(x/f,-1,1)))),o=Math.max(r,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){zn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){zn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:a}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const u=f5(r,n.options.font);if(c?(e.width=this.maxWidth,e.height=Jd(a)+u):(e.height=this.maxHeight,e.width=Jd(a)+u),i.display&&this.ticks.length){const{first:f,last:h,widest:g,highest:x}=this._getLabelSizes(),b=i.padding*2,A=Yo(this.labelRotation),C=Math.cos(A),P=Math.sin(A);if(c){const M=i.mirror?0:P*g.width+C*x.height;e.height=Math.min(this.maxHeight,e.height+M+b)}else{const M=i.mirror?0:C*g.width+P*x.height;e.width=Math.min(this.maxWidth,e.width+M+b)}this._calculatePadding(f,h,P,C)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:a,padding:o},position:c}=this.options,u=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,b=0;u?f?(x=r*e.width,b=i*n.height):(x=i*e.height,b=r*n.width):a==="start"?b=n.width:a==="end"?x=e.width:a!=="inner"&&(x=e.width/2,b=n.width/2),this.paddingLeft=Math.max((x-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((b-g+o)*this.width/(this.width-g),0)}else{let h=n.height/2,g=e.height/2;a==="start"?(h=0,g=e.height):a==="end"&&(h=n.height,g=0),this.paddingTop=h+o,this.paddingBottom=g+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){zn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Ln(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=u5(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:a}=this,o=[],c=[],u=Math.floor(n/c5(n,i));let f=0,h=0,g,x,b,A,C,P,M,L,N,R,F;for(g=0;g<n;g+=u){if(A=e[g].label,C=this._resolveTickFontOptions(g),r.font=P=C.string,M=a[P]=a[P]||{data:{},gc:[]},L=C.lineHeight,N=R=0,!Ln(A)&&!Oi(A))N=Bx(r,M.data,M.gc,N,A),R=L;else if(Oi(A))for(x=0,b=A.length;x<b;++x)F=A[x],!Ln(F)&&!Oi(F)&&(N=Bx(r,M.data,M.gc,N,F),R+=L);o.push(N),c.push(R),f=Math.max(N,f),h=Math.max(R,h)}ZE(a,n);const Y=o.indexOf(f),B=c.indexOf(h),V=X=>({width:o[X]||0,height:c[X]||0});return{first:V(0),last:V(n-1),widest:V(Y),highest:V(B),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return i6(this._alignToPixels?Qc(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=t8(this.getContext(),e,i))}return this.$context||(this.$context=e8(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Yo(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),a=this._getLabelSizes(),o=e.autoSkipPadding||0,c=a?a.widest.width+o:0,u=a?a.highest.height+o:0;return this.isHorizontal()?u*i>c*r?c/i:u/r:u*r<c*i?u/i:c/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:a,position:o,border:c}=r,u=a.offset,f=this.isHorizontal(),g=this.ticks.length+(u?1:0),x=Jd(a),b=[],A=c.setContext(this.getContext()),C=A.display?A.width:0,P=C/2,M=function(z){return Qc(i,z,C)};let L,N,R,F,Y,B,V,X,K,O,j,Q;if(o==="top")L=M(this.bottom),B=this.bottom-x,X=L-P,O=M(e.top)+P,Q=e.bottom;else if(o==="bottom")L=M(this.top),O=e.top,Q=M(e.bottom)-P,B=L+P,X=this.top+x;else if(o==="left")L=M(this.right),Y=this.right-x,V=L-P,K=M(e.left)+P,j=e.right;else if(o==="right")L=M(this.left),K=e.left,j=M(e.right)-P,Y=L+P,V=this.left+x;else if(n==="x"){if(o==="center")L=M((e.top+e.bottom)/2+.5);else if(ln(o)){const z=Object.keys(o)[0],G=o[z];L=M(this.chart.scales[z].getPixelForValue(G))}O=e.top,Q=e.bottom,B=L+P,X=B+x}else if(n==="y"){if(o==="center")L=M((e.left+e.right)/2);else if(ln(o)){const z=Object.keys(o)[0],G=o[z];L=M(this.chart.scales[z].getPixelForValue(G))}Y=L-P,V=Y-x,K=e.left,j=e.right}const Z=on(r.ticks.maxTicksLimit,g),me=Math.max(1,Math.ceil(g/Z));for(N=0;N<g;N+=me){const z=this.getContext(N),G=a.setContext(z),te=c.setContext(z),H=G.lineWidth,U=G.color,le=te.dash||[],k=te.dashOffset,$=G.tickWidth,ie=G.tickColor,ue=G.tickBorderDash||[],fe=G.tickBorderDashOffset;R=QE(this,N,u),R!==void 0&&(F=Qc(i,R,H),f?Y=V=K=j=F:B=X=O=Q=F,b.push({tx1:Y,ty1:B,tx2:V,ty2:X,x1:K,y1:O,x2:j,y2:Q,width:H,color:U,borderDash:le,borderDashOffset:k,tickWidth:$,tickColor:ie,tickBorderDash:ue,tickBorderDashOffset:fe}))}return this._ticksLength=g,this._borderValue=L,b}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:a}=i,o=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:f,padding:h,mirror:g}=a,x=Jd(i.grid),b=x+h,A=g?-h:b,C=-Yo(this.labelRotation),P=[];let M,L,N,R,F,Y,B,V,X,K,O,j,Q="middle";if(r==="top")Y=this.bottom-A,B=this._getXAxisLabelAlignment();else if(r==="bottom")Y=this.top+A,B=this._getXAxisLabelAlignment();else if(r==="left"){const me=this._getYAxisLabelAlignment(x);B=me.textAlign,F=me.x}else if(r==="right"){const me=this._getYAxisLabelAlignment(x);B=me.textAlign,F=me.x}else if(n==="x"){if(r==="center")Y=(e.top+e.bottom)/2+b;else if(ln(r)){const me=Object.keys(r)[0],z=r[me];Y=this.chart.scales[me].getPixelForValue(z)+b}B=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")F=(e.left+e.right)/2-b;else if(ln(r)){const me=Object.keys(r)[0],z=r[me];F=this.chart.scales[me].getPixelForValue(z)}B=this._getYAxisLabelAlignment(x).textAlign}n==="y"&&(u==="start"?Q="top":u==="end"&&(Q="bottom"));const Z=this._getLabelSizes();for(M=0,L=c.length;M<L;++M){N=c[M],R=N.label;const me=a.setContext(this.getContext(M));V=this.getPixelForTick(M)+a.labelOffset,X=this._resolveTickFontOptions(M),K=X.lineHeight,O=Oi(R)?R.length:1;const z=O/2,G=me.color,te=me.textStrokeColor,H=me.textStrokeWidth;let U=B;o?(F=V,B==="inner"&&(M===L-1?U=this.options.reverse?"left":"right":M===0?U=this.options.reverse?"right":"left":U="center"),r==="top"?f==="near"||C!==0?j=-O*K+K/2:f==="center"?j=-Z.highest.height/2-z*K+K:j=-Z.highest.height+K/2:f==="near"||C!==0?j=K/2:f==="center"?j=Z.highest.height/2-z*K:j=Z.highest.height-O*K,g&&(j*=-1),C!==0&&!me.showLabelBackdrop&&(F+=K/2*Math.sin(C))):(Y=V,j=(1-O)*K/2);let le;if(me.showLabelBackdrop){const k=Ra(me.backdropPadding),$=Z.heights[M],ie=Z.widths[M];let ue=j-k.top,fe=0-k.left;switch(Q){case"middle":ue-=$/2;break;case"bottom":ue-=$;break}switch(B){case"center":fe-=ie/2;break;case"right":fe-=ie;break;case"inner":M===L-1?fe-=ie:M>0&&(fe-=ie/2);break}le={left:fe,top:ue,width:ie+k.width,height:$+k.height,color:me.backdropColor}}P.push({label:R,font:X,textOffset:j,options:{rotation:C,color:G,strokeColor:te,strokeWidth:H,textAlign:U,textBaseline:Q,translation:[F,Y],backdrop:le}})}return P}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Yo(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:a}}=this.options,o=this._getLabelSizes(),c=e+a,u=o.widest.width;let f,h;return n==="left"?r?(h=this.right+a,i==="near"?f="left":i==="center"?(f="center",h+=u/2):(f="right",h+=u)):(h=this.right-c,i==="near"?f="right":i==="center"?(f="center",h-=u/2):(f="left",h=this.left)):n==="right"?r?(h=this.left+a,i==="near"?f="right":i==="center"?(f="center",h-=u/2):(f="left",h-=u)):(h=this.left+c,i==="near"?f="left":i==="center"?(f="center",h+=u/2):(f="right",h=this.right)):f="right",{textAlign:f,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:a,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,a,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(a=>a.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,o;const c=(u,f,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(n.display)for(a=0,o=r.length;a<o;++a){const u=r[a];n.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,a=i.setContext(this.getContext()),o=i.display?a.width:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,h,g,x;this.isHorizontal()?(f=Qc(e,this.left,o)-o/2,h=Qc(e,this.right,c)+c/2,g=x=u):(g=Qc(e,this.top,o)-o/2,x=Qc(e,this.bottom,c)+c/2,f=h=u),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(f,g),n.lineTo(h,x),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&my(i,r);const a=this.getLabelItems(e);for(const o of a){const c=o.options,u=o.font,f=o.label,h=o.textOffset;Mh(i,f,0,h,u,c)}r&&gy(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const a=xr(i.font),o=Ra(i.padding),c=i.align;let u=a.lineHeight/2;n==="bottom"||n==="center"||ln(n)?(u+=o.bottom,Oi(i.text)&&(u+=a.lineHeight*(i.text.length-1))):u+=o.top;const{titleX:f,titleY:h,maxWidth:g,rotation:x}=i8(this,u,n,c);Mh(e,i.text,0,0,a,{color:i.color,maxWidth:g,rotation:x,textAlign:n8(c,n,r),textBaseline:"middle",translation:[f,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=on(e.grid&&e.grid.z,-1),r=on(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Y_.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let a,o;for(a=0,o=n.length;a<o;++a){const c=n[a];c[i]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return xr(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}};class am{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;s8(n)&&(i=this.register(n));const r=this.items,a=e.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in r||(r[a]=e,r8(e,o,i),this.override&&_i.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in _i[r]&&(delete _i[r][i],this.override&&delete pu[i])}}function r8(t,e,n){const i=Nh(Object.create(null),[n?_i.get(n):{},_i.get(e),t.defaults]);_i.set(e,i),t.defaultRoutes&&a8(e,t.defaultRoutes),t.descriptors&&_i.describe(e,t.descriptors)}function a8(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),a=[t].concat(i).join("."),o=e[n].split("."),c=o.pop(),u=o.join(".");_i.route(a,r,u,c)})}function s8(t){return"id"in t&&"defaults"in t}class o8{constructor(){this.controllers=new am(Df,"datasets",!0),this.elements=new am(Xo,"elements"),this.plugins=new am(Object,"plugins"),this.scales=new am(Zm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const a=i||this._getRegistryForType(r);i||a.isForType(r)||a===this.plugins&&r.id?this._exec(e,a,r):bn(r,o=>{const c=i||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,n,i){const r=fy(e);zn(i["before"+r],[],i),n[e](i),zn(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var eo=new o8;class l8{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(a,e,n,i);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const a of e){const o=a.plugin,c=o[i],u=[n,r,a.options];if(zn(c,u,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Ln(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=on(i.options&&i.options.plugins,{}),a=c8(i);return r===!1&&!n?[]:f8(e,a,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(a,o)=>a.filter(c=>!o.some(u=>c.plugin.id===u.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function c8(t){const e={},n=[],i=Object.keys(eo.plugins.items);for(let a=0;a<i.length;a++)n.push(eo.getPlugin(i[a]));const r=t.plugins||[];for(let a=0;a<r.length;a++){const o=r[a];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function u8(t,e){return!e&&t===!1?null:t===!0?{}:t}function f8(t,{plugins:e,localIds:n},i,r){const a=[],o=t.getContext();for(const c of e){const u=c.id,f=u8(i[u],r);f!==null&&a.push({plugin:c,options:d8(t.config,{plugin:c,local:n[u]},f,o)})}return a}function d8(t,{plugin:e,local:n},i,r){const a=t.pluginScopeKeys(e),o=t.getOptionScopes(i,a);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function x1(t,e){const n=_i.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function h8(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function p8(t,e){return t===e?"_index_":"_value_"}function d5(t){if(t==="x"||t==="y"||t==="r")return t}function m8(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function b1(t,...e){if(d5(t))return t;for(const n of e){const i=n.axis||m8(n.position)||t.length>1&&d5(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function h5(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function g8(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return h5(t,"x",n[0])||h5(t,"y",n[0])}return{}}function y8(t,e){const n=pu[t.type]||{scales:{}},i=e.scales||{},r=x1(t.type,e),a=Object.create(null);return Object.keys(i).forEach(o=>{const c=i[o];if(!ln(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=b1(o,c,g8(o,t),_i.scales[c.type]),f=p8(u,r),h=n.scales||{};a[o]=dh(Object.create(null),[{axis:u},c,h[u],h[f]])}),t.data.datasets.forEach(o=>{const c=o.type||t.type,u=o.indexAxis||x1(c,e),h=(pu[c]||{}).scales||{};Object.keys(h).forEach(g=>{const x=h8(g,u),b=o[x+"AxisID"]||x;a[b]=a[b]||Object.create(null),dh(a[b],[{axis:x},i[b],h[g]])})}),Object.keys(a).forEach(o=>{const c=a[o];dh(c,[_i.scales[c.type],_i.scale])}),a}function J_(t){const e=t.options||(t.options={});e.plugins=on(e.plugins,{}),e.scales=y8(t,e)}function K_(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function v8(t){return t=t||{},t.data=K_(t.data),J_(t),t}const p5=new Map,X_=new Set;function sm(t,e){let n=p5.get(t);return n||(n=e(),p5.set(t,n),X_.add(n)),n}const Kd=(t,e,n)=>{const i=hu(e,n);i!==void 0&&t.add(i)};class x8{constructor(e){this._config=v8(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=K_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),J_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return sm(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return sm(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return sm(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return sm(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:a}=this,o=this._cachedScopes(e,i),c=o.get(n);if(c)return c;const u=new Set;n.forEach(h=>{e&&(u.add(e),h.forEach(g=>Kd(u,e,g))),h.forEach(g=>Kd(u,r,g)),h.forEach(g=>Kd(u,pu[a]||{},g)),h.forEach(g=>Kd(u,_i,g)),h.forEach(g=>Kd(u,y1,g))});const f=Array.from(u);return f.length===0&&f.push(Object.create(null)),X_.has(n)&&o.set(n,f),f}chartOptionScopes(){const{options:e,type:n}=this;return[e,pu[n]||{},_i.datasets[n]||{},{type:n},_i,y1]}resolveNamedOptions(e,n,i,r=[""]){const a={$shared:!0},{resolver:o,subPrefixes:c}=m5(this._resolverCache,e,r);let u=o;if(w8(o,n)){a.$shared=!1,i=lc(i)?i():i;const f=this.createResolver(e,i,c);u=Ff(o,i,f)}for(const f of n)a[f]=u[f];return a}createResolver(e,n,i=[""],r){const{resolver:a}=m5(this._resolverCache,e,i);return ln(n)?Ff(a,n,void 0,r):a}}function m5(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let a=i.get(r);return a||(a={resolver:vy(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,a)),a}const b8=t=>ln(t)&&Object.getOwnPropertyNames(t).some(e=>lc(t[e]));function w8(t,e){const{isScriptable:n,isIndexable:i}=k_(t);for(const r of e){const a=n(r),o=i(r),c=(o||a)&&t[r];if(a&&(lc(c)||b8(c))||o&&Oi(c))return!0}return!1}var _8="4.5.0";const S8=["top","bottom","left","right","chartArea"];function g5(t,e){return t==="top"||t==="bottom"||S8.indexOf(t)===-1&&e==="x"}function y5(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function v5(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),zn(n&&n.onComplete,[t],e)}function C8(t){const e=t.chart,n=e.options.animation;zn(n&&n.onProgress,[t],e)}function Q_(t){return wy()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const _m={},x5=t=>{const e=Q_(t);return Object.values(_m).filter(n=>n.canvas===e).pop()};function A8(t,e,n){const i=Object.keys(t);for(const r of i){const a=+r;if(a>=e){const o=t[r];delete t[r],(n>0||a>e)&&(t[a+n]=o)}}}function T8(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var Wl;let xu=(Wl=class{static register(...e){eo.add(...e),b5()}static unregister(...e){eo.remove(...e),b5()}constructor(e,n){const i=this.config=new x8(n),r=Q_(e),a=x5(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||HE(r)),this.platform.updateConfig(i);const c=this.platform.acquireContext(r,o.aspectRatio),u=c&&c.canvas,f=u&&u.height,h=u&&u.width;if(this.id=VN(),this.ctx=c,this.canvas=u,this.width=h,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new l8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=o6(g=>this.update(g),o.resizeDelay||0),this._dataChanges=[],_m[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Ho.listen(this,"complete",v5),Ho.listen(this,"progress",C8),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:a}=this;return Ln(e)?n&&a?a:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return eo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Gx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zx(this.canvas,this.ctx),this}stop(){return Ho.stop(this),this}resize(e,n){Ho.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Gx(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),zn(i.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};bn(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,c)=>(o[c]=!1,o),{});let a=[];n&&(a=a.concat(Object.keys(n).map(o=>{const c=n[o],u=b1(o,c),f=u==="r",h=u==="x";return{options:c,dposition:f?"chartArea":h?"bottom":"left",dtype:f?"radialLinear":h?"category":"linear"}}))),bn(a,o=>{const c=o.options,u=c.id,f=b1(u,c),h=on(c.type,o.dtype);(c.position===void 0||g5(c.position,f)!==g5(o.dposition))&&(c.position=o.dposition),r[u]=!0;let g=null;if(u in i&&i[u].type===h)g=i[u];else{const x=eo.getScale(h);g=new x({id:u,type:h,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(c,e)}),bn(r,(o,c)=>{o||delete i[c]}),bn(i,o=>{Ma.configure(this,o,o.options),Ma.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,a)=>r.index-a.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(y5("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const a=n[i];let o=this.getDatasetMeta(i);const c=a.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=c,o.indexAxis=a.indexAxis||x1(c,this.options),o.order=a.order||0,o.index=i,o.label=""+a.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const u=eo.getController(c),{datasetElementType:f,dataElementType:h}=_i.datasets[c];Object.assign(u,{dataElementType:eo.getElement(h),datasetElementType:f&&eo.getElement(f)}),o.controller=new u(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){bn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,h=this.data.datasets.length;f<h;f++){const{controller:g}=this.getDatasetMeta(f),x=!r&&a.indexOf(g)===-1;g.buildOrUpdateElements(x),o=Math.max(+g.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||bn(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(y5("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){bn(this.scales,e=>{Ma.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Lx(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:a}of n){const o=i==="_removeElements"?-a:a;A8(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(e.filter(o=>o[0]===a).map((o,c)=>c+","+o.splice(1).join(","))),r=i(0);for(let a=1;a<n;a++)if(!Lx(r,i(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ma.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],bn(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,lc(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ho.has(this)?this.attached&&!Ho.running(this)&&Ho.start(this):(this.draw(),v5({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,a;for(r=0,a=n.length;r<a;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=$6(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&my(n,r),e.controller.draw(),r&&gy(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return D_(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const a=SE.modes[n];return typeof a=="function"?a(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(a=>a&&a._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=qf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",a=this.getDatasetMeta(e),o=a.controller._resolveAnimations(void 0,r);Eh(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(a,{visible:i}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ho.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),zx(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete _m[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(a,o)=>{n.addEventListener(this,a,o),e[a]=o},r=(a,o,c)=>{a.offsetX=o,a.offsetY=c,this._eventHandler(a)};bn(this.options.events,a=>i(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(u,f)=>{n.addEventListener(this,u,f),e[u]=f},r=(u,f)=>{e[u]&&(n.removeEventListener(this,u,f),delete e[u])},a=(u,f)=>{this.canvas&&this.resize(u,f)};let o;const c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",o)};o=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():o()}unbindEvents(){bn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},bn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let a,o,c,u;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){o=e[c];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:a,index:o})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[o],index:o}});!Dm(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,a=(u,f)=>u.filter(h=>!f.some(g=>h.datasetIndex===g.datasetIndex&&h.index===g.index)),o=a(n,e),c=i?e:a(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const a=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(a||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:a}=this,o=n,c=this._getActiveElements(e,r,i,o),u=JN(e),f=T8(e,this._lastEvent,i,u);i&&(this._lastEvent=null,zn(a.onHover,[e,c,this],this),u&&zn(a.onClick,[e,c,this],this));const h=!Dm(c,r);return(h||n)&&(this._active=c,this._updateHoverStyles(c,r,n)),this._lastEvent=f,h}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,r)}},Nt(Wl,"defaults",_i),Nt(Wl,"instances",_m),Nt(Wl,"overrides",pu),Nt(Wl,"registry",eo),Nt(Wl,"version",_8),Nt(Wl,"getChart",x5),Wl);function b5(){return bn(xu.instances,t=>t._plugins.invalidate())}function N8(t,e,n){const{startAngle:i,x:r,y:a,outerRadius:o,innerRadius:c,options:u}=e,{borderWidth:f,borderJoinStyle:h}=u,g=Math.min(f/o,to(i-n));if(t.beginPath(),t.arc(r,a,o-f/2,i+g/2,n-g/2),c>0){const x=Math.min(f/c,to(i-n));t.arc(r,a,c+f/2,n-x/2,i+x/2,!0)}else{const x=Math.min(f/2,o*to(i-n));if(h==="round")t.arc(r,a,x,n-Pn/2,i+Pn/2,!0);else if(h==="bevel"){const b=2*x*x,A=-b*Math.cos(n+Pn/2)+r,C=-b*Math.sin(n+Pn/2)+a,P=b*Math.cos(i+Pn/2)+r,M=b*Math.sin(i+Pn/2)+a;t.lineTo(A,C),t.lineTo(P,M)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function E8(t,e,n){const{startAngle:i,pixelMargin:r,x:a,y:o,outerRadius:c,innerRadius:u}=e;let f=r/c;t.beginPath(),t.arc(a,o,c,i-f,n+f),u>r?(f=r/u,t.arc(a,o,u,n+f,i-f,!0)):t.arc(a,o,r,n+ji,i-ji),t.closePath(),t.clip()}function M8(t){return yy(t,["outerStart","outerEnd","innerStart","innerEnd"])}function P8(t,e,n,i){const r=M8(t.options.borderRadius),a=(n-e)/2,o=Math.min(a,i*e/2),c=u=>{const f=(n-Math.min(a,u))*i/2;return Gr(u,0,Math.min(a,f))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:Gr(r.innerStart,0,o),innerEnd:Gr(r.innerEnd,0,o)}}function bf(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Bm(t,e,n,i,r,a){const{x:o,y:c,startAngle:u,pixelMargin:f,innerRadius:h}=e,g=Math.max(e.outerRadius+i+n-f,0),x=h>0?h+i+n+f:0;let b=0;const A=r-u;if(i){const me=h>0?h-i:0,z=g>0?g-i:0,G=(me+z)/2,te=G!==0?A*G/(G+i):A;b=(A-te)/2}const C=Math.max(.001,A*g-n/Pn)/g,P=(A-C)/2,M=u+P+b,L=r-P-b,{outerStart:N,outerEnd:R,innerStart:F,innerEnd:Y}=P8(e,x,g,L-M),B=g-N,V=g-R,X=M+N/B,K=L-R/V,O=x+F,j=x+Y,Q=M+F/O,Z=L-Y/j;if(t.beginPath(),a){const me=(X+K)/2;if(t.arc(o,c,g,X,me),t.arc(o,c,g,me,K),R>0){const H=bf(V,K,o,c);t.arc(H.x,H.y,R,K,L+ji)}const z=bf(j,L,o,c);if(t.lineTo(z.x,z.y),Y>0){const H=bf(j,Z,o,c);t.arc(H.x,H.y,Y,L+ji,Z+Math.PI)}const G=(L-Y/x+(M+F/x))/2;if(t.arc(o,c,x,L-Y/x,G,!0),t.arc(o,c,x,G,M+F/x,!0),F>0){const H=bf(O,Q,o,c);t.arc(H.x,H.y,F,Q+Math.PI,M-ji)}const te=bf(B,M,o,c);if(t.lineTo(te.x,te.y),N>0){const H=bf(B,X,o,c);t.arc(H.x,H.y,N,M-ji,X)}}else{t.moveTo(o,c);const me=Math.cos(X)*g+o,z=Math.sin(X)*g+c;t.lineTo(me,z);const G=Math.cos(K)*g+o,te=Math.sin(K)*g+c;t.lineTo(G,te)}t.closePath()}function L8(t,e,n,i,r){const{fullCircles:a,startAngle:o,circumference:c}=e;let u=e.endAngle;if(a){Bm(t,e,n,i,u,r);for(let f=0;f<a;++f)t.fill();isNaN(c)||(u=o+(c%Mi||Mi))}return Bm(t,e,n,i,u,r),t.fill(),u}function D8(t,e,n,i,r){const{fullCircles:a,startAngle:o,circumference:c,options:u}=e,{borderWidth:f,borderJoinStyle:h,borderDash:g,borderDashOffset:x,borderRadius:b}=u,A=u.borderAlign==="inner";if(!f)return;t.setLineDash(g||[]),t.lineDashOffset=x,A?(t.lineWidth=f*2,t.lineJoin=h||"round"):(t.lineWidth=f,t.lineJoin=h||"bevel");let C=e.endAngle;if(a){Bm(t,e,n,i,C,r);for(let P=0;P<a;++P)t.stroke();isNaN(c)||(C=o+(c%Mi||Mi))}A&&E8(t,e,C),u.selfJoin&&C-o>=Pn&&b===0&&h!=="miter"&&N8(t,e,C),a||(Bm(t,e,n,i,C,r),t.stroke())}class Nf extends Xo{constructor(n){super();Nt(this,"circumference");Nt(this,"endAngle");Nt(this,"fullCircles");Nt(this,"innerRadius");Nt(this,"outerRadius");Nt(this,"pixelMargin");Nt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const a=this.getProps(["x","y"],r),{angle:o,distance:c}=C_(a,{x:n,y:i}),{startAngle:u,endAngle:f,innerRadius:h,outerRadius:g,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),b=(this.options.spacing+this.options.borderWidth)/2,A=on(x,f-u),C=Fm(o,u,f)&&u!==f,P=A>=Mi||C,M=au(c,h+b,g+b);return P&&M}getCenterPoint(n){const{x:i,y:r,startAngle:a,endAngle:o,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:f,spacing:h}=this.options,g=(a+o)/2,x=(c+u+h+f)/2;return{x:i+Math.cos(g)*x,y:r+Math.sin(g)*x}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,a=(i.offset||0)/4,o=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Mi?Math.floor(r/Mi):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const u=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(u)*a,Math.sin(u)*a);const f=1-Math.sin(Math.min(Pn,r||0)),h=a*f;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,L8(n,this,h,o,c),D8(n,this,h,o,c),n.restore()}}Nt(Nf,"id","arc"),Nt(Nf,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),Nt(Nf,"defaultRoutes",{backgroundColor:"backgroundColor"}),Nt(Nf,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Z_(t,e){const{x:n,y:i,base:r,width:a,height:o}=t.getProps(["x","y","base","width","height"],e);let c,u,f,h,g;return t.horizontal?(g=o/2,c=Math.min(n,r),u=Math.max(n,r),f=i-g,h=i+g):(g=a/2,c=n-g,u=n+g,f=Math.min(i,r),h=Math.max(i,r)),{left:c,top:f,right:u,bottom:h}}function ec(t,e,n,i){return t?0:Gr(e,n,i)}function R8(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,a=R_(i);return{t:ec(r.top,a.top,0,n),r:ec(r.right,a.right,0,e),b:ec(r.bottom,a.bottom,0,n),l:ec(r.left,a.left,0,e)}}function k8(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,a=Pf(r),o=Math.min(e,n),c=t.borderSkipped,u=i||ln(r);return{topLeft:ec(!u||c.top||c.left,a.topLeft,0,o),topRight:ec(!u||c.top||c.right,a.topRight,0,o),bottomLeft:ec(!u||c.bottom||c.left,a.bottomLeft,0,o),bottomRight:ec(!u||c.bottom||c.right,a.bottomRight,0,o)}}function I8(t){const e=Z_(t),n=e.right-e.left,i=e.bottom-e.top,r=R8(t,n/2,i/2),a=k8(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:a},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function U0(t,e,n,i){const r=e===null,a=n===null,c=t&&!(r&&a)&&Z_(t,i);return c&&(r||au(e,c.left,c.right))&&(a||au(n,c.top,c.bottom))}function F8(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function O8(t,e){t.rect(e.x,e.y,e.w,e.h)}function B0(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,a=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+a,h:t.h+o,radius:t.radius}}class mh extends Xo{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:a,outer:o}=I8(this),c=F8(o.radius)?Om:O8;e.save(),(o.w!==a.w||o.h!==a.h)&&(e.beginPath(),c(e,B0(o,n,a)),e.clip(),c(e,B0(a,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,B0(a,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return U0(this,e,n,i)}inXRange(e,n){return U0(this,e,null,n)}inYRange(e,n){return U0(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(n+r)/2:n,y:a?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Nt(mh,"id","bar"),Nt(mh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Nt(mh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const w5=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},j8=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class _5 extends Xo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=zn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=xr(i.font),a=r.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=w5(i,a);let f,h;n.font=r.string,this.isHorizontal()?(f=this.maxWidth,h=this._fitRows(o,a,c,u)+10):(h=this.maxHeight,f=this._fitCols(o,r,c,u)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:a,maxWidth:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],f=this.lineWidths=[0],h=r+c;let g=e;a.textAlign="left",a.textBaseline="middle";let x=-1,b=-h;return this.legendItems.forEach((A,C)=>{const P=i+n/2+a.measureText(A.text).width;(C===0||f[f.length-1]+P+2*c>o)&&(g+=h,f[f.length-(C>0?0:1)]=0,b+=h,x++),u[C]={left:0,top:b,row:x,width:P,height:r},f[f.length-1]+=P+c}),g}_fitCols(e,n,i,r){const{ctx:a,maxHeight:o,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],f=this.columnSizes=[],h=o-e;let g=c,x=0,b=0,A=0,C=0;return this.legendItems.forEach((P,M)=>{const{itemWidth:L,itemHeight:N}=U8(i,n,a,P,r);M>0&&b+N+2*c>h&&(g+=x+c,f.push({width:x,height:b}),A+=x+c,C++,x=b=0),u[M]={left:A,top:b,col:C,width:L,height:N},x=Math.max(x,L),b+=N+c}),g+=x,f.push({width:x,height:b}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:a}}=this,o=Lf(a,this.left,this.width);if(this.isHorizontal()){let c=0,u=yr(i,this.left+r,this.right-this.lineWidths[c]);for(const f of n)c!==f.row&&(c=f.row,u=yr(i,this.left+r,this.right-this.lineWidths[c])),f.top+=this.top+e+r,f.left=o.leftForLtr(o.x(u),f.width),u+=f.width+r}else{let c=0,u=yr(i,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const f of n)f.col!==c&&(c=f.col,u=yr(i,this.top+e+r,this.bottom-this.columnSizes[c].height)),f.top=u,f.left+=this.left+r,f.left=o.leftForLtr(o.x(f.left),f.width),u+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;my(e,this),this._draw(),gy(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:a,labels:o}=e,c=_i.color,u=Lf(e.rtl,this.left,this.width),f=xr(o.font),{padding:h}=o,g=f.size,x=g/2;let b;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:A,boxHeight:C,itemHeight:P}=w5(o,g),M=function(Y,B,V){if(isNaN(A)||A<=0||isNaN(C)||C<0)return;r.save();const X=on(V.lineWidth,1);if(r.fillStyle=on(V.fillStyle,c),r.lineCap=on(V.lineCap,"butt"),r.lineDashOffset=on(V.lineDashOffset,0),r.lineJoin=on(V.lineJoin,"miter"),r.lineWidth=X,r.strokeStyle=on(V.strokeStyle,c),r.setLineDash(on(V.lineDash,[])),o.usePointStyle){const K={radius:C*Math.SQRT2/2,pointStyle:V.pointStyle,rotation:V.rotation,borderWidth:X},O=u.xPlus(Y,A/2),j=B+x;L_(r,K,O,j,o.pointStyleWidth&&A)}else{const K=B+Math.max((g-C)/2,0),O=u.leftForLtr(Y,A),j=Pf(V.borderRadius);r.beginPath(),Object.values(j).some(Q=>Q!==0)?Om(r,{x:O,y:K,w:A,h:C,radius:j}):r.rect(O,K,A,C),r.fill(),X!==0&&r.stroke()}r.restore()},L=function(Y,B,V){Mh(r,V.text,Y,B+P/2,f,{strikethrough:V.hidden,textAlign:u.textAlign(V.textAlign)})},N=this.isHorizontal(),R=this._computeTitleHeight();N?b={x:yr(a,this.left+h,this.right-i[0]),y:this.top+h+R,line:0}:b={x:this.left+h,y:yr(a,this.top+R+h,this.bottom-n[0].height),line:0},j_(this.ctx,e.textDirection);const F=P+h;this.legendItems.forEach((Y,B)=>{r.strokeStyle=Y.fontColor,r.fillStyle=Y.fontColor;const V=r.measureText(Y.text).width,X=u.textAlign(Y.textAlign||(Y.textAlign=o.textAlign)),K=A+x+V;let O=b.x,j=b.y;u.setWidth(this.width),N?B>0&&O+K+h>this.right&&(j=b.y+=F,b.line++,O=b.x=yr(a,this.left+h,this.right-i[b.line])):B>0&&j+F>this.bottom&&(O=b.x=O+n[b.line].width+h,b.line++,j=b.y=yr(a,this.top+R+h,this.bottom-n[b.line].height));const Q=u.x(O);if(M(Q,j,Y),O=l6(X,O+A+x,N?O+K:this.right,e.rtl),L(u.x(O),j,Y),N)b.x+=K+h;else if(typeof Y.text!="string"){const Z=f.lineHeight;b.y+=eS(Y,Z)+h}else b.y+=F}),U_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=xr(n.font),r=Ra(n.padding);if(!n.display)return;const a=Lf(e.rtl,this.left,this.width),o=this.ctx,c=n.position,u=i.size/2,f=r.top+u;let h,g=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),h=this.top+f,g=yr(e.align,g,this.right-x);else{const A=this.columnSizes.reduce((C,P)=>Math.max(C,P.height),0);h=f+yr(e.align,this.top,this.bottom-A-e.labels.padding-this._computeTitleHeight())}const b=yr(c,g,g+x);o.textAlign=a.textAlign(hy(c)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Mh(o,n.text,b,h,i)}_computeTitleHeight(){const e=this.options.title,n=xr(e.font),i=Ra(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,a;if(au(e,this.left,this.right)&&au(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(r=a[i],au(e,r.left,r.left+r.width)&&au(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!q8(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,a=j8(r,i);r&&!a&&zn(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!a&&zn(n.onHover,[e,i,this],this)}else i&&zn(n.onClick,[e,i,this],this)}}function U8(t,e,n,i,r){const a=B8(i,t,e,n),o=z8(r,i,e.lineHeight);return{itemWidth:a,itemHeight:o}}function B8(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((a,o)=>a.length>o.length?a:o)),e+n.size/2+i.measureText(r).width}function z8(t,e,n){let i=t;return typeof e.text!="string"&&(i=eS(e,n)),i}function eS(t,e){const n=t.text?t.text.length:0;return e*n}function q8(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var eg={id:"legend",_element:_5,start(t,e,n){const i=t.legend=new _5({ctx:t.ctx,options:n,chart:t});Ma.configure(t,i,n),Ma.addBox(t,i)},stop(t){Ma.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Ma.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:a,useBorderRadius:o,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const f=u.controller.getStyle(n?0:void 0),h=Ra(f.borderWidth);return{text:e[u.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!u.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:o&&(c||f.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class tS extends Xo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Oi(i.text)?i.text.length:1;this._padding=Ra(i.padding);const a=r*xr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:a,options:o}=this,c=o.align;let u=0,f,h,g;return this.isHorizontal()?(h=yr(c,i,a),g=n+e,f=a-i):(o.position==="left"?(h=i+e,g=yr(c,r,n),u=Pn*-.5):(h=a-e,g=yr(c,n,r),u=Pn*.5),f=r-n),{titleX:h,titleY:g,maxWidth:f,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=xr(n.font),a=i.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:u,rotation:f}=this._drawArgs(a);Mh(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:f,textAlign:hy(n.align),textBaseline:"middle",translation:[o,c]})}}function V8(t,e){const n=new tS({ctx:t.ctx,options:e,chart:t});Ma.configure(t,n,e),Ma.addBox(t,n),t.titleBlock=n}var nS={id:"title",_element:tS,start(t,e,n){V8(t,n)},stop(t){const e=t.titleBlock;Ma.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Ma.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sh={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,a=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),r+=u.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((c,u)=>c+u)/i.size,y:r/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,a,o,c;for(a=0,o=t.length;a<o;++a){const u=t[a].element;if(u&&u.hasValue()){const f=u.getCenterPoint(),h=n6(e,f);h<r&&(r=h,c=u)}}if(c){const u=c.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function Qs(t,e){return e&&(Oi(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Go(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function H8(t,e){const{element:n,datasetIndex:i,index:r}=e,a=t.getDatasetMeta(i).controller,{label:o,value:c}=a.getLabelAndValue(r);return{chart:t,label:o,parsed:a.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:c,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function S5(t,e){const n=t.chart.ctx,{body:i,footer:r,title:a}=t,{boxWidth:o,boxHeight:c}=e,u=xr(e.bodyFont),f=xr(e.titleFont),h=xr(e.footerFont),g=a.length,x=r.length,b=i.length,A=Ra(e.padding);let C=A.height,P=0,M=i.reduce((R,F)=>R+F.before.length+F.lines.length+F.after.length,0);if(M+=t.beforeBody.length+t.afterBody.length,g&&(C+=g*f.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),M){const R=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;C+=b*R+(M-b)*u.lineHeight+(M-1)*e.bodySpacing}x&&(C+=e.footerMarginTop+x*h.lineHeight+(x-1)*e.footerSpacing);let L=0;const N=function(R){P=Math.max(P,n.measureText(R).width+L)};return n.save(),n.font=f.string,bn(t.title,N),n.font=u.string,bn(t.beforeBody.concat(t.afterBody),N),L=e.displayColors?o+2+e.boxPadding:0,bn(i,R=>{bn(R.before,N),bn(R.lines,N),bn(R.after,N)}),L=0,n.font=h.string,bn(t.footer,N),n.restore(),P+=A.width,{width:P,height:C}}function G8(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function $8(t,e,n,i){const{x:r,width:a}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+a+o>e.width||t==="right"&&r-a-o<0)return!0}function W8(t,e,n,i){const{x:r,width:a}=n,{width:o,chartArea:{left:c,right:u}}=t;let f="center";return i==="center"?f=r<=(c+u)/2?"left":"right":r<=a/2?f="left":r>=o-a/2&&(f="right"),$8(f,t,e,n)&&(f="center"),f}function C5(t,e,n){const i=n.yAlign||e.yAlign||G8(t,n);return{xAlign:n.xAlign||e.xAlign||W8(t,e,n,i),yAlign:i}}function Y8(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function J8(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function A5(t,e,n,i){const{caretSize:r,caretPadding:a,cornerRadius:o}=t,{xAlign:c,yAlign:u}=n,f=r+a,{topLeft:h,topRight:g,bottomLeft:x,bottomRight:b}=Pf(o);let A=Y8(e,c);const C=J8(e,u,f);return u==="center"?c==="left"?A+=f:c==="right"&&(A-=f):c==="left"?A-=Math.max(h,x)+r:c==="right"&&(A+=Math.max(g,b)+r),{x:Gr(A,0,i.width-e.width),y:Gr(C,0,i.height-e.height)}}function om(t,e,n){const i=Ra(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function T5(t){return Qs([],Go(t))}function K8(t,e,n){return qf(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function N5(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const iS={beforeTitle:zo,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:zo,beforeBody:zo,beforeLabel:zo,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ln(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:zo,afterBody:zo,beforeFooter:zo,footer:zo,afterFooter:zo};function Vr(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?iS[e].call(n,i):r}class w1 extends Xo{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,a=new B_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=K8(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Vr(i,"beforeTitle",this,e),a=Vr(i,"title",this,e),o=Vr(i,"afterTitle",this,e);let c=[];return c=Qs(c,Go(r)),c=Qs(c,Go(a)),c=Qs(c,Go(o)),c}getBeforeBody(e,n){return T5(Vr(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return bn(e,a=>{const o={before:[],lines:[],after:[]},c=N5(i,a);Qs(o.before,Go(Vr(c,"beforeLabel",this,a))),Qs(o.lines,Vr(c,"label",this,a)),Qs(o.after,Go(Vr(c,"afterLabel",this,a))),r.push(o)}),r}getAfterBody(e,n){return T5(Vr(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Vr(i,"beforeFooter",this,e),a=Vr(i,"footer",this,e),o=Vr(i,"afterFooter",this,e);let c=[];return c=Qs(c,Go(r)),c=Qs(c,Go(a)),c=Qs(c,Go(o)),c}_createItems(e){const n=this._active,i=this.chart.data,r=[],a=[],o=[];let c=[],u,f;for(u=0,f=n.length;u<f;++u)c.push(H8(this.chart,n[u]));return e.filter&&(c=c.filter((h,g,x)=>e.filter(h,g,x,i))),e.itemSort&&(c=c.sort((h,g)=>e.itemSort(h,g,i))),bn(c,h=>{const g=N5(e.callbacks,h);r.push(Vr(g,"labelColor",this,h)),a.push(Vr(g,"labelPointStyle",this,h)),o.push(Vr(g,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=c,c}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let a,o=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const c=sh[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const u=this._size=S5(this,i),f=Object.assign({},c,u),h=C5(this.chart,i,f),g=A5(i,f,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,a={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const a=this.getCaretPosition(e,i,r);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:a}=this,{caretSize:o,cornerRadius:c}=i,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:g}=Pf(c),{x,y:b}=e,{width:A,height:C}=n;let P,M,L,N,R,F;return a==="center"?(R=b+C/2,r==="left"?(P=x,M=P-o,N=R+o,F=R-o):(P=x+A,M=P+o,N=R-o,F=R+o),L=P):(r==="left"?M=x+Math.max(u,h)+o:r==="right"?M=x+A-Math.max(f,g)-o:M=this.caretX,a==="top"?(N=b,R=N-o,P=M-o,L=M+o):(N=b+C,R=N+o,P=M+o,L=M-o),F=N),{x1:P,x2:M,x3:L,y1:N,y2:R,y3:F}}drawTitle(e,n,i){const r=this.title,a=r.length;let o,c,u;if(a){const f=Lf(i.rtl,this.x,this.width);for(e.x=om(this,i.titleAlign,i),n.textAlign=f.textAlign(i.titleAlign),n.textBaseline="middle",o=xr(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,u=0;u<a;++u)n.fillText(r[u],f.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,u+1===a&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,n,i,r,a){const o=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:f}=a,h=xr(a.bodyFont),g=om(this,"left",a),x=r.x(g),b=u<h.lineHeight?(h.lineHeight-u)/2:0,A=n.y+b;if(a.usePointStyle){const C={radius:Math.min(f,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},P=r.leftForLtr(x,f)+f/2,M=A+u/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,qx(e,C,P,M),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,qx(e,C,P,M)}else{e.lineWidth=ln(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const C=r.leftForLtr(x,f),P=r.leftForLtr(r.xPlus(x,1),f-2),M=Pf(o.borderRadius);Object.values(M).some(L=>L!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Om(e,{x:C,y:A,w:f,h:u,radius:M}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Om(e,{x:P,y:A+1,w:f-2,h:u-2,radius:M}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(C,A,f,u),e.strokeRect(C,A,f,u),e.fillStyle=o.backgroundColor,e.fillRect(P,A+1,f-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:a,bodyAlign:o,displayColors:c,boxHeight:u,boxWidth:f,boxPadding:h}=i,g=xr(i.bodyFont);let x=g.lineHeight,b=0;const A=Lf(i.rtl,this.x,this.width),C=function(V){n.fillText(V,A.x(e.x+b),e.y+x/2),e.y+=x+a},P=A.textAlign(o);let M,L,N,R,F,Y,B;for(n.textAlign=o,n.textBaseline="middle",n.font=g.string,e.x=om(this,P,i),n.fillStyle=i.bodyColor,bn(this.beforeBody,C),b=c&&P!=="right"?o==="center"?f/2+h:f+2+h:0,R=0,Y=r.length;R<Y;++R){for(M=r[R],L=this.labelTextColors[R],n.fillStyle=L,bn(M.before,C),N=M.lines,c&&N.length&&(this._drawColorBox(n,e,R,A,i),x=Math.max(g.lineHeight,u)),F=0,B=N.length;F<B;++F)C(N[F]),x=g.lineHeight;bn(M.after,C)}b=0,x=g.lineHeight,bn(this.afterBody,C),e.y-=a}drawFooter(e,n,i){const r=this.footer,a=r.length;let o,c;if(a){const u=Lf(i.rtl,this.x,this.width);for(e.x=om(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",o=xr(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,c=0;c<a;++c)n.fillText(r[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:a,yAlign:o}=this,{x:c,y:u}=e,{width:f,height:h}=i,{topLeft:g,topRight:x,bottomLeft:b,bottomRight:A}=Pf(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(c+g,u),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(c+f-x,u),n.quadraticCurveTo(c+f,u,c+f,u+x),o==="center"&&a==="right"&&this.drawCaret(e,n,i,r),n.lineTo(c+f,u+h-A),n.quadraticCurveTo(c+f,u+h,c+f-A,u+h),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(c+b,u+h),n.quadraticCurveTo(c,u+h,c,u+h-b),o==="center"&&a==="left"&&this.drawCaret(e,n,i,r),n.lineTo(c,u+g),n.quadraticCurveTo(c,u,c+g,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,a=i&&i.y;if(r||a){const o=sh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=S5(this,e),u=Object.assign({},o,this._size),f=C5(n,e,u),h=A5(e,u,f,n);(r._to!==h.x||a._to!==h.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ra(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,r,n),j_(e,n.textDirection),a.y+=o.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),U_(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:c,index:u})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[u],index:u}}),a=!Dm(i,r),o=this._positionChanged(r,n);(a||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],o=this._getActiveElements(e,a,n,i),c=this._positionChanged(o,e),u=n||!Dm(o,a)||c;return u&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,i,r){const a=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:a}=this,o=sh[a.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}Nt(w1,"positioners",sh);var tg={id:"tooltip",_element:w1,positioners:sh,afterInit(t,e,n){n&&(t.tooltip=new w1({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:iS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const X8=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Q8(t,e,n,i){const r=t.indexOf(e);if(r===-1)return X8(t,e,n,i);const a=t.lastIndexOf(e);return r!==a?n:r}const Z8=(t,e)=>t===null?null:Gr(Math.round(t),0,e);function E5(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class zm extends Zm{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:a}of n)i[r]===a&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ln(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:Q8(i,e,on(n,e),this._addedLabels),Z8(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return E5.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Nt(zm,"id","category"),Nt(zm,"defaults",{ticks:{callback:E5}});function eM(t,e){const n=[],{bounds:r,step:a,min:o,max:c,precision:u,count:f,maxTicks:h,maxDigits:g,includeBounds:x}=t,b=a||1,A=h-1,{min:C,max:P}=e,M=!Ln(o),L=!Ln(c),N=!Ln(f),R=(P-C)/(g+1);let F=Rx((P-C)/A/b)*b,Y,B,V,X;if(F<1e-14&&!M&&!L)return[{value:C},{value:P}];X=Math.ceil(P/F)-Math.floor(C/F),X>A&&(F=Rx(X*F/A/b)*b),Ln(u)||(Y=Math.pow(10,u),F=Math.ceil(F*Y)/Y),r==="ticks"?(B=Math.floor(C/F)*F,V=Math.ceil(P/F)*F):(B=C,V=P),M&&L&&a&&ZN((c-o)/a,F/1e3)?(X=Math.round(Math.min((c-o)/F,h)),F=(c-o)/X,B=o,V=c):N?(B=M?o:B,V=L?c:V,X=f-1,F=(V-B)/X):(X=(V-B)/F,xm(X,Math.round(X),F/1e3)?X=Math.round(X):X=Math.ceil(X));const K=Math.max(kx(F),kx(B));Y=Math.pow(10,Ln(u)?K:u),B=Math.round(B*Y)/Y,V=Math.round(V*Y)/Y;let O=0;for(M&&(x&&B!==o?(n.push({value:o}),B<o&&O++,xm(Math.round((B+O*F)*Y)/Y,o,M5(o,R,t))&&O++):B<o&&O++);O<X;++O){const j=Math.round((B+O*F)*Y)/Y;if(L&&j>c)break;n.push({value:j})}return L&&x&&V!==c?n.length&&xm(n[n.length-1].value,c,M5(c,R,t))?n[n.length-1].value=c:n.push({value:c}):(!L||V===c)&&n.push({value:V}),n}function M5(t,e,{horizontal:n,minRotation:i}){const r=Yo(i),a=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/a,o)}class tM extends Zm{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ln(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:a}=this;const o=u=>r=n?r:u,c=u=>a=i?a:u;if(e){const u=rc(r),f=rc(a);u<0&&f<0?c(0):u>0&&f>0&&o(0)}if(r===a){let u=a===0?1:Math.abs(a*.05);c(a+u),e||o(r-u)}this.min=r,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,o=eM(r,a);return e.bounds==="ticks"&&e6(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return py(e,this.chart.options.locale,this.options.ticks.format)}}class qm extends tM{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Da(e)?e:0,this.max=Da(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Yo(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Nt(qm,"id","linear"),Nt(qm,"defaults",{ticks:{callback:P_.formatters.numeric}});const ng={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Hr=Object.keys(ng);function P5(t,e){return t-e}function L5(t,e){if(Ln(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:a}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Da(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Im(a)||a===!0)?n.startOf(o,"isoWeek",a):n.startOf(o,r)),+o)}function D5(t,e,n,i){const r=Hr.length;for(let a=Hr.indexOf(t);a<r-1;++a){const o=ng[Hr[a]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(c*o.size))<=i)return Hr[a]}return Hr[r-1]}function nM(t,e,n,i,r){for(let a=Hr.length-1;a>=Hr.indexOf(n);a--){const o=Hr[a];if(ng[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Hr[n?Hr.indexOf(n):0]}function iM(t){for(let e=Hr.indexOf(t)+1,n=Hr.length;e<n;++e)if(ng[Hr[e]].common)return Hr[e]}function R5(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=dy(n,e),a=n[i]>=e?n[i]:n[r];t[a]=!0}}function rM(t,e,n,i){const r=t._adapter,a=+r.startOf(e[0].value,i),o=e[e.length-1].value;let c,u;for(c=a;c<=o;c=+r.add(c,1,i))u=n[c],u>=0&&(e[u].major=!0);return e}function k5(t,e,n){const i=[],r={},a=e.length;let o,c;for(o=0;o<a;++o)c=e[o],r[c]=o,i.push({value:c,major:!1});return a===0||!n?i:rM(t,i,r,n)}class Vm extends Zm{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new vE._date(e.adapters.date);r.init(n),dh(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:L5(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:a,minDefined:o,maxDefined:c}=this.getUserBounds();function u(f){!o&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!o||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=Da(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),a=Da(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,o=this.max,c=a6(r,a,o);return this._unit=n.unit||(i.autoSkip?D5(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):nM(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:iM(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),k5(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,a;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Gr(n,0,o),i=Gr(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,a=r.time,o=a.unit||D5(a.minUnit,n,i,this._getLabelCapacity(n)),c=on(r.ticks.stepSize,1),u=o==="week"?a.isoWeekday:!1,f=Im(u)||u===!0,h={};let g=n,x,b;if(f&&(g=+e.startOf(g,"isoWeek",u)),g=+e.startOf(g,f?"day":o),e.diff(i,n,o)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+o);const A=r.ticks.source==="data"&&this.getDataTimestamps();for(x=g,b=0;x<i;x=+e.add(x,c,o),b++)R5(h,x,A);return(x===i||r.bounds==="ticks"||b===1)&&R5(h,x,A),Object.keys(h).sort(P5).map(C=>+C)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,a=this._unit,o=n||r[a];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const a=this.options,o=a.ticks.callback;if(o)return zn(o,[e,n,i],this);const c=a.time.displayFormats,u=this._unit,f=this._majorUnit,h=u&&c[u],g=f&&c[f],x=i[n],b=f&&g&&x&&x.major;return this._adapter.format(e,r||(b?g:h))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Yo(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(r),o=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*o,h:i*o+c*a}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,a=this._tickFormatFunction(e,0,k5(this,[e],this._majorUnit),r),o=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(L5(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return T_(e.sort(P5))}}Nt(Vm,"id","time"),Nt(Vm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function lm(t,e,n){let i=0,r=t.length-1,a,o,c,u;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=g1(t,"pos",e)),{pos:a,time:c}=t[i],{pos:o,time:u}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=g1(t,"time",e)),{time:a,pos:c}=t[i],{time:o,pos:u}=t[r]);const f=o-a;return f?c+(u-c)*(e-a)/f:c}class I5 extends Vm{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=lm(n,this.min),this._tableRange=lm(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],a=[];let o,c,u,f,h;for(o=0,c=e.length;o<c;++o)f=e[o],f>=n&&f<=i&&r.push(f);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,c=r.length;o<c;++o)h=r[o+1],u=r[o-1],f=r[o],Math.round((h+u)/2)!==f&&a.push({time:f,pos:o/(c-1)});return a}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,a)=>r-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(lm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return lm(this._table,i*this._tableRange+this._minPos,!0)}}Nt(I5,"id","timeseries"),Nt(I5,"defaults",Vm.defaults);const rS="label";function F5(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function aM(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function aS(t,e){t.labels=e}function sS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rS;const i=[];t.datasets=e.map(r=>{const a=t.datasets.find(o=>o[n]===r[n]);return!a||!r.data||i.includes(a)?{...r}:(i.push(a),Object.assign(a,r),a)})}function sM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rS;const n={labels:[],datasets:[]};return aS(n,t.labels),sS(n,t.datasets,e),n}function oM(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:a,type:o,data:c,options:u,plugins:f=[],fallbackContent:h,updateMode:g,...x}=t,b=pe.useRef(null),A=pe.useRef(null),C=()=>{b.current&&(A.current=new xu(b.current,{type:o,data:sM(c,a),options:u&&{...u},plugins:f}),F5(e,A.current))},P=()=>{F5(e,null),A.current&&(A.current.destroy(),A.current=null)};return pe.useEffect(()=>{!r&&A.current&&u&&aM(A.current,u)},[r,u]),pe.useEffect(()=>{!r&&A.current&&aS(A.current.config.data,c.labels)},[r,c.labels]),pe.useEffect(()=>{!r&&A.current&&c.datasets&&sS(A.current.config.data,c.datasets,a)},[r,c.datasets]),pe.useEffect(()=>{A.current&&(r?(P(),setTimeout(C)):A.current.update(g))},[r,u,c.labels,c.datasets,g]),pe.useEffect(()=>{A.current&&(P(),setTimeout(C))},[o]),pe.useEffect(()=>(C(),()=>P()),[]),Of.createElement("canvas",{ref:b,role:"img",height:n,width:i,...x},h)}const lM=pe.forwardRef(oM);function oS(t,e){return xu.register(e),pe.forwardRef((n,i)=>Of.createElement(lM,{...n,ref:i,type:t}))}const lS=oS("bar",bm),cS=oS("pie",v1),ig=t=>{switch(t){case"draft":return"Rascunho";case"sent":return"Enviado";case"accepted":return"Aceito";case"rejected":return"Rejeitado";case"converted_to_order":return"Convertido em OS";case"cancelled":return"Cancelado";default:return t}},ct=t=>typeof t!="number"||isNaN(t)?0 .toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),cM=(t,e)=>{const n=new Date(t);return n.setMonth(n.getMonth()+e),n.getDate()!==t.getDate()&&t.getMonth()!==(t.getMonth()+e)%12&&n.setDate(0),n},uM=(t,e)=>{const n=new Date(t);return n.setDate(n.getDate()+e*7),n},mu=t=>{const e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${i}`},uS=t=>{const n=t.replace(/\D/g,"").slice(0,11);return n.length<=2?n:n.length<=7?`(${n.slice(0,2)}) ${n.slice(2)}`:`(${n.slice(0,2)}) ${n.slice(2,7)}-${n.slice(7)}`},Vf=()=>{const[t,e]=pe.useState(null),[n,i]=pe.useState(!0),[r,a]=pe.useState(null),o=async()=>{try{i(!0),console.log("🔄 useCompany: Loading company data...");const u=await Ax.getCompany();console.log("✅ useCompany: Company data loaded:",u==null?void 0:u.name),e(u),a(null)}catch(u){if(console.error("❌ useCompany: Error loading company:",u),u instanceof Error&&u.message.includes("CORS"))console.warn("🔌 CORS error detected - using default company data"),a("Modo offline: Configure CORS no Supabase"),e({name:"Sua Empresa",logoUrlDarkBg:"",logoUrlLightBg:"",address:"",phone:"",email:"",cnpj:"",instagram:"",website:""});else{const f=u instanceof Error?u.message:"Erro ao carregar empresa";a(f),e(null)}}finally{i(!1)}},c=async u=>{try{await Ax.saveCompany(u),e(u),a(null)}catch(f){throw console.error("Error saving company:",f),a(f instanceof Error?f.message:"Erro ao salvar empresa"),f}};return pe.useEffect(()=>{o()},[]),{company:t,loading:n,error:r,saveCompany:c,refetch:o}},fS=()=>{const[t,e]=pe.useState([]),[n,i]=pe.useState(!0),[r,a]=pe.useState(null),o=async()=>{try{i(!0),console.log("🔄 useCategories: Loading categories...");const h=await $p.getCategories();console.log(`✅ useCategories: ${h.length} categories loaded`),e(h),a(null)}catch(h){console.error("❌ useCategories: Error loading categories:",h);const g=h instanceof Error?h.message:"Erro ao carregar categorias";a(g),e([])}finally{i(!1)}},c=async h=>{try{const g=await $p.createCategory(h);return e(x=>[...x,g]),a(null),g}catch(g){throw a(g instanceof Error?g.message:"Erro ao criar categoria"),g}},u=async h=>{try{await $p.updateCategory(h),e(g=>g.map(x=>x.id===h.id?h:x)),a(null)}catch(g){throw a(g instanceof Error?g.message:"Erro ao atualizar categoria"),g}},f=async h=>{try{await $p.deleteCategory(h),e(g=>g.filter(x=>x.id!==h)),a(null)}catch(g){throw a(g instanceof Error?g.message:"Erro ao excluir categoria"),g}};return pe.useEffect(()=>{o()},[]),{categories:t,loading:n,error:r,createCategory:c,updateCategory:u,deleteCategory:f,refetch:o}},Cy=()=>{const[t,e]=pe.useState([]),[n,i]=pe.useState(!0),[r,a]=pe.useState(null),o=async()=>{try{i(!0),console.log("🔄 useProducts: Loading products...");const h=await Wp.getProducts();console.log(`✅ useProducts: ${h.length} products loaded`),e(h),a(null)}catch(h){console.error("❌ useProducts: Error loading products:",h);const g=h instanceof Error?h.message:"Erro ao carregar produtos";a(g),e([])}finally{i(!1)}},c=async h=>{try{const g=await Wp.createProduct(h);return e(x=>[...x,g]),a(null),g}catch(g){throw a(g instanceof Error?g.message:"Erro ao criar produto"),g}},u=async h=>{try{await Wp.updateProduct(h),e(g=>g.map(x=>x.id===h.id?h:x)),a(null)}catch(g){throw a(g instanceof Error?g.message:"Erro ao atualizar produto"),g}},f=async h=>{try{await Wp.deleteProduct(h),e(g=>g.filter(x=>x.id!==h)),a(null)}catch(g){throw a(g instanceof Error?g.message:"Erro ao excluir produto"),g}};return pe.useEffect(()=>{o()},[]),{products:t,loading:n,error:r,createProduct:c,updateProduct:u,deleteProduct:f,refetch:o}},dS=()=>{const[t,e]=pe.useState([]),[n,i]=pe.useState(!0),[r,a]=pe.useState(null),o=async()=>{try{i(!0),console.log("🔄 useCustomers: Loading customers...");const h=await Yp.getCustomers();console.log(`✅ useCustomers: ${h.length} customers loaded`),e(h),a(null)}catch(h){console.error("❌ useCustomers: Error loading customers:",h);const g=h instanceof Error?h.message:"Erro ao carregar clientes";a(g),e([])}finally{i(!1)}},c=async h=>{try{const g=await Yp.createCustomer(h);return e(x=>[...x,g]),a(null),g}catch(g){throw a(g instanceof Error?g.message:"Erro ao criar cliente"),g}},u=async h=>{try{await Yp.updateCustomer(h),e(g=>g.map(x=>x.id===h.id?h:x)),a(null)}catch(g){throw a(g instanceof Error?g.message:"Erro ao atualizar cliente"),g}},f=async h=>{try{await Yp.deleteCustomer(h),e(g=>g.filter(x=>x.id!==h)),a(null)}catch(g){throw a(g instanceof Error?g.message:"Erro ao excluir cliente"),g}};return pe.useEffect(()=>{o()},[]),{customers:t,loading:n,error:r,createCustomer:c,updateCustomer:u,deleteCustomer:f,refetch:o}},Oh=()=>{const[t,e]=pe.useState([]),[n,i]=pe.useState(!0),[r,a]=pe.useState(null),o=async()=>{try{i(!0),console.log("🔄 useQuotes: Loading quotes...");const h=await Jp.getQuotes();console.log(`✅ useQuotes: ${h.length} quotes loaded`),e(h),a(null)}catch(h){console.error("❌ useQuotes: Error loading quotes:",h),console.warn("🔌 Switching to offline mode for quotes"),a("Modo offline: Verifique a conexão com Supabase");const g=localStorage.getItem("quotes_backup");if(g)try{const x=JSON.parse(g);e(x),console.log("📦 Loaded quotes from localStorage backup")}catch{e([])}else e([])}finally{i(!1)}},c=async h=>{try{const g=await Jp.createQuote(h);return e(x=>[g,...x]),a(null),g}catch(g){throw a(g instanceof Error?g.message:"Erro ao criar orçamento"),g}},u=async h=>{try{await Jp.updateQuote(h),e(g=>g.map(x=>x.id===h.id?h:x)),a(null)}catch(g){throw a(g instanceof Error?g.message:"Erro ao atualizar orçamento"),g}},f=async h=>{try{await Jp.deleteQuote(h),e(g=>g.filter(x=>x.id!==h)),a(null)}catch(g){throw a(g instanceof Error?g.message:"Erro ao excluir orçamento"),g}};return pe.useEffect(()=>{o()},[]),{quotes:t,loading:n,error:r,createQuote:c,updateQuote:u,deleteQuote:f,refetch:o}},fM=()=>{const[t,e]=pe.useState([]),[n,i]=pe.useState([]),[r,a]=pe.useState([]),[o,c]=pe.useState(!0),[u,f]=pe.useState(null),h=async()=>{try{c(!0),console.log("🔄 useSuppliers: Loading suppliers data...");const[L,N,R]=await Promise.all([Ks.getSuppliers(),Ks.getSupplierDebts(),Ks.getSupplierCredits()]);console.log(`✅ useSuppliers: ${L.length} suppliers, ${N.length} debts, ${R.length} credits loaded`),e(L),i(N),a(R),f(null)}catch(L){console.error("❌ useSuppliers: Error loading suppliers data:",L),console.warn("🔌 Switching to offline mode for suppliers"),f("Modo offline: Verifique a conexão com Supabase");const N=localStorage.getItem("suppliers_backup"),R=localStorage.getItem("supplier_debts_backup"),F=localStorage.getItem("supplier_credits_backup");if(N)try{const Y=JSON.parse(N);e(Y),console.log("📦 Loaded suppliers from localStorage backup")}catch{e([])}else e([]);if(R)try{const Y=JSON.parse(R);i(Y),console.log("📦 Loaded supplier debts from localStorage backup")}catch{i([])}else i([]);if(F)try{const Y=JSON.parse(F);a(Y),console.log("📦 Loaded supplier credits from localStorage backup")}catch{a([])}else a([])}finally{c(!1)}},g=async L=>{try{const N=await Ks.createSupplier(L);return e(R=>[...R,N]),f(null),N}catch(N){throw f(N instanceof Error?N.message:"Erro ao criar fornecedor"),N}},x=async L=>{try{await Ks.updateSupplier(L),e(N=>N.map(R=>R.id===L.id?L:R)),f(null)}catch(N){throw f(N instanceof Error?N.message:"Erro ao atualizar fornecedor"),N}},b=async L=>{try{await Ks.deleteSupplier(L),e(N=>N.filter(R=>R.id!==L)),i(N=>N.filter(R=>R.supplierId!==L)),a(N=>N.filter(R=>R.supplierId!==L)),f(null)}catch(N){throw f(N instanceof Error?N.message:"Erro ao excluir fornecedor"),N}},A=async L=>{try{const N=await Ks.createSupplierDebt(L);return i(R=>[N,...R]),f(null),N}catch(N){throw f(N instanceof Error?N.message:"Erro ao criar dívida"),N}},C=async L=>{try{await Ks.deleteSupplierDebt(L),i(N=>N.filter(R=>R.id!==L)),f(null)}catch(N){throw f(N instanceof Error?N.message:"Erro ao excluir dívida"),N}},P=async L=>{try{const N=await Ks.createSupplierCredit(L);return a(R=>[N,...R]),f(null),N}catch(N){throw f(N instanceof Error?N.message:"Erro ao criar pagamento"),N}},M=async L=>{try{await Ks.deleteSupplierCredit(L),a(N=>N.filter(R=>R.id!==L)),f(null)}catch(N){throw f(N instanceof Error?N.message:"Erro ao excluir pagamento"),N}};return pe.useEffect(()=>{h()},[]),{suppliers:t,debts:n,credits:r,loading:o,error:u,createSupplier:g,updateSupplier:x,deleteSupplier:b,createDebt:A,deleteDebt:C,createCredit:P,deleteCredit:M,refetch:h}},dM=()=>{const[t,e]=pe.useState([]),[n,i]=pe.useState(!0),[r,a]=pe.useState(null),o=async()=>{try{i(!0),console.log("🔄 useAccountsPayable: Loading accounts payable...");const g=await Gd.getAccountsPayable();console.log(`✅ useAccountsPayable: ${g.length} entries loaded`),e(g),a(null)}catch(g){console.error("❌ useAccountsPayable: Error loading accounts payable:",g);const x=g instanceof Error?g.message:"Erro ao carregar contas a pagar";a(x),e([])}finally{i(!1)}},c=async g=>{try{const x=await Gd.createAccountsPayable(g);return e(b=>[...b,...x].sort((A,C)=>new Date(A.dueDate).getTime()-new Date(C.dueDate).getTime())),a(null),x}catch(x){throw a(x instanceof Error?x.message:"Erro ao criar contas a pagar"),x}},u=async g=>{try{await Gd.updateAccountsPayable(g),e(x=>x.map(b=>b.id===g.id?g:b).sort((b,A)=>new Date(b.dueDate).getTime()-new Date(A.dueDate).getTime())),a(null)}catch(x){throw a(x instanceof Error?x.message:"Erro ao atualizar conta a pagar"),x}},f=async g=>{try{await Gd.deleteAccountsPayable(g),e(x=>x.filter(b=>b.id!==g)),a(null)}catch(x){throw a(x instanceof Error?x.message:"Erro ao excluir conta a pagar"),x}},h=async g=>{try{await Gd.deleteAccountsPayableBySeries(g),e(x=>x.filter(b=>b.seriesId!==g)),a(null)}catch(x){throw a(x instanceof Error?x.message:"Erro ao excluir série de contas a pagar"),x}};return pe.useEffect(()=>{o()},[]),{entries:t,loading:n,error:r,createEntries:c,updateEntry:u,deleteEntry:f,deleteEntriesBySeries:h,refetch:o}},hM=()=>{const[t,e]=pe.useState([]),[n,i]=pe.useState(!0),[r,a]=pe.useState(null),o=async()=>{try{i(!0),console.log("🔄 useUsers: Loading users...");const h=await Ea.getUsers();console.log(`✅ useUsers: ${h.length} users loaded from Supabase`),e(h),localStorage.setItem("appUsers",JSON.stringify(h)),console.log("📦 useUsers: Users saved to localStorage as backup"),a(null)}catch(h){console.error("❌ useUsers: Error loading users:",h);const g=h instanceof Error?h.message:"Erro ao carregar usuários";a(g),console.log("🔌 useUsers: Trying localStorage fallback...");const x=localStorage.getItem("appUsers");if(x){const b=JSON.parse(x);console.log("📦 useUsers: Using localStorage users as fallback:",b),e(b)}else console.log("📦 useUsers: No localStorage fallback available"),e([])}finally{i(!1),console.log("🏁 useUsers: loadUsers completed")}},c=async h=>{try{console.log("🔄 Creating user:",h.username);const g=await Ea.createUser(h);console.log("✅ User created:",g),e(b=>[...b,g]);const x=[...t,g];return localStorage.setItem("appUsers",JSON.stringify(x)),console.log("📦 Users saved to localStorage"),a(null),g}catch(g){throw console.error("❌ Error creating user:",g),a(g instanceof Error?g.message:"Erro ao criar usuário"),g}},u=async h=>{try{console.log("🔄 Updating user:",h.username),await Ea.updateUser(h),e(x=>x.map(b=>b.id===h.id?{...h,password:""}:b));const g=t.map(x=>x.id===h.id?{...h,password:""}:x);localStorage.setItem("appUsers",JSON.stringify(g)),console.log("📦 Users updated in localStorage"),a(null)}catch(g){throw console.error("❌ Error updating user:",g),a(g instanceof Error?g.message:"Erro ao atualizar usuário"),g}},f=async h=>{try{console.log("🔄 Deleting user:",h),await Ea.deleteUser(h),e(x=>x.filter(b=>b.id!==h));const g=t.filter(x=>x.id!==h);localStorage.setItem("appUsers",JSON.stringify(g)),console.log("📦 User deleted from localStorage"),a(null)}catch(g){throw console.error("❌ Error deleting user:",g),a(g instanceof Error?g.message:"Erro ao excluir usuário"),g}};return pe.useEffect(()=>{console.log("🚀 useUsers hook initializing..."),o()},[]),{users:t,loading:n,error:r,createUser:c,updateUser:u,deleteUser:f,refetch:o}};xu.register(zm,qm,mh,nS,tg,eg);const pM=({userName:t,userRole:e,openGlobalViewDetailsModal:n})=>{const{quotes:i,loading:r}=Oh(),{products:a,loading:o}=Cy(),{company:c}=Vf(),[u,f]=pe.useState([]),[h,g]=pe.useState([]),[x,b]=pe.useState({labels:[],datasets:[]}),[A,C]=pe.useState(new Date().getFullYear()),[P,M]=pe.useState([]),L=Bf(),N=(c==null?void 0:c.name)||"Sua Empresa",R=i.length,F=a.length,Y=pe.useMemo(()=>i.filter(K=>K.status==="accepted"||K.status==="converted_to_order"),[i]);pe.useEffect(()=>{if(!i.length)return;const K=i.filter(z=>z.status==="accepted"||z.status==="converted_to_order"),O=i.filter(z=>z.status==="sent").sort((z,G)=>new Date(G.createdAt).getTime()-new Date(z.createdAt).getTime());f(O);const j=new Date,Q=j.getMonth(),Z=j.getFullYear(),me=i.filter(z=>{const G=new Date(z.createdAt);return(z.status==="accepted"||z.status==="converted_to_order")&&G.getMonth()===Q&&G.getFullYear()===Z}).sort((z,G)=>new Date(G.createdAt).getTime()-new Date(z.createdAt).getTime());if(g(me),K.length>0){const z=[...new Set(K.map(G=>new Date(G.createdAt).getFullYear()))].sort((G,te)=>te-G);M(z),!z.includes(A)&&z.length>0&&C(z[0])}else M([new Date().getFullYear()])},[i]),pe.useEffect(()=>{if(!Y.length)return;const K=Y.filter(Q=>new Date(Q.createdAt).getFullYear()===A),O=Array(12).fill(0);K.forEach(Q=>{const Z=new Date(Q.createdAt).getMonth();O[Z]+=Q.totalCash}),b({labels:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],datasets:[{label:`Vendas (${A})`,data:O,backgroundColor:"rgba(234, 179, 8, 0.7)",borderColor:"rgba(234, 179, 8, 1)",borderWidth:1,borderRadius:4,hoverBackgroundColor:"rgba(234, 179, 8, 1)"}]})},[A,Y]);const B=()=>{const K=new Date().getHours();return K<12?"Bom dia":K<18?"Boa tarde":"Boa noite"},V={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#f3f4f6",font:{size:12,family:"Inter"}}},title:{display:!0,text:`Resumo Mensal de Vendas (${A})`,color:"#f3f4f6",font:{size:16,family:"Inter",weight:600}},tooltip:{backgroundColor:"#000000",titleColor:"#f3f4f6",bodyColor:"#d1d5db",callbacks:{label:function(K){let O=K.dataset.label||"";return O&&(O+=": "),K.parsed.y!==null&&(O+=ct(K.parsed.y)),O}}}},scales:{x:{ticks:{color:"#d1d5db",font:{family:"Inter"}},grid:{color:"rgba(255, 255, 255, 0.1)"}},y:{ticks:{color:"#d1d5db",font:{family:"Inter"},callback:function(K){return ct(Number(K))}},grid:{color:"rgba(255, 255, 255, 0.1)"},beginAtZero:!0}}},X=P.length>0?P.map(K=>({value:K,label:K.toString()})):[{value:new Date().getFullYear(),label:new Date().getFullYear().toString()}];return r||o?w.jsxs("div",{className:"p-6 text-white flex items-center justify-center",children:[w.jsx(oo,{size:"lg"}),w.jsxs("div",{className:"ml-3",children:[w.jsx("span",{children:"Carregando dados do painel..."}),w.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Conectando ao Supabase e carregando todas as informações..."})]})]}):w.jsxs("div",{className:"p-6 text-white",children:[w.jsxs("h1",{className:"text-3xl font-semibold text-white mb-2",children:[B(),", ",t,"!"]}),w.jsxs("p",{className:"text-gray-300 mb-8",children:["Bem-vindo(a) ao painel de controle da ",N,"."]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[w.jsx(Jl,{to:"/products",className:"block p-6 bg-[#1d1d1d] rounded-xl shadow-lg hover:shadow-xl hover:bg-[#282828] transition-all duration-300 ease-in-out",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(fh,{className:"h-10 w-10 text-yellow-500 mr-4"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-3xl font-bold text-white",children:F}),w.jsx("p",{className:"text-gray-300",children:"Produtos Cadastrados"})]})]})}),w.jsx(Jl,{to:"/quotes/all",className:"block p-6 bg-[#1d1d1d] rounded-xl shadow-lg hover:shadow-xl hover:bg-[#282828] transition-all duration-300 ease-in-out",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(ro,{className:"h-10 w-10 text-yellow-400 mr-4"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-3xl font-bold text-white",children:R}),w.jsx("p",{className:"text-gray-300",children:"Orçamentos Criados (Ver Todos)"})]})]})}),e===Et.ADMIN&&w.jsx(Jl,{to:"/settings",className:"block p-6 bg-[#1d1d1d] rounded-xl shadow-lg hover:shadow-xl hover:bg-[#282828] transition-all duration-300 ease-in-out",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(ry,{className:"h-10 w-10 text-yellow-300 mr-4"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xl font-semibold text-white",children:"Configurar Empresa"}),w.jsx("p",{className:"text-gray-300",children:"Gerenciar dados e logo"})]})]})})]}),w.jsxs("div",{className:"bg-[#1d1d1d] p-6 rounded-xl shadow-lg mb-8",children:[w.jsxs("div",{className:"flex items-center mb-4",children:[w.jsx(p1,{className:"h-6 w-6 text-green-500 mr-2"}),w.jsx("h2",{className:"text-xl font-semibold text-white",children:"Orçamentos Fechados Este Mês"})]}),h.length>0?w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-[#282828]",children:[w.jsx("thead",{className:"bg-[#282828]",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase",children:"Número"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase",children:"Cliente"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase",children:"Data Aceite"}),w.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-400 uppercase",children:"Valor"}),w.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-400 uppercase",children:"Ação"})]})}),w.jsx("tbody",{className:"bg-[#1d1d1d] divide-y divide-[#282828]",children:h.map(K=>w.jsxs("tr",{className:"hover:bg-[#3a3a3a]",children:[w.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-green-400",children:K.quoteNumber}),w.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-white",children:K.clientName}),w.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-300",children:new Date(K.createdAt).toLocaleDateString("pt-BR")}),w.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-200 text-right",children:ct(K.totalCash)}),w.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:w.jsx(lt,{onClick:()=>n(K),variant:"outline",size:"sm",children:"Ver Detalhes"})})]},K.id))})]})}):w.jsx("p",{className:"text-gray-400",children:"Nenhum orçamento fechado este mês."})]}),w.jsxs("div",{className:"bg-[#1d1d1d] p-6 rounded-xl shadow-lg mb-8",children:[w.jsxs("div",{className:"flex items-center mb-4",children:[w.jsx(oc,{className:"h-6 w-6 text-yellow-500 mr-2"}),w.jsx("h2",{className:"text-xl font-semibold text-white",children:"Orçamentos em Aberto (Enviados)"})]}),u.length>0?w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-[#282828]",children:[w.jsx("thead",{className:"bg-[#282828]",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase",children:"Número"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase",children:"Cliente"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase",children:"Data"}),w.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-400 uppercase",children:"Total (À Vista)"}),w.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-400 uppercase",children:"Ação"})]})}),w.jsx("tbody",{className:"bg-[#1d1d1d] divide-y divide-[#282828]",children:u.map(K=>w.jsxs("tr",{className:"hover:bg-[#3a3a3a]",children:[w.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-yellow-400",children:K.quoteNumber}),w.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-white",children:K.clientName}),w.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-300",children:new Date(K.createdAt).toLocaleDateString("pt-BR")}),w.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-200 text-right",children:ct(K.totalCash)}),w.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:w.jsx(lt,{onClick:()=>L(`/quotes/edit/${K.id}`),variant:"outline",size:"sm",iconLeft:w.jsx(oc,{className:"w-4 h-4"}),children:"Editar"})})]},K.id))})]})}):w.jsx("p",{className:"text-gray-400",children:"Nenhum orçamento enviado aguardando resposta."})]}),w.jsxs("div",{className:"bg-[#1d1d1d] p-6 rounded-xl shadow-lg mb-8",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx(oy,{className:"h-6 w-6 text-yellow-500 mr-2"}),w.jsx("h2",{className:"text-xl font-semibold text-white",children:"Vendas Realizadas (Orçamentos Aceitos)"})]}),w.jsx("div",{className:"w-40",children:w.jsx(Yi,{label:"Filtrar por Ano:",options:X,value:A,onChange:K=>C(Number(K.target.value)),className:"text-sm bg-black"})})]}),w.jsx("div",{className:"h-80 md:h-96 relative",children:x.datasets.length>0&&x.datasets[0].data.some(K=>typeof K=="number"&&K>0)?w.jsx(lS,{options:V,data:x}):w.jsx("div",{className:"flex items-center justify-center h-full",children:w.jsxs("p",{className:"text-gray-500",children:["Nenhuma venda realizada para o ano de ",A,"."]})})})]}),w.jsxs("div",{className:"bg-[#1d1d1d] p-6 rounded-xl shadow-lg",children:[w.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Ações Rápidas"}),w.jsxs("div",{className:"flex flex-wrap gap-4",children:[w.jsx(Jl,{to:"/quotes/new",children:w.jsx(lt,{variant:"primary",children:"Novo Orçamento"})}),w.jsx(Jl,{to:"/products",children:w.jsx(lt,{variant:"secondary",children:"Ver Produtos"})}),w.jsx(Jl,{to:"/customers",children:w.jsx(lt,{variant:"secondary",children:"Ver Clientes"})})]})]})]})},ao=({label:t,id:e,error:n,className:i,...r})=>w.jsxs("div",{className:"w-full",children:[t&&w.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-200 mb-1",children:t}),w.jsx("textarea",{id:e,className:`
          form-textarea block w-full sm:text-sm rounded-md
          bg-[#282828] text-white placeholder-gray-500
          pl-3 pr-3 py-2 border
          ${n?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-[#282828] focus:ring-yellow-500 focus:border-yellow-500"}
          ${i||""}
        `,...r}),n&&w.jsx("p",{className:"mt-1 text-xs text-red-600",children:n})]}),ua=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),so=({title:t,...e})=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[t&&w.jsx("title",{children:t}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.242.078 3.324.214m9.236-1.112a2.25 2.25 0 0 0-2.244-2.077H8.084a2.25 2.25 0 0 0-2.244 2.077m0 0L3 5.79m0 0c0-.128.01-.253.029-.376A2.25 2.25 0 0 1 5.23 3.375h13.54a2.25 2.25 0 0 1 2.215 2.04M16.5 5.625h-9"})]}),mM=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.355a3.375 3.375 0 0 1-3 0m3-1.121c1.28-.564 1.886-1.803 1.543-3.031C15.936 10.021 14.86 9 13.5 9H10.5c-1.36 0-2.436 1.021-2.787 2.298C7.37 12.526 7.976 13.765 9.256 14.33M15 12V7.5a3.75 3.75 0 0 0-7.5 0V12m3 3.75v.375A2.625 2.625 0 1 0 12 15.75V12"})});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gM,yM;function vM(){return{geminiUrl:gM,vertexUrl:yM}}function xM(t,e,n){var i,r,a;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const o=vM();return t.vertexai?(r=o.vertexUrl)!==null&&r!==void 0?r:e:(a=o.geminiUrl)!==null&&a!==void 0?a:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bu{}function xt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const a=e[r];return a!=null?String(a):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function m(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const c=o.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[c])){const u=t[c];if(Array.isArray(n))for(let f=0;f<u.length;f++){const h=u[f];m(h,e.slice(a+1),n[f])}else for(const f of u)m(f,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const c=o.slice(0,-3);c in t||(t[c]=[{}]);const u=t[c];m(u[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const i=e[e.length-1],r=t[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function p(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in t){const a=t[r];return Array.isArray(a)?a.map(o=>p(o,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var O5;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(O5||(O5={}));var j5;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(j5||(j5={}));var tc;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(tc||(tc={}));var U5;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(U5||(U5={}));var B5;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(B5||(B5={}));var z5;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(z5||(z5={}));var q5;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(q5||(q5={}));var V5;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(V5||(V5={}));var H5;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(H5||(H5={}));var G5;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(G5||(G5={}));var $5;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})($5||($5={}));var W5;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(W5||(W5={}));var Y5;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Y5||(Y5={}));var J5;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(J5||(J5={}));var K5;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(K5||(K5={}));var X5;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(X5||(X5={}));var Hm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Hm||(Hm={}));var Q5;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Q5||(Q5={}));var _1;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_1||(_1={}));var Z5;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Z5||(Z5={}));var eb;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(eb||(eb={}));var tb;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(tb||(tb={}));var nb;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(nb||(nb={}));var ib;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(ib||(ib={}));var rb;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(rb||(rb={}));var ab;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(ab||(ab={}));var sb;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(sb||(sb={}));var ob;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ob||(ob={}));var lb;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(lb||(lb={}));var cb;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(cb||(cb={}));var ub;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ub||(ub={}));var fb;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(fb||(fb={}));var db;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(db||(db={}));var hb;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(hb||(hb={}));var pb;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(pb||(pb={}));var mb;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mb||(mb={}));var gb;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gb||(gb={}));var yb;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(yb||(yb={}));var vb;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(vb||(vb={}));var xb;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(xb||(xb={}));var bb;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(bb||(bb={}));var Ef;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ef||(Ef={}));class S1{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Xd{get text(){var e,n,i,r,a,o,c,u;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const g=[];for(const x of(u=(c=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&u!==void 0?u:[]){for(const[b,A]of Object.entries(x))b!=="text"&&b!=="thought"&&(A!==null||A!==void 0)&&g.push(b);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;h=!0,f+=x.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,i,r,a,o,c,u;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const g of(u=(c=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&u!==void 0?u:[]){for(const[x,b]of Object.entries(g))x!=="inlineData"&&(b!==null||b!==void 0)&&h.push(x);g.inlineData&&typeof g.inlineData.data=="string"&&(f+=atob(g.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,r,a,o,c,u;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(u=(c=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||u===void 0?void 0:u.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,r,a,o,c,u,f;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(u=(c=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||u===void 0?void 0:u.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,r,a,o,c,u,f;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(u=(c=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||u===void 0?void 0:u.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class wb{}class _b{}class bM{}class wM{}class Sb{}class Cb{}class Ab{}class _M{}class Tb{}class Nb{}class Eb{}class SM{}class CM{}class AM{}class Mb{}class TM{get text(){var e,n,i;let r="",a=!1;const o=[];for(const c of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,f]of Object.entries(c))u!=="text"&&u!=="thought"&&f!==null&&o.push(u);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,r+=c.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?r:void 0}get data(){var e,n,i;let r="";const a=[];for(const o of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,u]of Object.entries(o))c!=="inlineData"&&u!==null&&a.push(c);o.inlineData&&typeof o.inlineData.data=="string"&&(r+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class NM{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _n(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function hS(t,e){const n=_n(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function pS(t){return Array.isArray(t)?t.map(e=>Gm(e)):[Gm(t)]}function Gm(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function mS(t){const e=Gm(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gS(t){const e=Gm(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Pb(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function yS(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Pb(e)):[Pb(t)]}function C1(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Lb(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Db(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function br(t){if(t==null)throw new Error("ContentUnion is required");return C1(t)?t:{role:"user",parts:yS(t)}}function vS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=br(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=br(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>br(n)):[br(e)]}function Pa(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Lb(t)||Db(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[br(t)]}const e=[],n=[],i=C1(t[0]);for(const r of t){const a=C1(r);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(r);else{if(Lb(r)||Db(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||e.push({role:"user",parts:yS(n)}),e}function EM(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(tc).includes(n[0].toUpperCase())?n[0].toUpperCase():tc.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(tc).includes(i.toUpperCase())?i.toUpperCase():tc.TYPE_UNSPECIFIED})}}function Rf(t){const e={},n=["items"],i=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&EM(t.type,e);for(const[o,c]of Object.entries(t))if(c!=null)if(o=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(tc).includes(c.toUpperCase())?c.toUpperCase():tc.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Rf(c);else if(i.includes(o)){const u=[];for(const f of c){if(f.type=="null"){e.nullable=!0;continue}u.push(Rf(f))}e[o]=u}else if(r.includes(o)){const u={};for(const[f,h]of Object.entries(c))u[f]=Rf(h);e[o]=u}else{if(o==="additionalProperties")continue;e[o]=c}return e}function Ay(t){return Rf(t)}function Ty(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ny(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Hf(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Rf(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Rf(e.response));return t}function Gf(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function MM(t,e,n,i=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Qo(t,e){if(typeof e!="string")throw new Error("name must be a string");return MM(t,e,"cachedContents")}function xS(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Zo(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function PM(t){return t!=null&&typeof t=="object"&&"name"in t}function LM(t){return t!=null&&typeof t=="object"&&"video"in t}function DM(t){return t!=null&&typeof t=="object"&&"uri"in t}function bS(t){var e;let n;if(PM(t)&&(n=t.name),!(DM(t)&&(n=t.uri,n===void 0))&&!(LM(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function wS(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function _S(t){for(const e of["models","tunedModels","publisherModels"])if(RM(t,e))return t[e];return[]}function RM(t,e){return t!==null&&typeof t=="object"&&e in t}function kM(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function IM(t,e={}){const n=[],i=new Set;for(const r of t){const a=r.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const o=kM(r,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function SS(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function FM(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function $f(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function CS(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OM(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function jM(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function UM(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function BM(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],OM(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],jM(r));const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],UM(a));const o=p(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const u=p(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function AS(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>BM(a))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function zM(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const i=p(t,["default"]);i!=null&&m(e,["default"],i);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const a=p(t,["enum"]);a!=null&&m(e,["enum"],a);const o=p(t,["example"]);o!=null&&m(e,["example"],o);const c=p(t,["format"]);c!=null&&m(e,["format"],c);const u=p(t,["items"]);u!=null&&m(e,["items"],u);const f=p(t,["maxItems"]);f!=null&&m(e,["maxItems"],f);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const g=p(t,["maxProperties"]);g!=null&&m(e,["maxProperties"],g);const x=p(t,["maximum"]);x!=null&&m(e,["maximum"],x);const b=p(t,["minItems"]);b!=null&&m(e,["minItems"],b);const A=p(t,["minLength"]);A!=null&&m(e,["minLength"],A);const C=p(t,["minProperties"]);C!=null&&m(e,["minProperties"],C);const P=p(t,["minimum"]);P!=null&&m(e,["minimum"],P);const M=p(t,["nullable"]);M!=null&&m(e,["nullable"],M);const L=p(t,["pattern"]);L!=null&&m(e,["pattern"],L);const N=p(t,["properties"]);N!=null&&m(e,["properties"],N);const R=p(t,["propertyOrdering"]);R!=null&&m(e,["propertyOrdering"],R);const F=p(t,["required"]);F!=null&&m(e,["required"],F);const Y=p(t,["title"]);Y!=null&&m(e,["title"],Y);const B=p(t,["type"]);return B!=null&&m(e,["type"],B),e}function qM(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&m(e,["category"],n);const i=p(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function VM(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const a=p(t,["parameters"]);a!=null&&m(e,["parameters"],a);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const c=p(t,["response"]);c!=null&&m(e,["response"],c);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function HM(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function GM(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],HM(n)),e}function $M(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function WM(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],$M(n)),e}function YM(){return{}}function JM(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>VM(f))),m(e,["functionDeclarations"],u)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],GM(i));const r=p(t,["googleSearchRetrieval"]);if(r!=null&&m(e,["googleSearchRetrieval"],WM(r)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],YM());const o=p(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const c=p(t,["computerUse"]);return c!=null&&m(e,["computerUse"],c),e}function KM(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);return i!=null&&m(e,["allowedFunctionNames"],i),e}function XM(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const i=p(t,["longitude"]);return i!=null&&m(e,["longitude"],i),e}function QM(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],XM(n));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function ZM(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],KM(n));const i=p(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],QM(i)),e}function eP(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function TS(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],eP(n)),e}function tP(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const i=p(t,["voiceConfig"]);return i!=null&&m(e,["voiceConfig"],TS(i)),e}function nP(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>tP(r))),m(e,["speakerVoiceConfigs"],i)}return e}function iP(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],TS(n));const i=p(t,["multiSpeakerVoiceConfig"]);i!=null&&m(e,["multiSpeakerVoiceConfig"],nP(i));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function rP(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const i=p(t,["thinkingBudget"]);return i!=null&&m(e,["thinkingBudget"],i),e}function aP(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&m(n,["systemInstruction"],AS(br(r)));const a=p(e,["temperature"]);a!=null&&m(i,["temperature"],a);const o=p(e,["topP"]);o!=null&&m(i,["topP"],o);const c=p(e,["topK"]);c!=null&&m(i,["topK"],c);const u=p(e,["candidateCount"]);u!=null&&m(i,["candidateCount"],u);const f=p(e,["maxOutputTokens"]);f!=null&&m(i,["maxOutputTokens"],f);const h=p(e,["stopSequences"]);h!=null&&m(i,["stopSequences"],h);const g=p(e,["responseLogprobs"]);g!=null&&m(i,["responseLogprobs"],g);const x=p(e,["logprobs"]);x!=null&&m(i,["logprobs"],x);const b=p(e,["presencePenalty"]);b!=null&&m(i,["presencePenalty"],b);const A=p(e,["frequencyPenalty"]);A!=null&&m(i,["frequencyPenalty"],A);const C=p(e,["seed"]);C!=null&&m(i,["seed"],C);const P=p(e,["responseMimeType"]);P!=null&&m(i,["responseMimeType"],P);const M=p(e,["responseSchema"]);M!=null&&m(i,["responseSchema"],zM(Ay(M)));const L=p(e,["responseJsonSchema"]);if(L!=null&&m(i,["responseJsonSchema"],L),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let O=N;Array.isArray(O)&&(O=O.map(j=>qM(j))),m(n,["safetySettings"],O)}const R=p(e,["tools"]);if(n!==void 0&&R!=null){let O=Gf(R);Array.isArray(O)&&(O=O.map(j=>JM(Hf(j)))),m(n,["tools"],O)}const F=p(e,["toolConfig"]);if(n!==void 0&&F!=null&&m(n,["toolConfig"],ZM(F)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=p(e,["cachedContent"]);n!==void 0&&Y!=null&&m(n,["cachedContent"],Qo(t,Y));const B=p(e,["responseModalities"]);B!=null&&m(i,["responseModalities"],B);const V=p(e,["mediaResolution"]);V!=null&&m(i,["mediaResolution"],V);const X=p(e,["speechConfig"]);if(X!=null&&m(i,["speechConfig"],iP(Ty(X))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=p(e,["thinkingConfig"]);return K!=null&&m(i,["thinkingConfig"],rP(K)),i}function sP(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["request","model"],_n(t,i));const r=p(e,["contents"]);if(r!=null){let o=Pa(r);Array.isArray(o)&&(o=o.map(c=>AS(c))),m(n,["request","contents"],o)}const a=p(e,["config"]);return a!=null&&m(n,["request","generationConfig"],aP(t,a,n)),n}function oP(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=p(e,["fileName"]);i!=null&&m(n,["fileName"],i);const r=p(e,["inlinedRequests"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>sP(t,o))),m(n,["requests","requests"],a)}return n}function lP(t,e){const n={},i=p(t,["displayName"]);if(e!==void 0&&i!=null&&m(e,["batch","displayName"],i),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function cP(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],_n(t,i));const r=p(e,["src"]);r!=null&&m(n,["batch","inputConfig"],oP(t,SS(t,r)));const a=p(e,["config"]);return a!=null&&m(n,["config"],lP(a,n)),n}function uP(t,e){const n={},i=p(e,["name"]);i!=null&&m(n,["_url","name"],$f(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],r),n}function fP(t,e){const n={},i=p(e,["name"]);i!=null&&m(n,["_url","name"],$f(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],r),n}function dP(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);if(e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function hP(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],dP(n,e)),e}function pP(t,e){const n={},i=p(e,["name"]);i!=null&&m(n,["_url","name"],$f(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],r),n}function mP(t){const e={},n=p(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const i=p(t,["gcsUri"]);i!=null&&m(e,["gcsSource","uris"],i);const r=p(t,["bigqueryUri"]);if(r!=null&&m(e,["bigquerySource","inputUri"],r),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function gP(t){const e={},n=p(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const i=p(t,["gcsUri"]);i!=null&&m(e,["gcsDestination","outputUriPrefix"],i);const r=p(t,["bigqueryUri"]);if(r!=null&&m(e,["bigqueryDestination","outputUri"],r),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function yP(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const r=p(t,["dest"]);return e!==void 0&&r!=null&&m(e,["outputConfig"],gP(FM(r))),n}function vP(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["model"],_n(t,i));const r=p(e,["src"]);r!=null&&m(n,["inputConfig"],mP(SS(t,r)));const a=p(e,["config"]);return a!=null&&m(n,["config"],yP(a,n)),n}function xP(t,e){const n={},i=p(e,["name"]);i!=null&&m(n,["_url","name"],$f(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],r),n}function bP(t,e){const n={},i=p(e,["name"]);i!=null&&m(n,["_url","name"],$f(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],r),n}function wP(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);e!==void 0&&r!=null&&m(e,["_query","pageToken"],r);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),n}function _P(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],wP(n,e)),e}function SP(t,e){const n={},i=p(e,["name"]);i!=null&&m(n,["_url","name"],$f(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],r),n}function NS(){return{}}function CP(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function AP(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function TP(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function NP(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],CP(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],AP(r));const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],TP(a));const o=p(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const u=p(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function EP(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>NP(a))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function MP(t){const e={},n=p(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function PP(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const i=p(t,["urlRetrievalStatus"]);return i!=null&&m(e,["urlRetrievalStatus"],i),e}function LP(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>PP(r))),m(e,["urlMetadata"],i)}return e}function DP(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],EP(n));const i=p(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],MP(i));const r=p(t,["tokenCount"]);r!=null&&m(e,["tokenCount"],r);const a=p(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const o=p(t,["urlContextMetadata"]);o!=null&&m(e,["urlContextMetadata"],LP(o));const c=p(t,["avgLogprobs"]);c!=null&&m(e,["avgLogprobs"],c);const u=p(t,["groundingMetadata"]);u!=null&&m(e,["groundingMetadata"],u);const f=p(t,["index"]);f!=null&&m(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const g=p(t,["safetyRatings"]);return g!=null&&m(e,["safetyRatings"],g),e}function RP(t){const e={},n=p(t,["candidates"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(c=>DP(c))),m(e,["candidates"],o)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const r=p(t,["promptFeedback"]);r!=null&&m(e,["promptFeedback"],r);const a=p(t,["usageMetadata"]);return a!=null&&m(e,["usageMetadata"],a),e}function kP(t){const e={},n=p(t,["response"]);return n!=null&&m(e,["response"],RP(n)),p(t,["error"])!=null&&m(e,["error"],NS()),e}function IP(t){const e={},n=p(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const i=p(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>kP(a))),m(e,["inlinedResponses"],r)}return e}function A1(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["metadata","displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["metadata","state"]);r!=null&&m(e,["state"],CS(r));const a=p(t,["metadata","createTime"]);a!=null&&m(e,["createTime"],a);const o=p(t,["metadata","endTime"]);o!=null&&m(e,["endTime"],o);const c=p(t,["metadata","updateTime"]);c!=null&&m(e,["updateTime"],c);const u=p(t,["metadata","model"]);u!=null&&m(e,["model"],u);const f=p(t,["metadata","output"]);return f!=null&&m(e,["dest"],IP(f)),e}function FP(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["operations"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>A1(a))),m(e,["batchJobs"],r)}return e}function OP(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["done"]);return i!=null&&m(e,["done"],i),p(t,["error"])!=null&&m(e,["error"],NS()),e}function ES(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const i=p(t,["code"]);i!=null&&m(e,["code"],i);const r=p(t,["message"]);return r!=null&&m(e,["message"],r),e}function jP(t){const e={},n=p(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const i=p(t,["gcsSource","uris"]);i!=null&&m(e,["gcsUri"],i);const r=p(t,["bigquerySource","inputUri"]);return r!=null&&m(e,["bigqueryUri"],r),e}function UP(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const i=p(t,["gcsDestination","outputUriPrefix"]);i!=null&&m(e,["gcsUri"],i);const r=p(t,["bigqueryDestination","outputUri"]);return r!=null&&m(e,["bigqueryUri"],r),e}function T1(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["state"]);r!=null&&m(e,["state"],CS(r));const a=p(t,["error"]);a!=null&&m(e,["error"],ES(a));const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const c=p(t,["startTime"]);c!=null&&m(e,["startTime"],c);const u=p(t,["endTime"]);u!=null&&m(e,["endTime"],u);const f=p(t,["updateTime"]);f!=null&&m(e,["updateTime"],f);const h=p(t,["model"]);h!=null&&m(e,["model"],h);const g=p(t,["inputConfig"]);g!=null&&m(e,["src"],jP(g));const x=p(t,["outputConfig"]);return x!=null&&m(e,["dest"],UP(x)),e}function BP(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["batchPredictionJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>T1(a))),m(e,["batchJobs"],r)}return e}function zP(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const r=p(t,["error"]);return r!=null&&m(e,["error"],ES(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(gu||(gu={}));class jh{constructor(e,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,r)}init(e,n,i){var r,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let o={config:{}};i?typeof i=="object"?o=Object.assign({},i):o=i:o={config:{}},o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(r=o.config)===null||r===void 0?void 0:r.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qP extends bu{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const r=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${r}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new jh(gu.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=vP(this.apiClient,e);return c=xt("batchPredictionJobs",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>T1(h))}else{const f=cP(this.apiClient,e);return c=xt("{model}:batchGenerateContent",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>A1(h))}}async get(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=xP(this.apiClient,e);return c=xt("batchPredictionJobs/{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>T1(h))}else{const f=uP(this.apiClient,e);return c=xt("batches/{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>A1(h))}}async cancel(e){var n,i,r,a;let o="",c={};if(this.apiClient.isVertexAI()){const u=bP(this.apiClient,e);o=xt("batchPredictionJobs/{name}:cancel",u._url),c=u._query,delete u.config,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const u=fP(this.apiClient,e);o=xt("batches/{name}:cancel",u._url),c=u._query,delete u.config,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=_P(e);return c=xt("batchPredictionJobs",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const g=BP(h),x=new Mb;return Object.assign(x,g),x})}else{const f=hP(e);return c=xt("batches",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const g=FP(h),x=new Mb;return Object.assign(x,g),x})}}async delete(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=SP(this.apiClient,e);return c=xt("batchPredictionJobs/{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>zP(h))}else{const f=pP(this.apiClient,e);return c=xt("batches/{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>OP(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VP(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function HP(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function GP(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function $P(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],VP(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],HP(r));const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],GP(a));const o=p(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const u=p(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function Rb(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>$P(a))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function WP(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const a=p(t,["parameters"]);a!=null&&m(e,["parameters"],a);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const c=p(t,["response"]);c!=null&&m(e,["response"],c);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function YP(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function JP(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],YP(n)),e}function KP(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function XP(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],KP(n)),e}function QP(){return{}}function ZP(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>WP(f))),m(e,["functionDeclarations"],u)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],JP(i));const r=p(t,["googleSearchRetrieval"]);if(r!=null&&m(e,["googleSearchRetrieval"],XP(r)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],QP());const o=p(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const c=p(t,["computerUse"]);return c!=null&&m(e,["computerUse"],c),e}function eL(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);return i!=null&&m(e,["allowedFunctionNames"],i),e}function tL(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const i=p(t,["longitude"]);return i!=null&&m(e,["longitude"],i),e}function nL(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],tL(n));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function iL(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],eL(n));const i=p(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],nL(i)),e}function rL(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const r=p(t,["expireTime"]);e!==void 0&&r!=null&&m(e,["expireTime"],r);const a=p(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let h=Pa(o);Array.isArray(h)&&(h=h.map(g=>Rb(g))),m(e,["contents"],h)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&m(e,["systemInstruction"],Rb(br(c)));const u=p(t,["tools"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>ZP(g))),m(e,["tools"],h)}const f=p(t,["toolConfig"]);if(e!==void 0&&f!=null&&m(e,["toolConfig"],iL(f)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function aL(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["model"],hS(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],rL(r,n)),n}function sL(t,e){const n={},i=p(e,["name"]);i!=null&&m(n,["_url","name"],Qo(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],r),n}function oL(t,e){const n={},i=p(e,["name"]);i!=null&&m(n,["_url","name"],Qo(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],r),n}function lL(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const r=p(t,["expireTime"]);return e!==void 0&&r!=null&&m(e,["expireTime"],r),n}function cL(t,e){const n={},i=p(e,["name"]);i!=null&&m(n,["_url","name"],Qo(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],lL(r,n)),n}function uL(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),n}function fL(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],uL(n,e)),e}function dL(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function hL(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["data"]);i!=null&&m(e,["data"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function pL(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function mL(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],dL(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],hL(r));const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],pL(a));const o=p(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const u=p(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function kb(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>mL(a))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function gL(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const r=p(t,["parameters"]);r!=null&&m(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const o=p(t,["response"]);o!=null&&m(e,["response"],o);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function yL(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function vL(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],yL(n)),e}function xL(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function bL(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],xL(n)),e}function wL(){return{}}function _L(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function SL(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],_L(n));const i=p(t,["authType"]);i!=null&&m(e,["authType"],i);const r=p(t,["googleServiceAccountConfig"]);r!=null&&m(e,["googleServiceAccountConfig"],r);const a=p(t,["httpBasicAuthConfig"]);a!=null&&m(e,["httpBasicAuthConfig"],a);const o=p(t,["oauthConfig"]);o!=null&&m(e,["oauthConfig"],o);const c=p(t,["oidcConfig"]);return c!=null&&m(e,["oidcConfig"],c),e}function CL(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],SL(n)),e}function AL(){return{}}function TL(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(x=>gL(x))),m(e,["functionDeclarations"],g)}const i=p(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],vL(r));const a=p(t,["googleSearchRetrieval"]);a!=null&&m(e,["googleSearchRetrieval"],bL(a)),p(t,["enterpriseWebSearch"])!=null&&m(e,["enterpriseWebSearch"],wL());const c=p(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],CL(c)),p(t,["urlContext"])!=null&&m(e,["urlContext"],AL());const f=p(t,["codeExecution"]);f!=null&&m(e,["codeExecution"],f);const h=p(t,["computerUse"]);return h!=null&&m(e,["computerUse"],h),e}function NL(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);return i!=null&&m(e,["allowedFunctionNames"],i),e}function EL(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const i=p(t,["longitude"]);return i!=null&&m(e,["longitude"],i),e}function ML(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],EL(n));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function PL(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],NL(n));const i=p(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],ML(i)),e}function LL(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const r=p(t,["expireTime"]);e!==void 0&&r!=null&&m(e,["expireTime"],r);const a=p(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let g=Pa(o);Array.isArray(g)&&(g=g.map(x=>kb(x))),m(e,["contents"],g)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&m(e,["systemInstruction"],kb(br(c)));const u=p(t,["tools"]);if(e!==void 0&&u!=null){let g=u;Array.isArray(g)&&(g=g.map(x=>TL(x))),m(e,["tools"],g)}const f=p(t,["toolConfig"]);e!==void 0&&f!=null&&m(e,["toolConfig"],PL(f));const h=p(t,["kmsKeyName"]);return e!==void 0&&h!=null&&m(e,["encryption_spec","kmsKeyName"],h),n}function DL(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["model"],hS(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],LL(r,n)),n}function RL(t,e){const n={},i=p(e,["name"]);i!=null&&m(n,["_url","name"],Qo(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],r),n}function kL(t,e){const n={},i=p(e,["name"]);i!=null&&m(n,["_url","name"],Qo(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],r),n}function IL(t,e){const n={},i=p(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const r=p(t,["expireTime"]);return e!==void 0&&r!=null&&m(e,["expireTime"],r),n}function FL(t,e){const n={},i=p(e,["name"]);i!=null&&m(n,["_url","name"],Qo(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],IL(r,n)),n}function OL(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),n}function jL(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],OL(n,e)),e}function Sm(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["model"]);r!=null&&m(e,["model"],r);const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const o=p(t,["updateTime"]);o!=null&&m(e,["updateTime"],o);const c=p(t,["expireTime"]);c!=null&&m(e,["expireTime"],c);const u=p(t,["usageMetadata"]);return u!=null&&m(e,["usageMetadata"],u),e}function UL(){return{}}function BL(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Sm(a))),m(e,["cachedContents"],r)}return e}function Cm(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["model"]);r!=null&&m(e,["model"],r);const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const o=p(t,["updateTime"]);o!=null&&m(e,["updateTime"],o);const c=p(t,["expireTime"]);c!=null&&m(e,["expireTime"],c);const u=p(t,["usageMetadata"]);return u!=null&&m(e,["usageMetadata"],u),e}function zL(){return{}}function qL(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>Cm(a))),m(e,["cachedContents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VL extends bu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jh(gu.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=DL(this.apiClient,e);return c=xt("cachedContents",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Cm(h))}else{const f=aL(this.apiClient,e);return c=xt("cachedContents",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>Sm(h))}}async get(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=RL(this.apiClient,e);return c=xt("{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Cm(h))}else{const f=sL(this.apiClient,e);return c=xt("{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>Sm(h))}}async delete(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=kL(this.apiClient,e);return c=xt("{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(()=>{const h=zL(),g=new Nb;return Object.assign(g,h),g})}else{const f=oL(this.apiClient,e);return c=xt("{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(()=>{const h=UL(),g=new Nb;return Object.assign(g,h),g})}}async update(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=FL(this.apiClient,e);return c=xt("{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Cm(h))}else{const f=cL(this.apiClient,e);return c=xt("{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>Sm(h))}}async listInternal(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=jL(e);return c=xt("cachedContents",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const g=qL(h),x=new Eb;return Object.assign(x,g),x})}else{const f=fL(e);return c=xt("cachedContents",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const g=BL(h),x=new Eb;return Object.assign(x,g),x})}}}function Ib(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bn(t){return this instanceof Bn?(this.v=t,this):new Bn(t)}function kf(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,a=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(b){return function(A){return Promise.resolve(A).then(b,g)}}function c(b,A){i[b]&&(r[b]=function(C){return new Promise(function(P,M){a.push([b,C,P,M])>1||u(b,C)})},A&&(r[b]=A(r[b])))}function u(b,A){try{f(i[b](A))}catch(C){x(a[0][3],C)}}function f(b){b.value instanceof Bn?Promise.resolve(b.value.v).then(h,g):x(a[0][2],b)}function h(b){u("next",b)}function g(b){u("throw",b)}function x(b,A){b(A),a.shift(),a.length&&u(a[0][0],a[0][1])}}function gh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ib=="function"?Ib(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(o){return new Promise(function(c,u){o=t[a](o),r(c,u,o.done,o.value)})}}function r(a,o,c,u){Promise.resolve(u).then(function(f){a({value:f,done:c})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HL(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:MS(n)}function MS(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function GL(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Fb(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const r=[];let a=!0;for(;i<n&&t[i].role==="model";)r.push(t[i]),a&&!MS(t[i])&&(a=!1),i++;a?e.push(...r):e.pop()}return e}class $L{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new WL(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class WL{constructor(e,n,i,r={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=r,this.history=a,this.sendPromise=Promise.resolve(),GL(a)}async sendMessage(e){var n;await this.sendPromise;const i=br(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,c;const u=await r,f=(o=(a=u.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,h=u.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let x=[];h!=null&&(x=(c=h.slice(g))!==null&&c!==void 0?c:[]);const b=f?[f]:[];this.recordHistory(i,b,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const i=br(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const a=await r;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?Fb(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,r;return kf(this,arguments,function*(){var o,c,u,f;const h=[];try{for(var g=!0,x=gh(e),b;b=yield Bn(x.next()),o=b.done,!o;g=!0){f=b.value,g=!1;const A=f;if(HL(A)){const C=(r=(i=A.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;C!==void 0&&h.push(C)}yield yield Bn(A)}}catch(A){c={error:A}}finally{try{!g&&!o&&(u=x.return)&&(yield Bn(u.call(x)))}finally{if(c)throw c.error}}this.recordHistory(n,h)})}recordHistory(e,n,i){let r=[];n.length>0&&n.every(a=>a.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Fb(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rg extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,rg.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YL(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);return e!==void 0&&r!=null&&m(e,["_query","pageToken"],r),n}function JL(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],YL(n,e)),e}function KL(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const i=p(t,["message"]);i!=null&&m(e,["message"],i);const r=p(t,["code"]);return r!=null&&m(e,["code"],r),e}function XL(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["mimeType"]);r!=null&&m(e,["mimeType"],r);const a=p(t,["sizeBytes"]);a!=null&&m(e,["sizeBytes"],a);const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const c=p(t,["expirationTime"]);c!=null&&m(e,["expirationTime"],c);const u=p(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const f=p(t,["sha256Hash"]);f!=null&&m(e,["sha256Hash"],f);const h=p(t,["uri"]);h!=null&&m(e,["uri"],h);const g=p(t,["downloadUri"]);g!=null&&m(e,["downloadUri"],g);const x=p(t,["state"]);x!=null&&m(e,["state"],x);const b=p(t,["source"]);b!=null&&m(e,["source"],b);const A=p(t,["videoMetadata"]);A!=null&&m(e,["videoMetadata"],A);const C=p(t,["error"]);return C!=null&&m(e,["error"],KL(C)),e}function QL(t){const e={},n=p(t,["file"]);n!=null&&m(e,["file"],XL(n));const i=p(t,["config"]);return i!=null&&m(e,["config"],i),e}function ZL(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","file"],bS(n));const i=p(t,["config"]);return i!=null&&m(e,["config"],i),e}function e7(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","file"],bS(n));const i=p(t,["config"]);return i!=null&&m(e,["config"],i),e}function t7(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const i=p(t,["message"]);i!=null&&m(e,["message"],i);const r=p(t,["code"]);return r!=null&&m(e,["code"],r),e}function N1(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["mimeType"]);r!=null&&m(e,["mimeType"],r);const a=p(t,["sizeBytes"]);a!=null&&m(e,["sizeBytes"],a);const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const c=p(t,["expirationTime"]);c!=null&&m(e,["expirationTime"],c);const u=p(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const f=p(t,["sha256Hash"]);f!=null&&m(e,["sha256Hash"],f);const h=p(t,["uri"]);h!=null&&m(e,["uri"],h);const g=p(t,["downloadUri"]);g!=null&&m(e,["downloadUri"],g);const x=p(t,["state"]);x!=null&&m(e,["state"],x);const b=p(t,["source"]);b!=null&&m(e,["source"],b);const A=p(t,["videoMetadata"]);A!=null&&m(e,["videoMetadata"],A);const C=p(t,["error"]);return C!=null&&m(e,["error"],t7(C)),e}function n7(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>N1(a))),m(e,["files"],r)}return e}function i7(){return{}}function r7(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a7 extends bu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new jh(gu.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>N1(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=JL(e);return a=xt("files",c._url),o=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>{const f=n7(u),h=new SM;return Object.assign(h,f),h})}}async createInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=QL(e);return a=xt("upload/v1beta/files",c._url),o=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(()=>{const u=i7(),f=new CM;return Object.assign(f,u),f})}}async get(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=ZL(e);return a=xt("files/{file}",c._url),o=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>N1(u))}}async delete(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=e7(e);return a=xt("files/{file}",c._url),o=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(()=>{const u=r7(),f=new AM;return Object.assign(f,u),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s7(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function o7(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function PS(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],s7(n)),e}function l7(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],o7(n)),e}function c7(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const i=p(t,["voiceConfig"]);return i!=null&&m(e,["voiceConfig"],PS(i)),e}function u7(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>c7(r))),m(e,["speakerVoiceConfigs"],i)}return e}function f7(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],PS(n));const i=p(t,["multiSpeakerVoiceConfig"]);i!=null&&m(e,["multiSpeakerVoiceConfig"],u7(i));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function d7(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],l7(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function h7(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function p7(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function m7(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function g7(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["data"]);i!=null&&m(e,["data"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function y7(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function v7(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function x7(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],h7(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],m7(r));const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],y7(a));const o=p(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const u=p(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function b7(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],p7(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],g7(r));const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],v7(a));const o=p(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const u=p(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function w7(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>x7(a))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function _7(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>b7(a))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function S7(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const a=p(t,["parameters"]);a!=null&&m(e,["parameters"],a);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const c=p(t,["response"]);c!=null&&m(e,["response"],c);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function C7(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const r=p(t,["parameters"]);r!=null&&m(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const o=p(t,["response"]);o!=null&&m(e,["response"],o);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function A7(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function T7(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function N7(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],A7(n)),e}function E7(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],T7(n)),e}function M7(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function P7(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function L7(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],M7(n)),e}function D7(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],P7(n)),e}function R7(){return{}}function k7(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function I7(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],k7(n));const i=p(t,["authType"]);i!=null&&m(e,["authType"],i);const r=p(t,["googleServiceAccountConfig"]);r!=null&&m(e,["googleServiceAccountConfig"],r);const a=p(t,["httpBasicAuthConfig"]);a!=null&&m(e,["httpBasicAuthConfig"],a);const o=p(t,["oauthConfig"]);o!=null&&m(e,["oauthConfig"],o);const c=p(t,["oidcConfig"]);return c!=null&&m(e,["oidcConfig"],c),e}function F7(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],I7(n)),e}function O7(){return{}}function j7(){return{}}function U7(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>S7(f))),m(e,["functionDeclarations"],u)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],N7(i));const r=p(t,["googleSearchRetrieval"]);if(r!=null&&m(e,["googleSearchRetrieval"],L7(r)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],O7());const o=p(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const c=p(t,["computerUse"]);return c!=null&&m(e,["computerUse"],c),e}function B7(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(x=>C7(x))),m(e,["functionDeclarations"],g)}const i=p(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],E7(r));const a=p(t,["googleSearchRetrieval"]);a!=null&&m(e,["googleSearchRetrieval"],D7(a)),p(t,["enterpriseWebSearch"])!=null&&m(e,["enterpriseWebSearch"],R7());const c=p(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],F7(c)),p(t,["urlContext"])!=null&&m(e,["urlContext"],j7());const f=p(t,["codeExecution"]);f!=null&&m(e,["codeExecution"],f);const h=p(t,["computerUse"]);return h!=null&&m(e,["computerUse"],h),e}function z7(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function q7(t){const e={},n=p(t,["handle"]);n!=null&&m(e,["handle"],n);const i=p(t,["transparent"]);return i!=null&&m(e,["transparent"],i),e}function Ob(){return{}}function jb(){return{}}function V7(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const i=p(t,["startOfSpeechSensitivity"]);i!=null&&m(e,["startOfSpeechSensitivity"],i);const r=p(t,["endOfSpeechSensitivity"]);r!=null&&m(e,["endOfSpeechSensitivity"],r);const a=p(t,["prefixPaddingMs"]);a!=null&&m(e,["prefixPaddingMs"],a);const o=p(t,["silenceDurationMs"]);return o!=null&&m(e,["silenceDurationMs"],o),e}function H7(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const i=p(t,["startOfSpeechSensitivity"]);i!=null&&m(e,["startOfSpeechSensitivity"],i);const r=p(t,["endOfSpeechSensitivity"]);r!=null&&m(e,["endOfSpeechSensitivity"],r);const a=p(t,["prefixPaddingMs"]);a!=null&&m(e,["prefixPaddingMs"],a);const o=p(t,["silenceDurationMs"]);return o!=null&&m(e,["silenceDurationMs"],o),e}function G7(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],V7(n));const i=p(t,["activityHandling"]);i!=null&&m(e,["activityHandling"],i);const r=p(t,["turnCoverage"]);return r!=null&&m(e,["turnCoverage"],r),e}function $7(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],H7(n));const i=p(t,["activityHandling"]);i!=null&&m(e,["activityHandling"],i);const r=p(t,["turnCoverage"]);return r!=null&&m(e,["turnCoverage"],r),e}function W7(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function Y7(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function J7(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const i=p(t,["slidingWindow"]);return i!=null&&m(e,["slidingWindow"],W7(i)),e}function K7(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const i=p(t,["slidingWindow"]);return i!=null&&m(e,["slidingWindow"],Y7(i)),e}function X7(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function Q7(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function Z7(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const o=p(t,["topP"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","topP"],o);const c=p(t,["topK"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topK"],c);const u=p(t,["maxOutputTokens"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","maxOutputTokens"],u);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","mediaResolution"],f);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const g=p(t,["speechConfig"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","speechConfig"],f7(Ny(g)));const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&m(e,["setup","systemInstruction"],w7(br(b)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let F=Gf(A);Array.isArray(F)&&(F=F.map(Y=>U7(Hf(Y)))),m(e,["setup","tools"],F)}const C=p(t,["sessionResumption"]);e!==void 0&&C!=null&&m(e,["setup","sessionResumption"],z7(C));const P=p(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&m(e,["setup","inputAudioTranscription"],Ob());const M=p(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&m(e,["setup","outputAudioTranscription"],Ob());const L=p(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&m(e,["setup","realtimeInputConfig"],G7(L));const N=p(t,["contextWindowCompression"]);e!==void 0&&N!=null&&m(e,["setup","contextWindowCompression"],J7(N));const R=p(t,["proactivity"]);return e!==void 0&&R!=null&&m(e,["setup","proactivity"],X7(R)),n}function eD(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const o=p(t,["topP"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","topP"],o);const c=p(t,["topK"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topK"],c);const u=p(t,["maxOutputTokens"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","maxOutputTokens"],u);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","mediaResolution"],f);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const g=p(t,["speechConfig"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","speechConfig"],d7(Ny(g)));const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&m(e,["setup","systemInstruction"],_7(br(b)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let F=Gf(A);Array.isArray(F)&&(F=F.map(Y=>B7(Hf(Y)))),m(e,["setup","tools"],F)}const C=p(t,["sessionResumption"]);e!==void 0&&C!=null&&m(e,["setup","sessionResumption"],q7(C));const P=p(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&m(e,["setup","inputAudioTranscription"],jb());const M=p(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&m(e,["setup","outputAudioTranscription"],jb());const L=p(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&m(e,["setup","realtimeInputConfig"],$7(L));const N=p(t,["contextWindowCompression"]);e!==void 0&&N!=null&&m(e,["setup","contextWindowCompression"],K7(N));const R=p(t,["proactivity"]);return e!==void 0&&R!=null&&m(e,["setup","proactivity"],Q7(R)),n}function tD(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["setup","model"],_n(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],Z7(r,n)),n}function nD(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["setup","model"],_n(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],eD(r,n)),n}function iD(){return{}}function rD(){return{}}function aD(){return{}}function sD(){return{}}function oD(t){const e={},n=p(t,["media"]);n!=null&&m(e,["mediaChunks"],pS(n));const i=p(t,["audio"]);i!=null&&m(e,["audio"],gS(i));const r=p(t,["audioStreamEnd"]);r!=null&&m(e,["audioStreamEnd"],r);const a=p(t,["video"]);a!=null&&m(e,["video"],mS(a));const o=p(t,["text"]);return o!=null&&m(e,["text"],o),p(t,["activityStart"])!=null&&m(e,["activityStart"],iD()),p(t,["activityEnd"])!=null&&m(e,["activityEnd"],aD()),e}function lD(t){const e={},n=p(t,["media"]);n!=null&&m(e,["mediaChunks"],pS(n));const i=p(t,["audio"]);i!=null&&m(e,["audio"],gS(i));const r=p(t,["audioStreamEnd"]);r!=null&&m(e,["audioStreamEnd"],r);const a=p(t,["video"]);a!=null&&m(e,["video"],mS(a));const o=p(t,["text"]);return o!=null&&m(e,["text"],o),p(t,["activityStart"])!=null&&m(e,["activityStart"],rD()),p(t,["activityEnd"])!=null&&m(e,["activityEnd"],sD()),e}function LS(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const i=p(t,["weight"]);return i!=null&&m(e,["weight"],i),e}function cD(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>LS(r))),m(e,["weightedPrompts"],i)}return e}function DS(t){const e={},n=p(t,["temperature"]);n!=null&&m(e,["temperature"],n);const i=p(t,["topK"]);i!=null&&m(e,["topK"],i);const r=p(t,["seed"]);r!=null&&m(e,["seed"],r);const a=p(t,["guidance"]);a!=null&&m(e,["guidance"],a);const o=p(t,["bpm"]);o!=null&&m(e,["bpm"],o);const c=p(t,["density"]);c!=null&&m(e,["density"],c);const u=p(t,["brightness"]);u!=null&&m(e,["brightness"],u);const f=p(t,["scale"]);f!=null&&m(e,["scale"],f);const h=p(t,["muteBass"]);h!=null&&m(e,["muteBass"],h);const g=p(t,["muteDrums"]);g!=null&&m(e,["muteDrums"],g);const x=p(t,["onlyBassAndDrums"]);return x!=null&&m(e,["onlyBassAndDrums"],x),e}function uD(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],DS(n)),e}function RS(t){const e={},n=p(t,["model"]);return n!=null&&m(e,["model"],n),e}function kS(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>LS(r))),m(e,["weightedPrompts"],i)}return e}function E1(t){const e={},n=p(t,["setup"]);n!=null&&m(e,["setup"],RS(n));const i=p(t,["clientContent"]);i!=null&&m(e,["clientContent"],kS(i));const r=p(t,["musicGenerationConfig"]);r!=null&&m(e,["musicGenerationConfig"],DS(r));const a=p(t,["playbackControl"]);return a!=null&&m(e,["playbackControl"],a),e}function fD(){return{}}function dD(t){const e={},n=p(t,["sessionId"]);return n!=null&&m(e,["sessionId"],n),e}function hD(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function pD(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function mD(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function gD(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["data"]);i!=null&&m(e,["data"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function yD(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function vD(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function xD(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],hD(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],mD(r));const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],yD(a));const o=p(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const u=p(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function bD(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],pD(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],gD(r));const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],vD(a));const o=p(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const u=p(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function wD(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>xD(a))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function _D(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>bD(a))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function Ub(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const i=p(t,["finished"]);return i!=null&&m(e,["finished"],i),e}function Bb(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const i=p(t,["finished"]);return i!=null&&m(e,["finished"],i),e}function SD(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const i=p(t,["urlRetrievalStatus"]);return i!=null&&m(e,["urlRetrievalStatus"],i),e}function CD(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>SD(r))),m(e,["urlMetadata"],i)}return e}function AD(t){const e={},n=p(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],wD(n));const i=p(t,["turnComplete"]);i!=null&&m(e,["turnComplete"],i);const r=p(t,["interrupted"]);r!=null&&m(e,["interrupted"],r);const a=p(t,["groundingMetadata"]);a!=null&&m(e,["groundingMetadata"],a);const o=p(t,["generationComplete"]);o!=null&&m(e,["generationComplete"],o);const c=p(t,["inputTranscription"]);c!=null&&m(e,["inputTranscription"],Ub(c));const u=p(t,["outputTranscription"]);u!=null&&m(e,["outputTranscription"],Ub(u));const f=p(t,["urlContextMetadata"]);return f!=null&&m(e,["urlContextMetadata"],CD(f)),e}function TD(t){const e={},n=p(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],_D(n));const i=p(t,["turnComplete"]);i!=null&&m(e,["turnComplete"],i);const r=p(t,["interrupted"]);r!=null&&m(e,["interrupted"],r);const a=p(t,["groundingMetadata"]);a!=null&&m(e,["groundingMetadata"],a);const o=p(t,["generationComplete"]);o!=null&&m(e,["generationComplete"],o);const c=p(t,["inputTranscription"]);c!=null&&m(e,["inputTranscription"],Bb(c));const u=p(t,["outputTranscription"]);return u!=null&&m(e,["outputTranscription"],Bb(u)),e}function ND(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const i=p(t,["args"]);i!=null&&m(e,["args"],i);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function ED(t){const e={},n=p(t,["args"]);n!=null&&m(e,["args"],n);const i=p(t,["name"]);return i!=null&&m(e,["name"],i),e}function MD(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>ND(r))),m(e,["functionCalls"],i)}return e}function PD(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>ED(r))),m(e,["functionCalls"],i)}return e}function LD(t){const e={},n=p(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function DD(t){const e={},n=p(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function cm(t){const e={},n=p(t,["modality"]);n!=null&&m(e,["modality"],n);const i=p(t,["tokenCount"]);return i!=null&&m(e,["tokenCount"],i),e}function um(t){const e={},n=p(t,["modality"]);n!=null&&m(e,["modality"],n);const i=p(t,["tokenCount"]);return i!=null&&m(e,["tokenCount"],i),e}function RD(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const i=p(t,["cachedContentTokenCount"]);i!=null&&m(e,["cachedContentTokenCount"],i);const r=p(t,["responseTokenCount"]);r!=null&&m(e,["responseTokenCount"],r);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&m(e,["toolUsePromptTokenCount"],a);const o=p(t,["thoughtsTokenCount"]);o!=null&&m(e,["thoughtsTokenCount"],o);const c=p(t,["totalTokenCount"]);c!=null&&m(e,["totalTokenCount"],c);const u=p(t,["promptTokensDetails"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(b=>cm(b))),m(e,["promptTokensDetails"],x)}const f=p(t,["cacheTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(b=>cm(b))),m(e,["cacheTokensDetails"],x)}const h=p(t,["responseTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(b=>cm(b))),m(e,["responseTokensDetails"],x)}const g=p(t,["toolUsePromptTokensDetails"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(b=>cm(b))),m(e,["toolUsePromptTokensDetails"],x)}return e}function kD(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const i=p(t,["cachedContentTokenCount"]);i!=null&&m(e,["cachedContentTokenCount"],i);const r=p(t,["candidatesTokenCount"]);r!=null&&m(e,["responseTokenCount"],r);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&m(e,["toolUsePromptTokenCount"],a);const o=p(t,["thoughtsTokenCount"]);o!=null&&m(e,["thoughtsTokenCount"],o);const c=p(t,["totalTokenCount"]);c!=null&&m(e,["totalTokenCount"],c);const u=p(t,["promptTokensDetails"]);if(u!=null){let b=u;Array.isArray(b)&&(b=b.map(A=>um(A))),m(e,["promptTokensDetails"],b)}const f=p(t,["cacheTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(A=>um(A))),m(e,["cacheTokensDetails"],b)}const h=p(t,["candidatesTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(A=>um(A))),m(e,["responseTokensDetails"],b)}const g=p(t,["toolUsePromptTokensDetails"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(A=>um(A))),m(e,["toolUsePromptTokensDetails"],b)}const x=p(t,["trafficType"]);return x!=null&&m(e,["trafficType"],x),e}function ID(t){const e={},n=p(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function FD(t){const e={},n=p(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function OD(t){const e={},n=p(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const i=p(t,["resumable"]);i!=null&&m(e,["resumable"],i);const r=p(t,["lastConsumedClientMessageIndex"]);return r!=null&&m(e,["lastConsumedClientMessageIndex"],r),e}function jD(t){const e={},n=p(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const i=p(t,["resumable"]);i!=null&&m(e,["resumable"],i);const r=p(t,["lastConsumedClientMessageIndex"]);return r!=null&&m(e,["lastConsumedClientMessageIndex"],r),e}function UD(t){const e={};p(t,["setupComplete"])!=null&&m(e,["setupComplete"],fD());const i=p(t,["serverContent"]);i!=null&&m(e,["serverContent"],AD(i));const r=p(t,["toolCall"]);r!=null&&m(e,["toolCall"],MD(r));const a=p(t,["toolCallCancellation"]);a!=null&&m(e,["toolCallCancellation"],LD(a));const o=p(t,["usageMetadata"]);o!=null&&m(e,["usageMetadata"],RD(o));const c=p(t,["goAway"]);c!=null&&m(e,["goAway"],ID(c));const u=p(t,["sessionResumptionUpdate"]);return u!=null&&m(e,["sessionResumptionUpdate"],OD(u)),e}function BD(t){const e={},n=p(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],dD(n));const i=p(t,["serverContent"]);i!=null&&m(e,["serverContent"],TD(i));const r=p(t,["toolCall"]);r!=null&&m(e,["toolCall"],PD(r));const a=p(t,["toolCallCancellation"]);a!=null&&m(e,["toolCallCancellation"],DD(a));const o=p(t,["usageMetadata"]);o!=null&&m(e,["usageMetadata"],kD(o));const c=p(t,["goAway"]);c!=null&&m(e,["goAway"],FD(c));const u=p(t,["sessionResumptionUpdate"]);return u!=null&&m(e,["sessionResumptionUpdate"],jD(u)),e}function zD(){return{}}function qD(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const i=p(t,["weight"]);return i!=null&&m(e,["weight"],i),e}function VD(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>qD(r))),m(e,["weightedPrompts"],i)}return e}function HD(t){const e={},n=p(t,["temperature"]);n!=null&&m(e,["temperature"],n);const i=p(t,["topK"]);i!=null&&m(e,["topK"],i);const r=p(t,["seed"]);r!=null&&m(e,["seed"],r);const a=p(t,["guidance"]);a!=null&&m(e,["guidance"],a);const o=p(t,["bpm"]);o!=null&&m(e,["bpm"],o);const c=p(t,["density"]);c!=null&&m(e,["density"],c);const u=p(t,["brightness"]);u!=null&&m(e,["brightness"],u);const f=p(t,["scale"]);f!=null&&m(e,["scale"],f);const h=p(t,["muteBass"]);h!=null&&m(e,["muteBass"],h);const g=p(t,["muteDrums"]);g!=null&&m(e,["muteDrums"],g);const x=p(t,["onlyBassAndDrums"]);return x!=null&&m(e,["onlyBassAndDrums"],x),e}function GD(t){const e={},n=p(t,["clientContent"]);n!=null&&m(e,["clientContent"],VD(n));const i=p(t,["musicGenerationConfig"]);return i!=null&&m(e,["musicGenerationConfig"],HD(i)),e}function $D(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const r=p(t,["sourceMetadata"]);return r!=null&&m(e,["sourceMetadata"],GD(r)),e}function WD(t){const e={},n=p(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>$D(r))),m(e,["audioChunks"],i)}return e}function YD(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const i=p(t,["filteredReason"]);return i!=null&&m(e,["filteredReason"],i),e}function JD(t){const e={};p(t,["setupComplete"])!=null&&m(e,["setupComplete"],zD());const i=p(t,["serverContent"]);i!=null&&m(e,["serverContent"],WD(i));const r=p(t,["filteredPrompt"]);return r!=null&&m(e,["filteredPrompt"],YD(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KD(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function XD(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function QD(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function ZD(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],KD(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],XD(r));const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],QD(a));const o=p(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const u=p(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function ag(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>ZD(a))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function eR(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const i=p(t,["default"]);i!=null&&m(e,["default"],i);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const a=p(t,["enum"]);a!=null&&m(e,["enum"],a);const o=p(t,["example"]);o!=null&&m(e,["example"],o);const c=p(t,["format"]);c!=null&&m(e,["format"],c);const u=p(t,["items"]);u!=null&&m(e,["items"],u);const f=p(t,["maxItems"]);f!=null&&m(e,["maxItems"],f);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const g=p(t,["maxProperties"]);g!=null&&m(e,["maxProperties"],g);const x=p(t,["maximum"]);x!=null&&m(e,["maximum"],x);const b=p(t,["minItems"]);b!=null&&m(e,["minItems"],b);const A=p(t,["minLength"]);A!=null&&m(e,["minLength"],A);const C=p(t,["minProperties"]);C!=null&&m(e,["minProperties"],C);const P=p(t,["minimum"]);P!=null&&m(e,["minimum"],P);const M=p(t,["nullable"]);M!=null&&m(e,["nullable"],M);const L=p(t,["pattern"]);L!=null&&m(e,["pattern"],L);const N=p(t,["properties"]);N!=null&&m(e,["properties"],N);const R=p(t,["propertyOrdering"]);R!=null&&m(e,["propertyOrdering"],R);const F=p(t,["required"]);F!=null&&m(e,["required"],F);const Y=p(t,["title"]);Y!=null&&m(e,["title"],Y);const B=p(t,["type"]);return B!=null&&m(e,["type"],B),e}function tR(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&m(e,["category"],n);const i=p(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function nR(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const a=p(t,["parameters"]);a!=null&&m(e,["parameters"],a);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const c=p(t,["response"]);c!=null&&m(e,["response"],c);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function iR(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function rR(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],iR(n)),e}function aR(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function sR(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],aR(n)),e}function oR(){return{}}function lR(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>nR(f))),m(e,["functionDeclarations"],u)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],rR(i));const r=p(t,["googleSearchRetrieval"]);if(r!=null&&m(e,["googleSearchRetrieval"],sR(r)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],oR());const o=p(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const c=p(t,["computerUse"]);return c!=null&&m(e,["computerUse"],c),e}function cR(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);return i!=null&&m(e,["allowedFunctionNames"],i),e}function uR(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const i=p(t,["longitude"]);return i!=null&&m(e,["longitude"],i),e}function fR(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],uR(n));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function dR(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],cR(n));const i=p(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],fR(i)),e}function hR(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function IS(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],hR(n)),e}function pR(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const i=p(t,["voiceConfig"]);return i!=null&&m(e,["voiceConfig"],IS(i)),e}function mR(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>pR(r))),m(e,["speakerVoiceConfigs"],i)}return e}function gR(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],IS(n));const i=p(t,["multiSpeakerVoiceConfig"]);i!=null&&m(e,["multiSpeakerVoiceConfig"],mR(i));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function yR(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const i=p(t,["thinkingBudget"]);return i!=null&&m(e,["thinkingBudget"],i),e}function vR(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&m(n,["systemInstruction"],ag(br(r)));const a=p(e,["temperature"]);a!=null&&m(i,["temperature"],a);const o=p(e,["topP"]);o!=null&&m(i,["topP"],o);const c=p(e,["topK"]);c!=null&&m(i,["topK"],c);const u=p(e,["candidateCount"]);u!=null&&m(i,["candidateCount"],u);const f=p(e,["maxOutputTokens"]);f!=null&&m(i,["maxOutputTokens"],f);const h=p(e,["stopSequences"]);h!=null&&m(i,["stopSequences"],h);const g=p(e,["responseLogprobs"]);g!=null&&m(i,["responseLogprobs"],g);const x=p(e,["logprobs"]);x!=null&&m(i,["logprobs"],x);const b=p(e,["presencePenalty"]);b!=null&&m(i,["presencePenalty"],b);const A=p(e,["frequencyPenalty"]);A!=null&&m(i,["frequencyPenalty"],A);const C=p(e,["seed"]);C!=null&&m(i,["seed"],C);const P=p(e,["responseMimeType"]);P!=null&&m(i,["responseMimeType"],P);const M=p(e,["responseSchema"]);M!=null&&m(i,["responseSchema"],eR(Ay(M)));const L=p(e,["responseJsonSchema"]);if(L!=null&&m(i,["responseJsonSchema"],L),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let O=N;Array.isArray(O)&&(O=O.map(j=>tR(j))),m(n,["safetySettings"],O)}const R=p(e,["tools"]);if(n!==void 0&&R!=null){let O=Gf(R);Array.isArray(O)&&(O=O.map(j=>lR(Hf(j)))),m(n,["tools"],O)}const F=p(e,["toolConfig"]);if(n!==void 0&&F!=null&&m(n,["toolConfig"],dR(F)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=p(e,["cachedContent"]);n!==void 0&&Y!=null&&m(n,["cachedContent"],Qo(t,Y));const B=p(e,["responseModalities"]);B!=null&&m(i,["responseModalities"],B);const V=p(e,["mediaResolution"]);V!=null&&m(i,["mediaResolution"],V);const X=p(e,["speechConfig"]);if(X!=null&&m(i,["speechConfig"],gR(Ty(X))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=p(e,["thinkingConfig"]);return K!=null&&m(i,["thinkingConfig"],yR(K)),i}function zb(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],_n(t,i));const r=p(e,["contents"]);if(r!=null){let o=Pa(r);Array.isArray(o)&&(o=o.map(c=>ag(c))),m(n,["contents"],o)}const a=p(e,["config"]);return a!=null&&m(n,["generationConfig"],vR(t,a,n)),n}function xR(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const r=p(t,["title"]);e!==void 0&&r!=null&&m(e,["requests[]","title"],r);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function bR(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],_n(t,i));const r=p(e,["contents"]);r!=null&&m(n,["requests[]","content"],vS(t,r));const a=p(e,["config"]);a!=null&&m(n,["config"],xR(a,n));const o=p(e,["model"]);return o!==void 0&&m(n,["requests[]","model"],_n(t,o)),n}function wR(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const r=p(t,["aspectRatio"]);e!==void 0&&r!=null&&m(e,["parameters","aspectRatio"],r);const a=p(t,["guidanceScale"]);if(e!==void 0&&a!=null&&m(e,["parameters","guidanceScale"],a),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&m(e,["parameters","safetySetting"],o);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const u=p(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&m(e,["parameters","includeSafetyAttributes"],u);const f=p(t,["includeRaiReason"]);e!==void 0&&f!=null&&m(e,["parameters","includeRaiReason"],f);const h=p(t,["language"]);e!==void 0&&h!=null&&m(e,["parameters","language"],h);const g=p(t,["outputMimeType"]);e!==void 0&&g!=null&&m(e,["parameters","outputOptions","mimeType"],g);const x=p(t,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&m(e,["parameters","outputOptions","compressionQuality"],x),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function _R(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],_n(t,i));const r=p(e,["prompt"]);r!=null&&m(n,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&m(n,["config"],wR(a,n)),n}function SR(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","name"],_n(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],r),n}function CR(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&m(n,["_query","pageSize"],r);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const o=p(e,["filter"]);n!==void 0&&o!=null&&m(n,["_query","filter"],o);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&m(n,["_url","models_url"],wS(t,c)),i}function AR(t,e){const n={},i=p(e,["config"]);return i!=null&&m(n,["config"],CR(t,i,n)),n}function TR(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const r=p(t,["description"]);e!==void 0&&r!=null&&m(e,["description"],r);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),n}function NR(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","name"],_n(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],TR(r,n)),n}function ER(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","name"],_n(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],r),n}function MR(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function PR(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],_n(t,i));const r=p(e,["contents"]);if(r!=null){let o=Pa(r);Array.isArray(o)&&(o=o.map(c=>ag(c))),m(n,["contents"],o)}const a=p(e,["config"]);return a!=null&&m(n,["config"],MR(a)),n}function LR(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Zo(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function DR(t,e){const n={},i=p(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=p(t,["durationSeconds"]);if(e!==void 0&&r!=null&&m(e,["parameters","durationSeconds"],r),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["aspectRatio"]);if(e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a),p(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const o=p(t,["personGeneration"]);if(e!==void 0&&o!=null&&m(e,["parameters","personGeneration"],o),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=p(t,["negativePrompt"]);e!==void 0&&c!=null&&m(e,["parameters","negativePrompt"],c);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&m(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(p(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function RR(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],_n(t,i));const r=p(e,["prompt"]);r!=null&&m(n,["instances[0]","prompt"],r);const a=p(e,["image"]);if(a!=null&&m(n,["instances[0]","image"],LR(a)),p(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const o=p(e,["config"]);return o!=null&&m(n,["config"],DR(o,n)),n}function kR(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function IR(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["data"]);i!=null&&m(e,["data"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function FR(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function OR(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],kR(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],IR(r));const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],FR(a));const o=p(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const u=p(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function Wf(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>OR(a))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function jR(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const i=p(t,["default"]);i!=null&&m(e,["default"],i);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const a=p(t,["enum"]);a!=null&&m(e,["enum"],a);const o=p(t,["example"]);o!=null&&m(e,["example"],o);const c=p(t,["format"]);c!=null&&m(e,["format"],c);const u=p(t,["items"]);u!=null&&m(e,["items"],u);const f=p(t,["maxItems"]);f!=null&&m(e,["maxItems"],f);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const g=p(t,["maxProperties"]);g!=null&&m(e,["maxProperties"],g);const x=p(t,["maximum"]);x!=null&&m(e,["maximum"],x);const b=p(t,["minItems"]);b!=null&&m(e,["minItems"],b);const A=p(t,["minLength"]);A!=null&&m(e,["minLength"],A);const C=p(t,["minProperties"]);C!=null&&m(e,["minProperties"],C);const P=p(t,["minimum"]);P!=null&&m(e,["minimum"],P);const M=p(t,["nullable"]);M!=null&&m(e,["nullable"],M);const L=p(t,["pattern"]);L!=null&&m(e,["pattern"],L);const N=p(t,["properties"]);N!=null&&m(e,["properties"],N);const R=p(t,["propertyOrdering"]);R!=null&&m(e,["propertyOrdering"],R);const F=p(t,["required"]);F!=null&&m(e,["required"],F);const Y=p(t,["title"]);Y!=null&&m(e,["title"],Y);const B=p(t,["type"]);return B!=null&&m(e,["type"],B),e}function UR(t){const e={},n=p(t,["featureSelectionPreference"]);return n!=null&&m(e,["featureSelectionPreference"],n),e}function BR(t){const e={},n=p(t,["method"]);n!=null&&m(e,["method"],n);const i=p(t,["category"]);i!=null&&m(e,["category"],i);const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function zR(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const r=p(t,["parameters"]);r!=null&&m(e,["parameters"],r);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const o=p(t,["response"]);o!=null&&m(e,["response"],o);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function qR(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function VR(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],qR(n)),e}function HR(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function GR(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],HR(n)),e}function $R(){return{}}function WR(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function YR(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],WR(n));const i=p(t,["authType"]);i!=null&&m(e,["authType"],i);const r=p(t,["googleServiceAccountConfig"]);r!=null&&m(e,["googleServiceAccountConfig"],r);const a=p(t,["httpBasicAuthConfig"]);a!=null&&m(e,["httpBasicAuthConfig"],a);const o=p(t,["oauthConfig"]);o!=null&&m(e,["oauthConfig"],o);const c=p(t,["oidcConfig"]);return c!=null&&m(e,["oidcConfig"],c),e}function JR(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],YR(n)),e}function KR(){return{}}function FS(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(x=>zR(x))),m(e,["functionDeclarations"],g)}const i=p(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],VR(r));const a=p(t,["googleSearchRetrieval"]);a!=null&&m(e,["googleSearchRetrieval"],GR(a)),p(t,["enterpriseWebSearch"])!=null&&m(e,["enterpriseWebSearch"],$R());const c=p(t,["googleMaps"]);c!=null&&m(e,["googleMaps"],JR(c)),p(t,["urlContext"])!=null&&m(e,["urlContext"],KR());const f=p(t,["codeExecution"]);f!=null&&m(e,["codeExecution"],f);const h=p(t,["computerUse"]);return h!=null&&m(e,["computerUse"],h),e}function XR(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["allowedFunctionNames"]);return i!=null&&m(e,["allowedFunctionNames"],i),e}function QR(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const i=p(t,["longitude"]);return i!=null&&m(e,["longitude"],i),e}function ZR(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],QR(n));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function ek(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],XR(n));const i=p(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],ZR(i)),e}function tk(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function nk(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],tk(n)),e}function ik(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],nk(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function rk(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const i=p(t,["thinkingBudget"]);return i!=null&&m(e,["thinkingBudget"],i),e}function ak(t,e,n){const i={},r=p(e,["systemInstruction"]);n!==void 0&&r!=null&&m(n,["systemInstruction"],Wf(br(r)));const a=p(e,["temperature"]);a!=null&&m(i,["temperature"],a);const o=p(e,["topP"]);o!=null&&m(i,["topP"],o);const c=p(e,["topK"]);c!=null&&m(i,["topK"],c);const u=p(e,["candidateCount"]);u!=null&&m(i,["candidateCount"],u);const f=p(e,["maxOutputTokens"]);f!=null&&m(i,["maxOutputTokens"],f);const h=p(e,["stopSequences"]);h!=null&&m(i,["stopSequences"],h);const g=p(e,["responseLogprobs"]);g!=null&&m(i,["responseLogprobs"],g);const x=p(e,["logprobs"]);x!=null&&m(i,["logprobs"],x);const b=p(e,["presencePenalty"]);b!=null&&m(i,["presencePenalty"],b);const A=p(e,["frequencyPenalty"]);A!=null&&m(i,["frequencyPenalty"],A);const C=p(e,["seed"]);C!=null&&m(i,["seed"],C);const P=p(e,["responseMimeType"]);P!=null&&m(i,["responseMimeType"],P);const M=p(e,["responseSchema"]);M!=null&&m(i,["responseSchema"],jR(Ay(M)));const L=p(e,["responseJsonSchema"]);L!=null&&m(i,["responseJsonSchema"],L);const N=p(e,["routingConfig"]);N!=null&&m(i,["routingConfig"],N);const R=p(e,["modelSelectionConfig"]);R!=null&&m(i,["modelConfig"],UR(R));const F=p(e,["safetySettings"]);if(n!==void 0&&F!=null){let me=F;Array.isArray(me)&&(me=me.map(z=>BR(z))),m(n,["safetySettings"],me)}const Y=p(e,["tools"]);if(n!==void 0&&Y!=null){let me=Gf(Y);Array.isArray(me)&&(me=me.map(z=>FS(Hf(z)))),m(n,["tools"],me)}const B=p(e,["toolConfig"]);n!==void 0&&B!=null&&m(n,["toolConfig"],ek(B));const V=p(e,["labels"]);n!==void 0&&V!=null&&m(n,["labels"],V);const X=p(e,["cachedContent"]);n!==void 0&&X!=null&&m(n,["cachedContent"],Qo(t,X));const K=p(e,["responseModalities"]);K!=null&&m(i,["responseModalities"],K);const O=p(e,["mediaResolution"]);O!=null&&m(i,["mediaResolution"],O);const j=p(e,["speechConfig"]);j!=null&&m(i,["speechConfig"],ik(Ty(j)));const Q=p(e,["audioTimestamp"]);Q!=null&&m(i,["audioTimestamp"],Q);const Z=p(e,["thinkingConfig"]);return Z!=null&&m(i,["thinkingConfig"],rk(Z)),i}function qb(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],_n(t,i));const r=p(e,["contents"]);if(r!=null){let o=Pa(r);Array.isArray(o)&&(o=o.map(c=>Wf(c))),m(n,["contents"],o)}const a=p(e,["config"]);return a!=null&&m(n,["generationConfig"],ak(t,a,n)),n}function sk(t,e){const n={},i=p(t,["taskType"]);e!==void 0&&i!=null&&m(e,["instances[]","task_type"],i);const r=p(t,["title"]);e!==void 0&&r!=null&&m(e,["instances[]","title"],r);const a=p(t,["outputDimensionality"]);e!==void 0&&a!=null&&m(e,["parameters","outputDimensionality"],a);const o=p(t,["mimeType"]);e!==void 0&&o!=null&&m(e,["instances[]","mimeType"],o);const c=p(t,["autoTruncate"]);return e!==void 0&&c!=null&&m(e,["parameters","autoTruncate"],c),n}function ok(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],_n(t,i));const r=p(e,["contents"]);r!=null&&m(n,["instances[]","content"],vS(t,r));const a=p(e,["config"]);return a!=null&&m(n,["config"],sk(a,n)),n}function lk(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const r=p(t,["negativePrompt"]);e!==void 0&&r!=null&&m(e,["parameters","negativePrompt"],r);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&m(e,["parameters","guidanceScale"],c);const u=p(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const f=p(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const g=p(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&m(e,["parameters","includeSafetyAttributes"],g);const x=p(t,["includeRaiReason"]);e!==void 0&&x!=null&&m(e,["parameters","includeRaiReason"],x);const b=p(t,["language"]);e!==void 0&&b!=null&&m(e,["parameters","language"],b);const A=p(t,["outputMimeType"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","mimeType"],A);const C=p(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&m(e,["parameters","outputOptions","compressionQuality"],C);const P=p(t,["addWatermark"]);e!==void 0&&P!=null&&m(e,["parameters","addWatermark"],P);const M=p(t,["enhancePrompt"]);return e!==void 0&&M!=null&&m(e,["parameters","enhancePrompt"],M),n}function ck(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],_n(t,i));const r=p(e,["prompt"]);r!=null&&m(n,["instances[0]","prompt"],r);const a=p(e,["config"]);return a!=null&&m(n,["config"],lk(a,n)),n}function sg(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=p(t,["imageBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Zo(i));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function uk(t){const e={},n=p(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const i=p(t,["segmentationClasses"]);i!=null&&m(e,["maskClasses"],i);const r=p(t,["maskDilation"]);return r!=null&&m(e,["dilation"],r),e}function fk(t){const e={},n=p(t,["controlType"]);n!=null&&m(e,["controlType"],n);const i=p(t,["enableControlImageComputation"]);return i!=null&&m(e,["computeControl"],i),e}function dk(t){const e={},n=p(t,["styleDescription"]);return n!=null&&m(e,["styleDescription"],n),e}function hk(t){const e={},n=p(t,["subjectType"]);n!=null&&m(e,["subjectType"],n);const i=p(t,["subjectDescription"]);return i!=null&&m(e,["subjectDescription"],i),e}function pk(t){const e={},n=p(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],sg(n));const i=p(t,["referenceId"]);i!=null&&m(e,["referenceId"],i);const r=p(t,["referenceType"]);r!=null&&m(e,["referenceType"],r);const a=p(t,["maskImageConfig"]);a!=null&&m(e,["maskImageConfig"],uk(a));const o=p(t,["controlImageConfig"]);o!=null&&m(e,["controlImageConfig"],fk(o));const c=p(t,["styleImageConfig"]);c!=null&&m(e,["styleImageConfig"],dk(c));const u=p(t,["subjectImageConfig"]);return u!=null&&m(e,["subjectImageConfig"],hk(u)),e}function mk(t,e){const n={},i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const r=p(t,["negativePrompt"]);e!==void 0&&r!=null&&m(e,["parameters","negativePrompt"],r);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&m(e,["parameters","guidanceScale"],c);const u=p(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const f=p(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const g=p(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&m(e,["parameters","includeSafetyAttributes"],g);const x=p(t,["includeRaiReason"]);e!==void 0&&x!=null&&m(e,["parameters","includeRaiReason"],x);const b=p(t,["language"]);e!==void 0&&b!=null&&m(e,["parameters","language"],b);const A=p(t,["outputMimeType"]);e!==void 0&&A!=null&&m(e,["parameters","outputOptions","mimeType"],A);const C=p(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&m(e,["parameters","outputOptions","compressionQuality"],C);const P=p(t,["editMode"]);e!==void 0&&P!=null&&m(e,["parameters","editMode"],P);const M=p(t,["baseSteps"]);return e!==void 0&&M!=null&&m(e,["parameters","editConfig","baseSteps"],M),n}function gk(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],_n(t,i));const r=p(e,["prompt"]);r!=null&&m(n,["instances[0]","prompt"],r);const a=p(e,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(u=>pk(u))),m(n,["instances[0]","referenceImages"],c)}const o=p(e,["config"]);return o!=null&&m(n,["config"],mk(o,n)),n}function yk(t,e){const n={},i=p(t,["includeRaiReason"]);e!==void 0&&i!=null&&m(e,["parameters","includeRaiReason"],i);const r=p(t,["outputMimeType"]);e!==void 0&&r!=null&&m(e,["parameters","outputOptions","mimeType"],r);const a=p(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&m(e,["parameters","outputOptions","compressionQuality"],a);const o=p(t,["enhanceInputImage"]);e!==void 0&&o!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],o);const c=p(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const u=p(t,["numberOfImages"]);e!==void 0&&u!=null&&m(e,["parameters","sampleCount"],u);const f=p(t,["mode"]);return e!==void 0&&f!=null&&m(e,["parameters","mode"],f),n}function vk(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],_n(t,i));const r=p(e,["image"]);r!=null&&m(n,["instances[0]","image"],sg(r));const a=p(e,["upscaleFactor"]);a!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=p(e,["config"]);return o!=null&&m(n,["config"],yk(o,n)),n}function xk(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","name"],_n(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],r),n}function bk(t,e,n){const i={},r=p(e,["pageSize"]);n!==void 0&&r!=null&&m(n,["_query","pageSize"],r);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const o=p(e,["filter"]);n!==void 0&&o!=null&&m(n,["_query","filter"],o);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&m(n,["_url","models_url"],wS(t,c)),i}function wk(t,e){const n={},i=p(e,["config"]);return i!=null&&m(n,["config"],bk(t,i,n)),n}function _k(t,e){const n={},i=p(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const r=p(t,["description"]);e!==void 0&&r!=null&&m(e,["description"],r);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),n}function Sk(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],_n(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],_k(r,n)),n}function Ck(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","name"],_n(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],r),n}function Ak(t,e){const n={},i=p(t,["systemInstruction"]);e!==void 0&&i!=null&&m(e,["systemInstruction"],Wf(br(i)));const r=p(t,["tools"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(c=>FS(c))),m(e,["tools"],o)}const a=p(t,["generationConfig"]);return e!==void 0&&a!=null&&m(e,["generationConfig"],a),n}function Tk(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],_n(t,i));const r=p(e,["contents"]);if(r!=null){let o=Pa(r);Array.isArray(o)&&(o=o.map(c=>Wf(c))),m(n,["contents"],o)}const a=p(e,["config"]);return a!=null&&m(n,["config"],Ak(a,n)),n}function Nk(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],_n(t,i));const r=p(e,["contents"]);if(r!=null){let o=Pa(r);Array.isArray(o)&&(o=o.map(c=>Wf(c))),m(n,["contents"],o)}const a=p(e,["config"]);return a!=null&&m(n,["config"],a),n}function Ek(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const i=p(t,["videoBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Zo(i));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Mk(t,e){const n={},i=p(t,["numberOfVideos"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const a=p(t,["fps"]);e!==void 0&&a!=null&&m(e,["parameters","fps"],a);const o=p(t,["durationSeconds"]);e!==void 0&&o!=null&&m(e,["parameters","durationSeconds"],o);const c=p(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const u=p(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=p(t,["resolution"]);e!==void 0&&f!=null&&m(e,["parameters","resolution"],f);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const g=p(t,["pubsubTopic"]);e!==void 0&&g!=null&&m(e,["parameters","pubsubTopic"],g);const x=p(t,["negativePrompt"]);e!==void 0&&x!=null&&m(e,["parameters","negativePrompt"],x);const b=p(t,["enhancePrompt"]);e!==void 0&&b!=null&&m(e,["parameters","enhancePrompt"],b);const A=p(t,["generateAudio"]);e!==void 0&&A!=null&&m(e,["parameters","generateAudio"],A);const C=p(t,["lastFrame"]);e!==void 0&&C!=null&&m(e,["instances[0]","lastFrame"],sg(C));const P=p(t,["compressionQuality"]);return e!==void 0&&P!=null&&m(e,["parameters","compressionQuality"],P),n}function Pk(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["_url","model"],_n(t,i));const r=p(e,["prompt"]);r!=null&&m(n,["instances[0]","prompt"],r);const a=p(e,["image"]);a!=null&&m(n,["instances[0]","image"],sg(a));const o=p(e,["video"]);o!=null&&m(n,["instances[0]","video"],Ek(o));const c=p(e,["config"]);return c!=null&&m(n,["config"],Mk(c,n)),n}function Lk(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function Dk(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Rk(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function kk(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Lk(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],Dk(r));const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],Rk(a));const o=p(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const u=p(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function Ik(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>kk(a))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function Fk(t){const e={},n=p(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function Ok(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const i=p(t,["urlRetrievalStatus"]);return i!=null&&m(e,["urlRetrievalStatus"],i),e}function jk(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Ok(r))),m(e,["urlMetadata"],i)}return e}function Uk(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],Ik(n));const i=p(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],Fk(i));const r=p(t,["tokenCount"]);r!=null&&m(e,["tokenCount"],r);const a=p(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const o=p(t,["urlContextMetadata"]);o!=null&&m(e,["urlContextMetadata"],jk(o));const c=p(t,["avgLogprobs"]);c!=null&&m(e,["avgLogprobs"],c);const u=p(t,["groundingMetadata"]);u!=null&&m(e,["groundingMetadata"],u);const f=p(t,["index"]);f!=null&&m(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const g=p(t,["safetyRatings"]);return g!=null&&m(e,["safetyRatings"],g),e}function Vb(t){const e={},n=p(t,["candidates"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(c=>Uk(c))),m(e,["candidates"],o)}const i=p(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const r=p(t,["promptFeedback"]);r!=null&&m(e,["promptFeedback"],r);const a=p(t,["usageMetadata"]);return a!=null&&m(e,["usageMetadata"],a),e}function Bk(t){const e={},n=p(t,["values"]);return n!=null&&m(e,["values"],n),e}function zk(){return{}}function qk(t){const e={},n=p(t,["embeddings"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>Bk(a))),m(e,["embeddings"],r)}return p(t,["metadata"])!=null&&m(e,["metadata"],zk()),e}function Vk(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Zo(n));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function OS(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const r=p(t,["contentType"]);return r!=null&&m(e,["contentType"],r),e}function Hk(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],Vk(n));const i=p(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const r=p(t,["_self"]);return r!=null&&m(e,["safetyAttributes"],OS(r)),e}function Gk(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>Hk(a))),m(e,["generatedImages"],r)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],OS(i)),e}function $k(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const r=p(t,["updateTime"]);return r!=null&&m(e,["updateTime"],r),e}function M1(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const a=p(t,["version"]);a!=null&&m(e,["version"],a);const o=p(t,["_self"]);o!=null&&m(e,["tunedModelInfo"],$k(o));const c=p(t,["inputTokenLimit"]);c!=null&&m(e,["inputTokenLimit"],c);const u=p(t,["outputTokenLimit"]);u!=null&&m(e,["outputTokenLimit"],u);const f=p(t,["supportedGenerationMethods"]);return f!=null&&m(e,["supportedActions"],f),e}function Wk(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["_self"]);if(i!=null){let r=_S(i);Array.isArray(r)&&(r=r.map(a=>M1(a))),m(e,["models"],r)}return e}function Yk(){return{}}function Jk(t){const e={},n=p(t,["totalTokens"]);n!=null&&m(e,["totalTokens"],n);const i=p(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function Kk(t){const e={},n=p(t,["video","uri"]);n!=null&&m(e,["uri"],n);const i=p(t,["video","encodedVideo"]);i!=null&&m(e,["videoBytes"],Zo(i));const r=p(t,["encoding"]);return r!=null&&m(e,["mimeType"],r),e}function Xk(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],Kk(n)),e}function Qk(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Xk(o))),m(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function Zk(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["metadata"]);i!=null&&m(e,["metadata"],i);const r=p(t,["done"]);r!=null&&m(e,["done"],r);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response","generateVideoResponse"]);return o!=null&&m(e,["response"],Qk(o)),e}function eI(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function tI(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["data"]);i!=null&&m(e,["data"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function nI(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const i=p(t,["fileUri"]);i!=null&&m(e,["fileUri"],i);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function iI(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],eI(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],tI(r));const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],nI(a));const o=p(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const u=p(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function rI(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>iI(a))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function aI(t){const e={},n=p(t,["citations"]);return n!=null&&m(e,["citations"],n),e}function sI(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const i=p(t,["urlRetrievalStatus"]);return i!=null&&m(e,["urlRetrievalStatus"],i),e}function oI(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>sI(r))),m(e,["urlMetadata"],i)}return e}function lI(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],rI(n));const i=p(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],aI(i));const r=p(t,["finishMessage"]);r!=null&&m(e,["finishMessage"],r);const a=p(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const o=p(t,["urlContextMetadata"]);o!=null&&m(e,["urlContextMetadata"],oI(o));const c=p(t,["avgLogprobs"]);c!=null&&m(e,["avgLogprobs"],c);const u=p(t,["groundingMetadata"]);u!=null&&m(e,["groundingMetadata"],u);const f=p(t,["index"]);f!=null&&m(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const g=p(t,["safetyRatings"]);return g!=null&&m(e,["safetyRatings"],g),e}function Hb(t){const e={},n=p(t,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>lI(f))),m(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const r=p(t,["responseId"]);r!=null&&m(e,["responseId"],r);const a=p(t,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const o=p(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const c=p(t,["usageMetadata"]);return c!=null&&m(e,["usageMetadata"],c),e}function cI(t){const e={},n=p(t,["truncated"]);n!=null&&m(e,["truncated"],n);const i=p(t,["token_count"]);return i!=null&&m(e,["tokenCount"],i),e}function uI(t){const e={},n=p(t,["values"]);n!=null&&m(e,["values"],n);const i=p(t,["statistics"]);return i!=null&&m(e,["statistics"],cI(i)),e}function fI(t){const e={},n=p(t,["billableCharacterCount"]);return n!=null&&m(e,["billableCharacterCount"],n),e}function dI(t){const e={},n=p(t,["predictions[]","embeddings"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>uI(a))),m(e,["embeddings"],r)}const i=p(t,["metadata"]);return i!=null&&m(e,["metadata"],fI(i)),e}function hI(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&m(e,["imageBytes"],Zo(i));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function jS(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=p(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const r=p(t,["contentType"]);return r!=null&&m(e,["contentType"],r),e}function Ey(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],hI(n));const i=p(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const r=p(t,["_self"]);r!=null&&m(e,["safetyAttributes"],jS(r));const a=p(t,["prompt"]);return a!=null&&m(e,["enhancedPrompt"],a),e}function pI(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>Ey(a))),m(e,["generatedImages"],r)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],jS(i)),e}function mI(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Ey(r))),m(e,["generatedImages"],i)}return e}function gI(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Ey(r))),m(e,["generatedImages"],i)}return e}function yI(t){const e={},n=p(t,["endpoint"]);n!=null&&m(e,["name"],n);const i=p(t,["deployedModelId"]);return i!=null&&m(e,["deployedModelId"],i),e}function vI(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const r=p(t,["updateTime"]);return r!=null&&m(e,["updateTime"],r),e}function xI(t){const e={},n=p(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const i=p(t,["epoch"]);i!=null&&m(e,["epoch"],i);const r=p(t,["step"]);return r!=null&&m(e,["step"],r),e}function P1(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["displayName"]);i!=null&&m(e,["displayName"],i);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const a=p(t,["versionId"]);a!=null&&m(e,["version"],a);const o=p(t,["deployedModels"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>yI(x))),m(e,["endpoints"],g)}const c=p(t,["labels"]);c!=null&&m(e,["labels"],c);const u=p(t,["_self"]);u!=null&&m(e,["tunedModelInfo"],vI(u));const f=p(t,["defaultCheckpointId"]);f!=null&&m(e,["defaultCheckpointId"],f);const h=p(t,["checkpoints"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(x=>xI(x))),m(e,["checkpoints"],g)}return e}function bI(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["_self"]);if(i!=null){let r=_S(i);Array.isArray(r)&&(r=r.map(a=>P1(a))),m(e,["models"],r)}return e}function wI(){return{}}function _I(t){const e={},n=p(t,["totalTokens"]);return n!=null&&m(e,["totalTokens"],n),e}function SI(t){const e={},n=p(t,["tokensInfo"]);return n!=null&&m(e,["tokensInfo"],n),e}function CI(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],Zo(i));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function AI(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],CI(n)),e}function TI(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>AI(o))),m(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function NI(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["metadata"]);i!=null&&m(e,["metadata"],i);const r=p(t,["done"]);r!=null&&m(e,["done"],r);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response"]);return o!=null&&m(e,["response"],TI(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EI="Content-Type",MI="X-Server-Timeout",PI="User-Agent",L1="x-goog-api-client",LI="1.9.0",DI=`google-genai-sdk/${LI}`,RI="v1beta1",kI="v1beta",Gb=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class II{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:RI,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:kI,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[o,c]of Object.entries(e.queryParams))r.searchParams.append(o,String(c));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(r,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[r,a]of Object.entries(n))typeof a=="object"?i[r]=Object.assign(Object.assign({},i[r]),a):a!==void 0&&(i[r]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(r,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const r=new AbortController,a=r.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>r.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=a}return n&&n.extraBody!==null&&FI(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await $b(r),new S1(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await $b(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return kf(this,arguments,function*(){const r=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let o="";for(;;){const{done:c,value:u}=yield Bn(r.read());if(c){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=a.decode(u,{stream:!0});try{const g=JSON.parse(f);if("error"in g){const x=JSON.parse(JSON.stringify(g.error)),b=x.status,A=x.code,C=`got status: ${b}. ${JSON.stringify(g)}`;if(A>=400&&A<600)throw new rg({message:C,status:A})}}catch(g){if(g.name==="ApiError")throw g}o+=f;let h=o.match(Gb);for(;h;){const g=h[1];try{const x=new Response(g,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Bn(new S1(x)),o=o.slice(h[0].length),h=o.match(Gb)}catch(x){throw new Error(`exception parsing stream chunk ${g}. ${x}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=DI+" "+this.clientOptions.userAgentExtra;return e[PI]=n,e[L1]=n,e[EI]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))n.append(i,r);e.timeout&&e.timeout>0&&n.append(MI,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);r.sizeBytes=String(o.size);const c=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=c;const u=await this.fetchUploadUrl(r,n);return a.upload(e,u,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let r={};n!=null&&n.httpOptions?r=n.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},o=await this.request({path:xt("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:r});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(i=o==null?void 0:o.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function $b(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new rg({message:r,status:n}):new Error(r)}}function FI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,o){const c=Object.assign({},a);for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u)){const f=o[u],h=c[u];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?c[u]=i(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),c[u]=f)}return c}const r=i(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OI="mcp_used/unknown";function US(t){for(const e of t)if(My(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function BS(t){var e;const n=(e=t[L1])!==null&&e!==void 0?e:"";t[L1]=(n+` ${OI}`).trimStart()}function jI(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>My(r)))!==null&&i!==void 0?i:!1}function UI(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>!My(r)))!==null&&i!==void 0?i:!1}function My(t){return t!==null&&typeof t=="object"&&t instanceof Py}function BI(t,e=100){return kf(this,arguments,function*(){let i,r=0;for(;r<e;){const a=yield Bn(t.listTools({cursor:i}));for(const o of a.tools)yield yield Bn(o),r++;if(!a.nextCursor)break;i=a.nextCursor}})}class Py{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Py(e,n)}async initialize(){var e,n,i,r;if(this.mcpTools.length>0)return;const a={},o=[];for(const h of this.mcpClients)try{for(var c=!0,u=(n=void 0,gh(BI(h))),f;f=await u.next(),e=f.done,!e;c=!0){r=f.value,c=!1;const g=r;o.push(g);const x=g.name;if(a[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);a[x]=h}}catch(g){n={error:g}}finally{try{!c&&!e&&(i=u.return)&&await i.call(u)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),IM(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await r.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function zI(t,e,n){const i=new NM;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data);const a=JD(r);Object.assign(i,a),e(i)}class qI{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=GI(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),u=`${r}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let f=()=>{};const h=new Promise(N=>{f=N}),g=e.callbacks,x=function(){f({})},b=this.apiClient,A={onopen:x,onmessage:N=>{zI(b,g.onmessage,N)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(N){},onclose:(i=g==null?void 0:g.onclose)!==null&&i!==void 0?i:function(N){}},C=this.webSocketFactory.create(u,HI(o),A);C.connect(),await h;const P=_n(this.apiClient,e.model),M=RS({model:P}),L=E1({setup:M});return C.send(JSON.stringify(L)),new VI(C,this.apiClient)}}class VI{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=cD(e),i=kS(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=uD(e),i=E1(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=E1({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ef.PLAY)}pause(){this.sendPlaybackControl(Ef.PAUSE)}stop(){this.sendPlaybackControl(Ef.STOP)}resetContext(){this.sendPlaybackControl(Ef.RESET_CONTEXT)}close(){this.conn.close()}}function HI(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function GI(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $I="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function WI(t,e,n){const i=new TM;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const a=JSON.parse(r);if(t.isVertexAI()){const o=BD(a);Object.assign(i,o)}else{const o=UD(a);Object.assign(i,o)}e(i)}class YI{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new qI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,r,a,o,c;const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const g=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&US(e.config.tools)&&BS(g);const x=QI(g);if(this.apiClient.isVertexAI())h=`${u}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x);else{const X=this.apiClient.getApiKey();let K="BidiGenerateContent",O="key";X!=null&&X.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",O="access_token"),h=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.${K}?${O}=${X}`}let b=()=>{};const A=new Promise(X=>{b=X}),C=e.callbacks,P=function(){var X;(X=C==null?void 0:C.onopen)===null||X===void 0||X.call(C),b({})},M=this.apiClient,L={onopen:P,onmessage:X=>{WI(M,C.onmessage,X)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(X){},onclose:(i=C==null?void 0:C.onclose)!==null&&i!==void 0?i:function(X){}},N=this.webSocketFactory.create(h,XI(x),L);N.connect(),await A;let R=_n(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const X=this.apiClient.getProject(),K=this.apiClient.getLocation();R=`projects/${X}/locations/${K}/`+R}let F={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Hm.AUDIO]}:e.config.responseModalities=[Hm.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Y=(c=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[],B=[];for(const X of Y)if(this.isCallableTool(X)){const K=X;B.push(await K.tool())}else B.push(X);B.length>0&&(e.config.tools=B);const V={model:R,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=nD(this.apiClient,V):F=tD(this.apiClient,V),delete F.config,N.send(JSON.stringify(F)),new KI(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const JI={turnComplete:!0};class KI{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Pa(n.turns),e.isVertexAI()?i=i.map(r=>Wf(r)):i=i.map(r=>ag(r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error($I)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},JI),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:lD(e)}:n={realtimeInput:oD(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function XI(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function QI(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wb=10;function Yb(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Am(o)){r=!0;break}if(!r)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Am(t){return"callTool"in t&&typeof t.callTool=="function"}function Jb(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZI extends bu{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,r,a,o,c;const u=await this.processParamsForMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!jI(n)||Yb(n.config))return await this.generateContentInternal(u);if(UI(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,h;const g=Pa(u.contents),x=(a=(r=(i=u.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:Wb;let b=0;for(;b<x&&(f=await this.generateContentInternal(u),!(!f.functionCalls||f.functionCalls.length===0));){const A=f.candidates[0].content,C=[];for(const P of(c=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[])if(Am(P)){const L=await P.callTool(f.functionCalls);C.push(...L)}b++,h={role:"user",parts:C},u.contents=Pa(u.contents),u.contents.push(A),u.contents.push(h),Jb(u.config)&&(g.push(A),g.push(h))}return Jb(u.config)&&(f.automaticFunctionCallingHistory=g),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Yb(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let a;const o=[];if(i!=null&&i.generatedImages)for(const u of i.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((r=u==null?void 0:u.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?a=u==null?void 0:u.safetyAttributes:o.push(u);let c;return a?c={generatedImages:o,positivePromptSafetyAttributes:a}:c={generatedImages:o},c}),this.list=async n=>{var i;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((i=o.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new jh(gu.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(o),o)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsForMcpUsage(e){var n,i,r;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async u=>Am(u)?await u.tool():u)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(c.config.tools=o,e.config&&e.config.tools&&US(e.config.tools)){const u=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let f=Object.assign({},u);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),BS(f),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return c}async initAfcToolsMap(e){var n,i,r;const a=new Map;for(const o of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Am(o)){const c=o,u=await c.tool();for(const f of(r=u.functionDeclarations)!==null&&r!==void 0?r:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,c)}}return a}async processAfcStream(e){var n,i,r;const a=(r=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:Wb;let o=!1,c=0;const u=await this.initAfcToolsMap(e);return function(f,h,g){var x,b;return kf(this,arguments,function*(){for(var A,C,P,M;c<a;){o&&(c++,o=!1);const F=yield Bn(f.processParamsForMcpUsage(g)),Y=yield Bn(f.generateContentStreamInternal(F)),B=[],V=[];try{for(var L=!0,N=(C=void 0,gh(Y)),R;R=yield Bn(N.next()),A=R.done,!A;L=!0){M=R.value,L=!1;const X=M;if(yield yield Bn(X),X.candidates&&(!((x=X.candidates[0])===null||x===void 0)&&x.content)){V.push(X.candidates[0].content);for(const K of(b=X.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(c<a&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(K.functionCall.name)){const O=yield Bn(h.get(K.functionCall.name).callTool([K.functionCall]));B.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(X){C={error:X}}finally{try{!L&&!A&&(P=N.return)&&(yield Bn(P.call(N)))}finally{if(C)throw C.error}}if(B.length>0){o=!0;const X=new Xd;X.candidates=[{content:{role:"user",parts:B}}],yield yield Bn(X);const K=[];K.push(...V),K.push({role:"user",parts:B});const O=Pa(g.contents).concat(K);g.contents=O}else break}})}(this,u,e)}async generateContentInternal(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=qb(this.apiClient,e);return c=xt("{model}:generateContent",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const g=Hb(h),x=new Xd;return Object.assign(x,g),x})}else{const f=zb(this.apiClient,e);return c=xt("{model}:generateContent",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const g=Vb(h),x=new Xd;return Object.assign(x,g),x})}}async generateContentStreamInternal(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=qb(this.apiClient,e);return c=xt("{model}:streamGenerateContent?alt=sse",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.requestStream({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(g){return kf(this,arguments,function*(){var x,b,A,C;try{for(var P=!0,M=gh(g),L;L=yield Bn(M.next()),x=L.done,!x;P=!0){C=L.value,P=!1;const R=Hb(yield Bn(C.json())),F=new Xd;Object.assign(F,R),yield yield Bn(F)}}catch(N){b={error:N}}finally{try{!P&&!x&&(A=M.return)&&(yield Bn(A.call(M)))}finally{if(b)throw b.error}}})})}else{const f=zb(this.apiClient,e);return c=xt("{model}:streamGenerateContent?alt=sse",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.requestStream({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(g){return kf(this,arguments,function*(){var x,b,A,C;try{for(var P=!0,M=gh(g),L;L=yield Bn(M.next()),x=L.done,!x;P=!0){C=L.value,P=!1;const R=Vb(yield Bn(C.json())),F=new Xd;Object.assign(F,R),yield yield Bn(F)}}catch(N){b={error:N}}finally{try{!P&&!x&&(A=M.return)&&(yield Bn(A.call(M)))}finally{if(b)throw b.error}}})})}}async embedContent(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=ok(this.apiClient,e);return c=xt("{model}:predict",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const g=dI(h),x=new wb;return Object.assign(x,g),x})}else{const f=bR(this.apiClient,e);return c=xt("{model}:batchEmbedContents",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const g=qk(h),x=new wb;return Object.assign(x,g),x})}}async generateImagesInternal(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=ck(this.apiClient,e);return c=xt("{model}:predict",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const g=pI(h),x=new _b;return Object.assign(x,g),x})}else{const f=_R(this.apiClient,e);return c=xt("{model}:predict",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const g=Gk(h),x=new _b;return Object.assign(x,g),x})}}async editImageInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const c=gk(this.apiClient,e);return a=xt("{model}:predict",c._url),o=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>{const f=mI(u),h=new bM;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const c=vk(this.apiClient,e);return a=xt("{model}:predict",c._url),o=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>{const f=gI(u),h=new wM;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=xk(this.apiClient,e);return c=xt("{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>P1(h))}else{const f=SR(this.apiClient,e);return c=xt("{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>M1(h))}}async listInternal(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=wk(this.apiClient,e);return c=xt("{models_url}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const g=bI(h),x=new Sb;return Object.assign(x,g),x})}else{const f=AR(this.apiClient,e);return c=xt("{models_url}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const g=Wk(h),x=new Sb;return Object.assign(x,g),x})}}async update(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=Sk(this.apiClient,e);return c=xt("{model}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>P1(h))}else{const f=NR(this.apiClient,e);return c=xt("{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>M1(h))}}async delete(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=Ck(this.apiClient,e);return c=xt("{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(()=>{const h=wI(),g=new Cb;return Object.assign(g,h),g})}else{const f=ER(this.apiClient,e);return c=xt("{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(()=>{const h=Yk(),g=new Cb;return Object.assign(g,h),g})}}async countTokens(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=Tk(this.apiClient,e);return c=xt("{model}:countTokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const g=_I(h),x=new Ab;return Object.assign(x,g),x})}else{const f=PR(this.apiClient,e);return c=xt("{model}:countTokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const g=Jk(h),x=new Ab;return Object.assign(x,g),x})}}async computeTokens(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const c=Nk(this.apiClient,e);return a=xt("{model}:computeTokens",c._url),o=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>{const f=SI(u),h=new _M;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=Pk(this.apiClient,e);return c=xt("{model}:predictLongRunning",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>NI(h))}else{const f=RR(this.apiClient,e);return c=xt("{model}:predictLongRunning",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>Zk(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e9(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const i=p(t,["config"]);return i!=null&&m(e,["config"],i),e}function t9(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const i=p(t,["config"]);return i!=null&&m(e,["config"],i),e}function n9(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["operationName"],n);const i=p(t,["resourceName"]);i!=null&&m(e,["_url","resourceName"],i);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function i9(t){const e={},n=p(t,["video","uri"]);n!=null&&m(e,["uri"],n);const i=p(t,["video","encodedVideo"]);i!=null&&m(e,["videoBytes"],Zo(i));const r=p(t,["encoding"]);return r!=null&&m(e,["mimeType"],r),e}function r9(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],i9(n)),e}function a9(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>r9(o))),m(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function s9(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["metadata"]);i!=null&&m(e,["metadata"],i);const r=p(t,["done"]);r!=null&&m(e,["done"],r);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response","generateVideoResponse"]);return o!=null&&m(e,["response"],a9(o)),e}function o9(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=p(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],Zo(i));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function l9(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],o9(n)),e}function c9(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>l9(o))),m(e,["generatedVideos"],a)}const i=p(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const r=p(t,["raiMediaFilteredReasons"]);return r!=null&&m(e,["raiMediaFilteredReasons"],r),e}function Kb(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["metadata"]);i!=null&&m(e,["metadata"],i);const r=p(t,["done"]);r!=null&&m(e,["done"],r);const a=p(t,["error"]);a!=null&&m(e,["error"],a);const o=p(t,["response"]);return o!=null&&m(e,["response"],c9(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class u9 extends bu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let a;return i&&"httpOptions"in i&&(a=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=t9(e);return c=xt("{operationName}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>Kb(h))}else{const f=e9(e);return c=xt("{operationName}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>s9(h))}}async fetchPredictVideosOperationInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const c=n9(e);return a=xt("{resourceName}:fetchPredictOperation",c._url),o=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>Kb(u))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f9(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function zS(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],f9(n)),e}function d9(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const i=p(t,["voiceConfig"]);return i!=null&&m(e,["voiceConfig"],zS(i)),e}function h9(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>d9(r))),m(e,["speakerVoiceConfigs"],i)}return e}function p9(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],zS(n));const i=p(t,["multiSpeakerVoiceConfig"]);i!=null&&m(e,["multiSpeakerVoiceConfig"],h9(i));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function m9(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const i=p(t,["endOffset"]);i!=null&&m(e,["endOffset"],i);const r=p(t,["startOffset"]);return r!=null&&m(e,["startOffset"],r),e}function g9(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function y9(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function v9(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],m9(n));const i=p(t,["thought"]);i!=null&&m(e,["thought"],i);const r=p(t,["inlineData"]);r!=null&&m(e,["inlineData"],g9(r));const a=p(t,["fileData"]);a!=null&&m(e,["fileData"],y9(a));const o=p(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const c=p(t,["codeExecutionResult"]);c!=null&&m(e,["codeExecutionResult"],c);const u=p(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const f=p(t,["functionCall"]);f!=null&&m(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const g=p(t,["text"]);return g!=null&&m(e,["text"],g),e}function x9(t){const e={},n=p(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>v9(a))),m(e,["parts"],r)}const i=p(t,["role"]);return i!=null&&m(e,["role"],i),e}function b9(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const a=p(t,["parameters"]);a!=null&&m(e,["parameters"],a);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const c=p(t,["response"]);c!=null&&m(e,["response"],c);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function w9(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const i=p(t,["endTime"]);return i!=null&&m(e,["endTime"],i),e}function _9(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],w9(n)),e}function S9(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const i=p(t,["dynamicThreshold"]);return i!=null&&m(e,["dynamicThreshold"],i),e}function C9(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],S9(n)),e}function A9(){return{}}function T9(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>b9(f))),m(e,["functionDeclarations"],u)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],_9(i));const r=p(t,["googleSearchRetrieval"]);if(r!=null&&m(e,["googleSearchRetrieval"],C9(r)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],A9());const o=p(t,["codeExecution"]);o!=null&&m(e,["codeExecution"],o);const c=p(t,["computerUse"]);return c!=null&&m(e,["computerUse"],c),e}function N9(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Xb(){return{}}function E9(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const i=p(t,["startOfSpeechSensitivity"]);i!=null&&m(e,["startOfSpeechSensitivity"],i);const r=p(t,["endOfSpeechSensitivity"]);r!=null&&m(e,["endOfSpeechSensitivity"],r);const a=p(t,["prefixPaddingMs"]);a!=null&&m(e,["prefixPaddingMs"],a);const o=p(t,["silenceDurationMs"]);return o!=null&&m(e,["silenceDurationMs"],o),e}function M9(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],E9(n));const i=p(t,["activityHandling"]);i!=null&&m(e,["activityHandling"],i);const r=p(t,["turnCoverage"]);return r!=null&&m(e,["turnCoverage"],r),e}function P9(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function L9(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const i=p(t,["slidingWindow"]);return i!=null&&m(e,["slidingWindow"],P9(i)),e}function D9(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function R9(t,e){const n={},i=p(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const r=p(t,["responseModalities"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig","responseModalities"],r);const a=p(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const o=p(t,["topP"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","topP"],o);const c=p(t,["topK"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","topK"],c);const u=p(t,["maxOutputTokens"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","maxOutputTokens"],u);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","mediaResolution"],f);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const g=p(t,["speechConfig"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","speechConfig"],p9(Ny(g)));const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],x);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&m(e,["setup","systemInstruction"],x9(br(b)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let F=Gf(A);Array.isArray(F)&&(F=F.map(Y=>T9(Hf(Y)))),m(e,["setup","tools"],F)}const C=p(t,["sessionResumption"]);e!==void 0&&C!=null&&m(e,["setup","sessionResumption"],N9(C));const P=p(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&m(e,["setup","inputAudioTranscription"],Xb());const M=p(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&m(e,["setup","outputAudioTranscription"],Xb());const L=p(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&m(e,["setup","realtimeInputConfig"],M9(L));const N=p(t,["contextWindowCompression"]);e!==void 0&&N!=null&&m(e,["setup","contextWindowCompression"],L9(N));const R=p(t,["proactivity"]);return e!==void 0&&R!=null&&m(e,["setup","proactivity"],D9(R)),n}function k9(t,e){const n={},i=p(e,["model"]);i!=null&&m(n,["setup","model"],_n(t,i));const r=p(e,["config"]);return r!=null&&m(n,["config"],R9(r,n)),n}function I9(t,e,n){const i={},r=p(e,["expireTime"]);n!==void 0&&r!=null&&m(n,["expireTime"],r);const a=p(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&m(n,["newSessionExpireTime"],a);const o=p(e,["uses"]);n!==void 0&&o!=null&&m(n,["uses"],o);const c=p(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&m(n,["bidiGenerateContentSetup"],k9(t,c));const u=p(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&m(n,["fieldMask"],u),i}function F9(t,e){const n={},i=p(e,["config"]);return i!=null&&m(n,["config"],I9(t,i,n)),n}function O9(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j9(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(a=>`${n}.${a}`);e.push(...r)}else e.push(n)}return e.join(",")}function U9(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const a=j9(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];r.length>0&&(c=r.map(f=>o.includes(f)?`generationConfig.${f}`:f));const u=[];a&&u.push(a),c.length>0&&u.push(...c),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class B9 extends bu{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=F9(this.apiClient,e);a=xt("auth_tokens",c._url),o=c._query,delete c.config,delete c._url,delete c._query;const u=U9(c,e.config);return r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),r.then(f=>O9(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z9(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const i=p(t,["config"]);return i!=null&&m(e,["config"],i),e}function q9(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);e!==void 0&&r!=null&&m(e,["_query","pageToken"],r);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),n}function V9(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],q9(n,e)),e}function H9(t){const e={},n=p(t,["textInput"]);n!=null&&m(e,["textInput"],n);const i=p(t,["output"]);return i!=null&&m(e,["output"],i),e}function G9(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=p(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>H9(r))),m(e,["examples","examples"],i)}return e}function $9(t,e){const n={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=p(t,["epochCount"]);e!==void 0&&r!=null&&m(e,["tuningTask","hyperparameters","epochCount"],r);const a=p(t,["learningRateMultiplier"]);if(a!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=p(t,["batchSize"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","batchSize"],o);const c=p(t,["learningRate"]);return e!==void 0&&c!=null&&m(e,["tuningTask","hyperparameters","learningRate"],c),n}function W9(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const i=p(t,["trainingDataset"]);i!=null&&m(e,["tuningTask","trainingData"],G9(i));const r=p(t,["config"]);return r!=null&&m(e,["config"],$9(r,e)),e}function Y9(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const i=p(t,["config"]);return i!=null&&m(e,["config"],i),e}function J9(t,e){const n={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const r=p(t,["pageToken"]);e!==void 0&&r!=null&&m(e,["_query","pageToken"],r);const a=p(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),n}function K9(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],J9(n,e)),e}function X9(t,e){const n={},i=p(t,["gcsUri"]);e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i);const r=p(t,["vertexDatasetResource"]);if(e!==void 0&&r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],r),p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Q9(t,e){const n={},i=p(t,["gcsUri"]);i!=null&&m(n,["validationDatasetUri"],i);const r=p(t,["vertexDatasetResource"]);return e!==void 0&&r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],r),n}function Z9(t,e){const n={},i=p(t,["validationDataset"]);e!==void 0&&i!=null&&m(e,["supervisedTuningSpec"],Q9(i,n));const r=p(t,["tunedModelDisplayName"]);e!==void 0&&r!=null&&m(e,["tunedModelDisplayName"],r);const a=p(t,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);const o=p(t,["epochCount"]);e!==void 0&&o!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],o);const c=p(t,["learningRateMultiplier"]);e!==void 0&&c!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const u=p(t,["exportLastCheckpointOnly"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],u);const f=p(t,["adapterSize"]);if(e!==void 0&&f!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function eF(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const i=p(t,["trainingDataset"]);i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],X9(i,e));const r=p(t,["config"]);return r!=null&&m(e,["config"],Z9(r,e)),e}function tF(t){const e={},n=p(t,["name"]);n!=null&&m(e,["model"],n);const i=p(t,["name"]);return i!=null&&m(e,["endpoint"],i),e}function qS(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["state"]);i!=null&&m(e,["state"],xS(i));const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const a=p(t,["tuningTask","startTime"]);a!=null&&m(e,["startTime"],a);const o=p(t,["tuningTask","completeTime"]);o!=null&&m(e,["endTime"],o);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const u=p(t,["description"]);u!=null&&m(e,["description"],u);const f=p(t,["baseModel"]);f!=null&&m(e,["baseModel"],f);const h=p(t,["_self"]);h!=null&&m(e,["tunedModel"],tF(h));const g=p(t,["distillationSpec"]);g!=null&&m(e,["distillationSpec"],g);const x=p(t,["experiment"]);x!=null&&m(e,["experiment"],x);const b=p(t,["labels"]);b!=null&&m(e,["labels"],b);const A=p(t,["pipelineJob"]);A!=null&&m(e,["pipelineJob"],A);const C=p(t,["satisfiesPzi"]);C!=null&&m(e,["satisfiesPzi"],C);const P=p(t,["satisfiesPzs"]);P!=null&&m(e,["satisfiesPzs"],P);const M=p(t,["serviceAccount"]);M!=null&&m(e,["serviceAccount"],M);const L=p(t,["tunedModelDisplayName"]);return L!=null&&m(e,["tunedModelDisplayName"],L),e}function nF(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["tunedModels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>qS(a))),m(e,["tuningJobs"],r)}return e}function iF(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["metadata"]);i!=null&&m(e,["metadata"],i);const r=p(t,["done"]);r!=null&&m(e,["done"],r);const a=p(t,["error"]);return a!=null&&m(e,["error"],a),e}function rF(t){const e={},n=p(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const i=p(t,["epoch"]);i!=null&&m(e,["epoch"],i);const r=p(t,["step"]);r!=null&&m(e,["step"],r);const a=p(t,["endpoint"]);return a!=null&&m(e,["endpoint"],a),e}function aF(t){const e={},n=p(t,["model"]);n!=null&&m(e,["model"],n);const i=p(t,["endpoint"]);i!=null&&m(e,["endpoint"],i);const r=p(t,["checkpoints"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>rF(o))),m(e,["checkpoints"],a)}return e}function D1(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const i=p(t,["state"]);i!=null&&m(e,["state"],xS(i));const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const a=p(t,["startTime"]);a!=null&&m(e,["startTime"],a);const o=p(t,["endTime"]);o!=null&&m(e,["endTime"],o);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const u=p(t,["error"]);u!=null&&m(e,["error"],u);const f=p(t,["description"]);f!=null&&m(e,["description"],f);const h=p(t,["baseModel"]);h!=null&&m(e,["baseModel"],h);const g=p(t,["tunedModel"]);g!=null&&m(e,["tunedModel"],aF(g));const x=p(t,["supervisedTuningSpec"]);x!=null&&m(e,["supervisedTuningSpec"],x);const b=p(t,["tuningDataStats"]);b!=null&&m(e,["tuningDataStats"],b);const A=p(t,["encryptionSpec"]);A!=null&&m(e,["encryptionSpec"],A);const C=p(t,["partnerModelTuningSpec"]);C!=null&&m(e,["partnerModelTuningSpec"],C);const P=p(t,["distillationSpec"]);P!=null&&m(e,["distillationSpec"],P);const M=p(t,["experiment"]);M!=null&&m(e,["experiment"],M);const L=p(t,["labels"]);L!=null&&m(e,["labels"],L);const N=p(t,["pipelineJob"]);N!=null&&m(e,["pipelineJob"],N);const R=p(t,["satisfiesPzi"]);R!=null&&m(e,["satisfiesPzi"],R);const F=p(t,["satisfiesPzs"]);F!=null&&m(e,["satisfiesPzs"],F);const Y=p(t,["serviceAccount"]);Y!=null&&m(e,["serviceAccount"],Y);const B=p(t,["tunedModelDisplayName"]);return B!=null&&m(e,["tunedModelDisplayName"],B),e}function sF(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const i=p(t,["tuningJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(a=>D1(a))),m(e,["tuningJobs"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oF extends bu{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new jh(gu.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let r="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?r=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(r=i.name.split("/operations/")[0]),{name:r,state:_1.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=Y9(e);return c=xt("{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>D1(h))}else{const f=z9(e);return c=xt("{name}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>qS(h))}}async listInternal(e){var n,i,r,a;let o,c="",u={};if(this.apiClient.isVertexAI()){const f=K9(e);return c=xt("tuningJobs",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const g=sF(h),x=new Tb;return Object.assign(x,g),x})}else{const f=V9(e);return c=xt("tunedModels",f._url),u=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const g=nF(h),x=new Tb;return Object.assign(x,g),x})}}async tuneInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI()){const c=eF(e);return a=xt("tuningJobs",c._url),o=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>D1(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let r,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=W9(e);return a=xt("tunedModels",c._url),o=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>iF(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lF{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const cF=1024*1024*8,uF=3,fF=1e3,dF=2,z0="x-goog-upload-status";async function hF(t,e,n){var i,r,a;let o=0,c=0,u=new S1(new Response),f="upload";for(o=t.size;c<o;){const g=Math.min(cF,o-c),x=t.slice(c,c+g);c+g>=o&&(f+=", finalize");let b=0,A=fF;for(;b<uF&&(u=await n.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(c),"Content-Length":String(g)}}}),!(!((i=u==null?void 0:u.headers)===null||i===void 0)&&i[z0]));)b++,await mF(A),A=A*dF;if(c+=g,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[z0])!=="active")break;if(o<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(u==null?void 0:u.json());if(((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a[z0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function pF(t){return{size:t.size,type:t.type}}function mF(t){return new Promise(e=>setTimeout(e,t))}class gF{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hF(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await pF(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yF{create(e,n,i){return new vF(e,n,i)}}class vF{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qb="x-goog-api-key";class xF{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Qb)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Qb,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bF="gl-node/";class wF{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=xM(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new xF(this.apiKey);this.apiClient=new II({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:bF+"web",uploader:new gF,downloader:new lF}),this.models=new ZI(this.apiClient),this.live=new YI(this.apiClient,r,new yF),this.batches=new qP(this.apiClient),this.chats=new $L(this.models,this.apiClient),this.caches=new VL(this.apiClient),this.files=new a7(this.apiClient),this.operations=new u9(this.apiClient),this.authTokens=new B9(this.apiClient),this.tunings=new oF(this.apiClient)}}const _F="AIzaSyBh77bonYdJP2xX2Y_oNSTNrA9rPOfx668",Zb=new wF({apiKey:_F}),SF=async(t,e)=>{if(!Zb)return Promise.resolve("AI service is not available. Please configure the API key.");const n=`Gere uma sugestão de descrição curta e atraente para um produto de comunicação visual/gráfica.
Nome do Produto: ${t}
Tipo de Produto: ${e}
A descrição deve ser em português do Brasil, focada nos benefícios e diferenciais, com no máximo 50 palavras.
Exemplo: "Cartões de visita premium com acabamento sofisticado, perfeitos para causar uma primeira impressão memorável."`;try{return(await Zb.models.generateContent({model:ZT,contents:n})).text.trim()||"Não foi possível gerar uma descrição."}catch(i){return console.error("Error generating product description with Gemini:",i),i instanceof Error?`Erro ao contatar IA: ${i.message}`:"Erro desconhecido ao contatar IA."}};function wn(t){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wn(t)}var vr=Uint8Array,ca=Uint16Array,Ly=Int32Array,og=new vr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lg=new vr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),R1=new vr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),VS=function(t,e){for(var n=new ca(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var r=new Ly(n[30]),i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)r[a]=a-n[i]<<5|i;return{b:n,r}},HS=VS(og,2),GS=HS.b,k1=HS.r;GS[28]=258,k1[258]=28;var $S=VS(lg,0),CF=$S.b,ew=$S.r,I1=new ca(32768);for(var qn=0;qn<32768;++qn){var Gl=(qn&43690)>>1|(qn&21845)<<1;Gl=(Gl&52428)>>2|(Gl&13107)<<2,Gl=(Gl&61680)>>4|(Gl&3855)<<4,I1[qn]=((Gl&65280)>>8|(Gl&255)<<8)>>1}var io=function(t,e,n){for(var i=t.length,r=0,a=new ca(e);r<i;++r)t[r]&&++a[t[r]-1];var o=new ca(e);for(r=1;r<e;++r)o[r]=o[r-1]+a[r-1]<<1;var c;if(n){c=new ca(1<<e);var u=15-e;for(r=0;r<i;++r)if(t[r])for(var f=r<<4|t[r],h=e-t[r],g=o[t[r]-1]++<<h,x=g|(1<<h)-1;g<=x;++g)c[I1[g]>>u]=f}else for(c=new ca(i),r=0;r<i;++r)t[r]&&(c[r]=I1[o[t[r]-1]++]>>15-t[r]);return c},cc=new vr(288);for(var qn=0;qn<144;++qn)cc[qn]=8;for(var qn=144;qn<256;++qn)cc[qn]=9;for(var qn=256;qn<280;++qn)cc[qn]=7;for(var qn=280;qn<288;++qn)cc[qn]=8;var Lh=new vr(32);for(var qn=0;qn<32;++qn)Lh[qn]=5;var AF=io(cc,9,0),TF=io(cc,9,1),NF=io(Lh,5,0),EF=io(Lh,5,1),q0=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ss=function(t,e,n){var i=e/8|0;return(t[i]|t[i+1]<<8)>>(e&7)&n},V0=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Dy=function(t){return(t+7)/8|0},WS=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new vr(t.subarray(e,n))},MF=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],cs=function(t,e,n){var i=new Error(e||MF[t]);if(i.code=t,Error.captureStackTrace&&Error.captureStackTrace(i,cs),!n)throw i;return i},PF=function(t,e,n,i){var r=t.length,a=0;if(!r||e.f&&!e.l)return n||new vr(0);var o=!n,c=o||e.i!=2,u=e.i;o&&(n=new vr(r*3));var f=function(Te){var Oe=n.length;if(Te>Oe){var je=new vr(Math.max(Oe*2,Te));je.set(n),n=je}},h=e.f||0,g=e.p||0,x=e.b||0,b=e.l,A=e.d,C=e.m,P=e.n,M=r*8;do{if(!b){h=ss(t,g,1);var L=ss(t,g+1,3);if(g+=3,L)if(L==1)b=TF,A=EF,C=9,P=5;else if(L==2){var Y=ss(t,g,31)+257,B=ss(t,g+10,15)+4,V=Y+ss(t,g+5,31)+1;g+=14;for(var X=new vr(V),K=new vr(19),O=0;O<B;++O)K[R1[O]]=ss(t,g+O*3,7);g+=B*3;for(var j=q0(K),Q=(1<<j)-1,Z=io(K,j,1),O=0;O<V;){var me=Z[ss(t,g,Q)];g+=me&15;var N=me>>4;if(N<16)X[O++]=N;else{var z=0,G=0;for(N==16?(G=3+ss(t,g,3),g+=2,z=X[O-1]):N==17?(G=3+ss(t,g,7),g+=3):N==18&&(G=11+ss(t,g,127),g+=7);G--;)X[O++]=z}}var te=X.subarray(0,Y),H=X.subarray(Y);C=q0(te),P=q0(H),b=io(te,C,1),A=io(H,P,1)}else cs(1);else{var N=Dy(g)+4,R=t[N-4]|t[N-3]<<8,F=N+R;if(F>r){u&&cs(0);break}c&&f(x+R),n.set(t.subarray(N,F),x),e.b=x+=R,e.p=g=F*8,e.f=h;continue}if(g>M){u&&cs(0);break}}c&&f(x+131072);for(var U=(1<<C)-1,le=(1<<P)-1,k=g;;k=g){var z=b[V0(t,g)&U],$=z>>4;if(g+=z&15,g>M){u&&cs(0);break}if(z||cs(2),$<256)n[x++]=$;else if($==256){k=g,b=null;break}else{var ie=$-254;if($>264){var O=$-257,ue=og[O];ie=ss(t,g,(1<<ue)-1)+GS[O],g+=ue}var fe=A[V0(t,g)&le],we=fe>>4;fe||cs(3),g+=fe&15;var H=CF[we];if(we>3){var ue=lg[we];H+=V0(t,g)&(1<<ue)-1,g+=ue}if(g>M){u&&cs(0);break}c&&f(x+131072);var ce=x+ie;if(x<H){var ve=a-H,_e=Math.min(H,ce);for(ve+x<0&&cs(3);x<_e;++x)n[x]=i[ve+x]}for(;x<ce;++x)n[x]=n[x-H]}}e.l=b,e.p=k,e.b=x,e.f=h,b&&(h=1,e.m=C,e.d=A,e.n=P)}while(!h);return x!=n.length&&o?WS(n,0,x):n.subarray(0,x)},qo=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8},Qd=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8,t[i+2]|=n>>16},H0=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var r=n.length,a=n.slice();if(!r)return{t:JS,l:0};if(r==1){var o=new vr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(F,Y){return F.f-Y.f}),n.push({s:-1,f:25001});var c=n[0],u=n[1],f=0,h=1,g=2;for(n[0]={s:-1,f:c.f+u.f,l:c,r:u};h!=r-1;)c=n[n[f].f<n[g].f?f++:g++],u=n[f!=h&&n[f].f<n[g].f?f++:g++],n[h++]={s:-1,f:c.f+u.f,l:c,r:u};for(var x=a[0].s,i=1;i<r;++i)a[i].s>x&&(x=a[i].s);var b=new ca(x+1),A=F1(n[h-1],b,0);if(A>e){var i=0,C=0,P=A-e,M=1<<P;for(a.sort(function(Y,B){return b[B.s]-b[Y.s]||Y.f-B.f});i<r;++i){var L=a[i].s;if(b[L]>e)C+=M-(1<<A-b[L]),b[L]=e;else break}for(C>>=P;C>0;){var N=a[i].s;b[N]<e?C-=1<<e-b[N]++-1:++i}for(;i>=0&&C;--i){var R=a[i].s;b[R]==e&&(--b[R],++C)}A=e}return{t:new vr(b),l:A}},F1=function(t,e,n){return t.s==-1?Math.max(F1(t.l,e,n+1),F1(t.r,e,n+1)):e[t.s]=n},tw=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ca(++e),i=0,r=t[0],a=1,o=function(u){n[i++]=u},c=1;c<=e;++c)if(t[c]==r&&c!=e)++a;else{if(!r&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(r),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(r);a=1,r=t[c]}return{c:n.subarray(0,i),n:e}},Zd=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},YS=function(t,e,n){var i=n.length,r=Dy(e+2);t[r]=i&255,t[r+1]=i>>8,t[r+2]=t[r]^255,t[r+3]=t[r+1]^255;for(var a=0;a<i;++a)t[r+a+4]=n[a];return(r+4+i)*8},nw=function(t,e,n,i,r,a,o,c,u,f,h){qo(e,h++,n),++r[256];for(var g=H0(r,15),x=g.t,b=g.l,A=H0(a,15),C=A.t,P=A.l,M=tw(x),L=M.c,N=M.n,R=tw(C),F=R.c,Y=R.n,B=new ca(19),V=0;V<L.length;++V)++B[L[V]&31];for(var V=0;V<F.length;++V)++B[F[V]&31];for(var X=H0(B,7),K=X.t,O=X.l,j=19;j>4&&!K[R1[j-1]];--j);var Q=f+5<<3,Z=Zd(r,cc)+Zd(a,Lh)+o,me=Zd(r,x)+Zd(a,C)+o+14+3*j+Zd(B,K)+2*B[16]+3*B[17]+7*B[18];if(u>=0&&Q<=Z&&Q<=me)return YS(e,h,t.subarray(u,u+f));var z,G,te,H;if(qo(e,h,1+(me<Z)),h+=2,me<Z){z=io(x,b,0),G=x,te=io(C,P,0),H=C;var U=io(K,O,0);qo(e,h,N-257),qo(e,h+5,Y-1),qo(e,h+10,j-4),h+=14;for(var V=0;V<j;++V)qo(e,h+3*V,K[R1[V]]);h+=3*j;for(var le=[L,F],k=0;k<2;++k)for(var $=le[k],V=0;V<$.length;++V){var ie=$[V]&31;qo(e,h,U[ie]),h+=K[ie],ie>15&&(qo(e,h,$[V]>>5&127),h+=$[V]>>12)}}else z=AF,G=cc,te=NF,H=Lh;for(var V=0;V<c;++V){var ue=i[V];if(ue>255){var ie=ue>>18&31;Qd(e,h,z[ie+257]),h+=G[ie+257],ie>7&&(qo(e,h,ue>>23&31),h+=og[ie]);var fe=ue&31;Qd(e,h,te[fe]),h+=H[fe],fe>3&&(Qd(e,h,ue>>5&8191),h+=lg[fe])}else Qd(e,h,z[ue]),h+=G[ue]}return Qd(e,h,z[256]),h+G[256]},LF=new Ly([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),JS=new vr(0),DF=function(t,e,n,i,r,a){var o=a.z||t.length,c=new vr(i+o+5*(1+Math.ceil(o/7e3))+r),u=c.subarray(i,c.length-r),f=a.l,h=(a.r||0)&7;if(e){h&&(u[0]=a.r>>3);for(var g=LF[e-1],x=g>>13,b=g&8191,A=(1<<n)-1,C=a.p||new ca(32768),P=a.h||new ca(A+1),M=Math.ceil(n/3),L=2*M,N=function(Ke){return(t[Ke]^t[Ke+1]<<M^t[Ke+2]<<L)&A},R=new Ly(25e3),F=new ca(288),Y=new ca(32),B=0,V=0,X=a.i||0,K=0,O=a.w||0,j=0;X+2<o;++X){var Q=N(X),Z=X&32767,me=P[Q];if(C[Z]=me,P[Q]=Z,O<=X){var z=o-X;if((B>7e3||K>24576)&&(z>423||!f)){h=nw(t,u,0,R,F,Y,V,K,j,X-j,h),K=B=V=0,j=X;for(var G=0;G<286;++G)F[G]=0;for(var G=0;G<30;++G)Y[G]=0}var te=2,H=0,U=b,le=Z-me&32767;if(z>2&&Q==N(X-le))for(var k=Math.min(x,z)-1,$=Math.min(32767,X),ie=Math.min(258,z);le<=$&&--U&&Z!=me;){if(t[X+te]==t[X+te-le]){for(var ue=0;ue<ie&&t[X+ue]==t[X+ue-le];++ue);if(ue>te){if(te=ue,H=le,ue>k)break;for(var fe=Math.min(le,ue-2),we=0,G=0;G<fe;++G){var ce=X-le+G&32767,ve=C[ce],_e=ce-ve&32767;_e>we&&(we=_e,me=ce)}}}Z=me,me=C[Z],le+=Z-me&32767}if(H){R[K++]=268435456|k1[te]<<18|ew[H];var Te=k1[te]&31,Oe=ew[H]&31;V+=og[Te]+lg[Oe],++F[257+Te],++Y[Oe],O=X+te,++B}else R[K++]=t[X],++F[t[X]]}}for(X=Math.max(X,O);X<o;++X)R[K++]=t[X],++F[t[X]];h=nw(t,u,f,R,F,Y,V,K,j,X-j,h),f||(a.r=h&7|u[h/8|0]<<3,h-=7,a.h=P,a.p=C,a.i=X,a.w=O)}else{for(var X=a.w||0;X<o+f;X+=65535){var je=X+65535;je>=o&&(u[h/8|0]=f,je=o),h=YS(u,h+1,t.subarray(X,je))}a.i=o}return WS(c,0,i+Dy(h)+r)},KS=function(){var t=1,e=0;return{p:function(n){for(var i=t,r=e,a=n.length|0,o=0;o!=a;){for(var c=Math.min(o+2655,a);o<c;++o)r+=i+=n[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}t=i,e=r},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},RF=function(t,e,n,i,r){if(!r&&(r={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new vr(a.length+t.length);o.set(a),o.set(t,a.length),t=o,r.w=a.length}return DF(t,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,i,r)},XS=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},kF=function(t,e){var n=e.level,i=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=i<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var r=KS();r.p(e.dictionary),XS(t,2,r.d())}},IF=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&cs(6,"invalid zlib data"),(t[1]>>5&1)==1&&cs(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function O1(t,e){e||(e={});var n=KS();n.p(t);var i=RF(t,e,e.dictionary?6:2,4);return kF(i,e),XS(i,i.length-4,n.d()),i}function FF(t,e){return PF(t.subarray(IF(t),-4),{i:2},e,e)}var OF=typeof TextDecoder<"u"&&new TextDecoder,jF=0;try{OF.decode(JS,{stream:!0}),jF=1}catch{}var Pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function G0(){Pt.console&&typeof Pt.console.log=="function"&&Pt.console.log.apply(Pt.console,arguments)}var Mn={log:G0,warn:function(t){Pt.console&&(typeof Pt.console.warn=="function"?Pt.console.warn.apply(Pt.console,arguments):G0.call(null,arguments))},error:function(t){Pt.console&&(typeof Pt.console.error=="function"?Pt.console.error.apply(Pt.console,arguments):G0(t))}};function $0(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){nu(i.response,e,n)},i.onerror=function(){Mn.error("could not download file")},i.send()}function iw(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function fm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var yh,j1,nu=Pt.saveAs||((typeof window>"u"?"undefined":wn(window))!=="object"||window!==Pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=Pt.URL||Pt.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?iw(r.href)?$0(t,e,n):fm(r,r.target="_blank"):fm(r)):(r.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){fm(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(iw(t))$0(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){fm(i)})}else navigator.msSaveOrOpenBlob(function(r,a){return a===void 0?a={autoBom:!1}:wn(a)!=="object"&&(Mn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return $0(t,e,n);var r=t.type==="application/octet-stream",a=/constructor/i.test(Pt.HTMLElement)||Pt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&a)&&(typeof FileReader>"u"?"undefined":wn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var h=c.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=h:location=h,i=null},c.readAsDataURL(t)}else{var u=Pt.URL||Pt.webkitURL,f=u.createObjectURL(t);i?i.location=f:location.href=f,i=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function QS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,a=n[i].process,o=r.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+c+u+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function W0(t,e){var n=t[0],i=t[1],r=t[2],a=t[3];n=dr(n,i,r,a,e[0],7,-680876936),a=dr(a,n,i,r,e[1],12,-389564586),r=dr(r,a,n,i,e[2],17,606105819),i=dr(i,r,a,n,e[3],22,-1044525330),n=dr(n,i,r,a,e[4],7,-176418897),a=dr(a,n,i,r,e[5],12,1200080426),r=dr(r,a,n,i,e[6],17,-1473231341),i=dr(i,r,a,n,e[7],22,-45705983),n=dr(n,i,r,a,e[8],7,1770035416),a=dr(a,n,i,r,e[9],12,-1958414417),r=dr(r,a,n,i,e[10],17,-42063),i=dr(i,r,a,n,e[11],22,-1990404162),n=dr(n,i,r,a,e[12],7,1804603682),a=dr(a,n,i,r,e[13],12,-40341101),r=dr(r,a,n,i,e[14],17,-1502002290),n=hr(n,i=dr(i,r,a,n,e[15],22,1236535329),r,a,e[1],5,-165796510),a=hr(a,n,i,r,e[6],9,-1069501632),r=hr(r,a,n,i,e[11],14,643717713),i=hr(i,r,a,n,e[0],20,-373897302),n=hr(n,i,r,a,e[5],5,-701558691),a=hr(a,n,i,r,e[10],9,38016083),r=hr(r,a,n,i,e[15],14,-660478335),i=hr(i,r,a,n,e[4],20,-405537848),n=hr(n,i,r,a,e[9],5,568446438),a=hr(a,n,i,r,e[14],9,-1019803690),r=hr(r,a,n,i,e[3],14,-187363961),i=hr(i,r,a,n,e[8],20,1163531501),n=hr(n,i,r,a,e[13],5,-1444681467),a=hr(a,n,i,r,e[2],9,-51403784),r=hr(r,a,n,i,e[7],14,1735328473),n=pr(n,i=hr(i,r,a,n,e[12],20,-1926607734),r,a,e[5],4,-378558),a=pr(a,n,i,r,e[8],11,-2022574463),r=pr(r,a,n,i,e[11],16,1839030562),i=pr(i,r,a,n,e[14],23,-35309556),n=pr(n,i,r,a,e[1],4,-1530992060),a=pr(a,n,i,r,e[4],11,1272893353),r=pr(r,a,n,i,e[7],16,-155497632),i=pr(i,r,a,n,e[10],23,-1094730640),n=pr(n,i,r,a,e[13],4,681279174),a=pr(a,n,i,r,e[0],11,-358537222),r=pr(r,a,n,i,e[3],16,-722521979),i=pr(i,r,a,n,e[6],23,76029189),n=pr(n,i,r,a,e[9],4,-640364487),a=pr(a,n,i,r,e[12],11,-421815835),r=pr(r,a,n,i,e[15],16,530742520),n=mr(n,i=pr(i,r,a,n,e[2],23,-995338651),r,a,e[0],6,-198630844),a=mr(a,n,i,r,e[7],10,1126891415),r=mr(r,a,n,i,e[14],15,-1416354905),i=mr(i,r,a,n,e[5],21,-57434055),n=mr(n,i,r,a,e[12],6,1700485571),a=mr(a,n,i,r,e[3],10,-1894986606),r=mr(r,a,n,i,e[10],15,-1051523),i=mr(i,r,a,n,e[1],21,-2054922799),n=mr(n,i,r,a,e[8],6,1873313359),a=mr(a,n,i,r,e[15],10,-30611744),r=mr(r,a,n,i,e[6],15,-1560198380),i=mr(i,r,a,n,e[13],21,1309151649),n=mr(n,i,r,a,e[4],6,-145523070),a=mr(a,n,i,r,e[11],10,-1120210379),r=mr(r,a,n,i,e[2],15,718787259),i=mr(i,r,a,n,e[9],21,-343485551),t[0]=nc(n,t[0]),t[1]=nc(i,t[1]),t[2]=nc(r,t[2]),t[3]=nc(a,t[3])}function cg(t,e,n,i,r,a){return e=nc(nc(e,t),nc(i,a)),nc(e<<r|e>>>32-r,n)}function dr(t,e,n,i,r,a,o){return cg(e&n|~e&i,t,e,r,a,o)}function hr(t,e,n,i,r,a,o){return cg(e&i|n&~i,t,e,r,a,o)}function pr(t,e,n,i,r,a,o){return cg(e^n^i,t,e,r,a,o)}function mr(t,e,n,i,r,a,o){return cg(n^(e|~i),t,e,r,a,o)}function ZS(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)W0(i,UF(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(W0(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*n,W0(i,r),i}function UF(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}yh=Pt.atob.bind(Pt),j1=Pt.btoa.bind(Pt);var rw="0123456789abcdef".split("");function BF(t){for(var e="",n=0;n<4;n++)e+=rw[t>>8*n+4&15]+rw[t>>8*n&15];return e}function zF(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function U1(t){return ZS(t).map(zF).join("")}var qF=function(t){for(var e=0;e<t.length;e++)t[e]=BF(t[e]);return t.join("")}(ZS("hello"))!="5d41402abc4b2a76b9719d911017c592";function nc(t,e){if(qF){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function B1(t,e){var n,i,r,a;if(t!==n){for(var o=(r=t,a=1+(256/t.length>>0),new Array(a+1).join(r)),c=[],u=0;u<256;u++)c[u]=u;var f=0;for(u=0;u<256;u++){var h=c[u];f=(f+h+o.charCodeAt(u))%256,c[u]=c[f],c[f]=h}n=t,i=c}else c=i;var g=e.length,x=0,b=0,A="";for(u=0;u<g;u++)b=(b+(h=c[x=(x+1)%256]))%256,c[x]=c[b],c[b]=h,o=c[(c[x]+c[b])%256],A+=String.fromCharCode(e.charCodeAt(u)^o);return A}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var aw={print:4,modify:8,copy:16,"annot-forms":32};function Af(t,e,n,i){this.v=1,this.r=2;var r=192;t.forEach(function(c){if(aw.perm!==void 0)throw new Error("Invalid permission: "+c);r+=aw[c]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^r)),this.encryptionKey=U1(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=B1(this.encryptionKey,this.padding)}function Tf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,i=0;i<n;i++){var r=t.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?e+="#"+("0"+r.toString(16)).slice(-2):e+=t[i]}return e}function sw(t){if(wn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[i,!!r],a},this.unsubscribe=function(n){for(var i in e)if(e[i][n])return delete e[i][n],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var a in e[n]){var o=e[n][a];try{o[0].apply(t,i)}catch(c){Pt.console&&Mn.error("jsPDF PubSub Error",c.message,c)}o[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Dh(t){if(!(this instanceof Dh))return new Dh(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function e3(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ql(t,e,n,i,r){if(!(this instanceof Ql))return new Ql(t,e,n,i,r);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,e3.call(this,i,r)}function su(t,e,n,i,r){if(!(this instanceof su))return new su(t,e,n,i,r);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,e3.call(this,i,r)}function _t(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],a=arguments[3],o=[],c=1,u=16,f="S",h=null;wn(t=t||{})==="object"&&(n=t.orientation,i=t.unit||i,r=t.format||r,a=t.compress||t.compressPdf||a,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),f=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),i=i||"mm",n=(""+(n||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,x={},b={internal:{},__private__:{}};b.__private__.PubSub=sw;var A="1.3",C=b.__private__.getPdfVersion=function(){return A};b.__private__.setPdfVersion=function(E){A=E};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return P};var M=b.__private__.getPageFormat=function(E){return P[E]};r=r||"a4";var L={COMPAT:"compat",ADVANCED:"advanced"},N=L.COMPAT;function R(){this.saveGraphicsState(),oe(new gt(rt,0,0,-rt,0,Ts()*rt).toString()+" cm"),this.setFontSize(this.getFontSize()/rt),f="n",N=L.ADVANCED}function F(){this.restoreGraphicsState(),f="S",N=L.COMPAT}var Y=b.__private__.combineFontStyleAndFontWeight=function(E,J){if(E=="bold"&&J=="normal"||E=="bold"&&J==400||E=="normal"&&J=="italic"||E=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(E=J==400||J==="normal"?E==="italic"?"italic":"normal":J!=700&&J!=="bold"||E!=="normal"?(J==700?"bold":J)+""+E:"bold"),E};b.advancedAPI=function(E){var J=N===L.COMPAT;return J&&R.call(this),typeof E!="function"||(E(this),J&&F.call(this)),this},b.compatAPI=function(E){var J=N===L.ADVANCED;return J&&F.call(this),typeof E!="function"||(E(this),J&&R.call(this)),this},b.isAdvancedAPI=function(){return N===L.ADVANCED};var B,V=function(E){if(N!==L.ADVANCED)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},X=b.roundToPrecision=b.__private__.roundToPrecision=function(E,J){var he=e||J;if(isNaN(E)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(he).replace(/0+$/,"")};B=b.hpf=b.__private__.hpf=typeof u=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return X(E,u)}:u==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return X(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return X(E,16)};var K=b.f2=b.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return X(E,2)},O=b.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return X(E,3)},j=b.scale=b.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return N===L.COMPAT?E*rt:N===L.ADVANCED?E:void 0},Q=function(E){return N===L.COMPAT?Ts()-E:N===L.ADVANCED?E:void 0},Z=function(E){return j(Q(E))};b.__private__.setPrecision=b.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var me,z="00000000000000000000000000000000",G=b.__private__.getFileId=function(){return z},te=b.__private__.setFileId=function(E){return z=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Si=new Af(h.userPermissions,h.userPassword,h.ownerPassword,z)),z};b.setFileId=function(E){return te(E),this},b.getFileId=function(){return G()};var H=b.__private__.convertDateToPDFDate=function(E){var J=E.getTimezoneOffset(),he=J<0?"+":"-",xe=Math.floor(Math.abs(J/60)),Me=Math.abs(J%60),Be=[he,ie(xe),"'",ie(Me),"'"].join("");return["D:",E.getFullYear(),ie(E.getMonth()+1),ie(E.getDate()),ie(E.getHours()),ie(E.getMinutes()),ie(E.getSeconds()),Be].join("")},U=b.__private__.convertPDFDateToDate=function(E){var J=parseInt(E.substr(2,4),10),he=parseInt(E.substr(6,2),10)-1,xe=parseInt(E.substr(8,2),10),Me=parseInt(E.substr(10,2),10),Be=parseInt(E.substr(12,2),10),Je=parseInt(E.substr(14,2),10);return new Date(J,he,xe,Me,Be,Je,0)},le=b.__private__.setCreationDate=function(E){var J;if(E===void 0&&(E=new Date),E instanceof Date)J=H(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=E}return me=J},k=b.__private__.getCreationDate=function(E){var J=me;return E==="jsDate"&&(J=U(me)),J};b.setCreationDate=function(E){return le(E),this},b.getCreationDate=function(E){return k(E)};var $,ie=b.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},ue=b.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},fe=0,we=[],ce=[],ve=0,_e=[],Te=[],Oe=!1,je=ce,Ke=function(){fe=0,ve=0,ce=[],we=[],_e=[],Cr=ri(),Ar=ri()};b.__private__.setCustomOutputDestination=function(E){Oe=!0,je=E};var ge=function(E){Oe||(je=E)};b.__private__.resetCustomOutputDestination=function(){Oe=!1,je=ce};var oe=b.__private__.out=function(E){return E=E.toString(),ve+=E.length+1,je.push(E),je},Ue=b.__private__.write=function(E){return oe(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},ot=b.__private__.getArrayBuffer=function(E){for(var J=E.length,he=new ArrayBuffer(J),xe=new Uint8Array(he);J--;)xe[J]=E.charCodeAt(J);return he},qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return qe};var Xe=t.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(E){return Xe=N===L.ADVANCED?E/rt:E,this};var Qe,Ze=b.__private__.getFontSize=b.getFontSize=function(){return N===L.COMPAT?Xe:Xe*rt},ft=t.R2L||!1;b.__private__.setR2L=b.setR2L=function(E){return ft=E,this},b.__private__.getR2L=b.getR2L=function(){return ft};var Ct,Rt=b.__private__.setZoomMode=function(E){var J=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))Qe=E;else if(isNaN(E)){if(J.indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');Qe=E}else Qe=parseInt(E,10)};b.__private__.getZoomMode=function(){return Qe};var dt,yt=b.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');Ct=E};b.__private__.getPageMode=function(){return Ct};var kt=b.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');dt=E};b.__private__.getLayoutMode=function(){return dt},b.__private__.setDisplayMode=b.setDisplayMode=function(E,J,he){return Rt(E),kt(J),yt(he),this};var nt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(E){if(Object.keys(nt).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nt[E]},b.__private__.getDocumentProperties=function(){return nt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(E){for(var J in nt)nt.hasOwnProperty(J)&&E[J]&&(nt[J]=E[J]);return this},b.__private__.setDocumentProperty=function(E,J){if(Object.keys(nt).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nt[E]=J};var Ut,rt,Pi,zt,Kn,Zt={},pn={},nr=[],cn={},gs={},Fn={},wr={},_r=null,Vn=0,It=[],an=new sw(b),ka=t.hotfixes||[],fi={},Wr={},fa=[],gt=function E(J,he,xe,Me,Be,Je){if(!(this instanceof E))return new E(J,he,xe,Me,Be,Je);isNaN(J)&&(J=1),isNaN(he)&&(he=0),isNaN(xe)&&(xe=0),isNaN(Me)&&(Me=1),isNaN(Be)&&(Be=0),isNaN(Je)&&(Je=0),this._matrix=[J,he,xe,Me,Be,Je]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(E)},gt.prototype.multiply=function(E){var J=E.sx*this.sx+E.shy*this.shx,he=E.sx*this.shy+E.shy*this.sy,xe=E.shx*this.sx+E.sy*this.shx,Me=E.shx*this.shy+E.sy*this.sy,Be=E.tx*this.sx+E.ty*this.shx+this.tx,Je=E.tx*this.shy+E.ty*this.sy+this.ty;return new gt(J,he,xe,Me,Be,Je)},gt.prototype.decompose=function(){var E=this.sx,J=this.shy,he=this.shx,xe=this.sy,Me=this.tx,Be=this.ty,Je=Math.sqrt(E*E+J*J),at=(E/=Je)*he+(J/=Je)*xe;he-=E*at,xe-=J*at;var mt=Math.sqrt(he*he+xe*xe);return at/=mt,E*(xe/=mt)<J*(he/=mt)&&(E=-E,J=-J,at=-at,Je=-Je),{scale:new gt(Je,0,0,mt,0,0),translate:new gt(1,0,0,1,Me,Be),rotate:new gt(E,J,-J,E,0,0),skew:new gt(1,0,at,1,0,0)}},gt.prototype.toString=function(E){return this.join(" ")},gt.prototype.inversed=function(){var E=this.sx,J=this.shy,he=this.shx,xe=this.sy,Me=this.tx,Be=this.ty,Je=1/(E*xe-J*he),at=xe*Je,mt=-J*Je,jt=-he*Je,Ft=E*Je;return new gt(at,mt,jt,Ft,-at*Me-jt*Be,-mt*Me-Ft*Be)},gt.prototype.applyToPoint=function(E){var J=E.x*this.sx+E.y*this.shx+this.tx,he=E.x*this.shy+E.y*this.sy+this.ty;return new ul(J,he)},gt.prototype.applyToRectangle=function(E){var J=this.applyToPoint(E),he=this.applyToPoint(new ul(E.x+E.w,E.y+E.h));return new Cc(J.x,J.y,he.x-J.x,he.y-J.y)},gt.prototype.clone=function(){var E=this.sx,J=this.shy,he=this.shx,xe=this.sy,Me=this.tx,Be=this.ty;return new gt(E,J,he,xe,Me,Be)},b.Matrix=gt;var Sn=b.matrixMult=function(E,J){return J.multiply(E)},On=new gt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=On;var di=function(E,J){if(!gs[E]){var he=(J instanceof Ql?"Sh":"P")+(Object.keys(cn).length+1).toString(10);J.id=he,gs[E]=he,cn[he]=J,an.publish("addPattern",J)}};b.ShadingPattern=Ql,b.TilingPattern=su,b.addShadingPattern=function(E,J){return V("addShadingPattern()"),di(E,J),this},b.beginTilingPattern=function(E){V("beginTilingPattern()"),fl(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},b.endTilingPattern=function(E,J){V("endTilingPattern()"),J.stream=Te[$].join(`
`),di(E,J),an.publish("endTilingPattern",J),fa.pop().restore()};var Xn=b.__private__.newObject=function(){var E=ri();return Sr(E,!0),E},ri=b.__private__.newObjectDeferred=function(){return fe++,we[fe]=function(){return ve},fe},Sr=function(E,J){return J=typeof J=="boolean"&&J,we[E]=ve,J&&oe(E+" 0 obj"),E},co=b.__private__.newAdditionalObject=function(){var E={objId:ri(),content:""};return _e.push(E),E},Cr=ri(),Ar=ri(),Ui=b.__private__.decodeColorString=function(E){var J=E.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length===5&&(J[4]==="k"||J[4]==="K")&&(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var he=parseFloat(J[0]);J=[he,he,he,"r"]}for(var xe="#",Me=0;Me<3;Me++)xe+=("0"+Math.floor(255*parseFloat(J[Me])).toString(16)).slice(-2);return xe},Bi=b.__private__.encodeColorString=function(E){var J;typeof E=="string"&&(E={ch1:E});var he=E.ch1,xe=E.ch2,Me=E.ch3,Be=E.ch4,Je=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var at=new QS(he);if(at.ok)he=at.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var mt=parseInt(he.substr(1),16);he=mt>>16&255,xe=mt>>8&255,Me=255&mt}if(xe===void 0||Be===void 0&&he===xe&&xe===Me)if(typeof he=="string")J=he+" "+Je[0];else switch(E.precision){case 2:J=K(he/255)+" "+Je[0];break;case 3:default:J=O(he/255)+" "+Je[0]}else if(Be===void 0||wn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return J=["1.","1.","1.",Je[1]].join(" ");if(typeof he=="string")J=[he,xe,Me,Je[1]].join(" ");else switch(E.precision){case 2:J=[K(he/255),K(xe/255),K(Me/255),Je[1]].join(" ");break;default:case 3:J=[O(he/255),O(xe/255),O(Me/255),Je[1]].join(" ")}}else if(typeof he=="string")J=[he,xe,Me,Be,Je[2]].join(" ");else switch(E.precision){case 2:J=[K(he),K(xe),K(Me),K(Be),Je[2]].join(" ");break;case 3:default:J=[O(he),O(xe),O(Me),O(Be),Je[2]].join(" ")}return J},ir=b.__private__.getFilters=function(){return o},Li=b.__private__.putStream=function(E){var J=(E=E||{}).data||"",he=E.filters||ir(),xe=E.alreadyAppliedFilters||[],Me=E.addLength1||!1,Be=J.length,Je=E.objectId,at=function(Zn){return Zn};if(h!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(at=Si.encryptor(Je,0));var mt={};he===!0&&(he=["FlateEncode"]);var jt=E.additionalKeyValues||[],Ft=(mt=_t.API.processDataByFilters!==void 0?_t.API.processDataByFilters(J,he):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(mt.data.length!==0&&(jt.push({key:"Length",value:mt.data.length}),Me===!0&&jt.push({key:"Length1",value:Be})),Ft.length!=0)if(Ft.split("/").length-1==1)jt.push({key:"Filter",value:Ft});else{jt.push({key:"Filter",value:"["+Ft+"]"});for(var Jt=0;Jt<jt.length;Jt+=1)if(jt[Jt].key==="DecodeParms"){for(var Dn=[],jn=0;jn<mt.reverseChain.split("/").length-1;jn+=1)Dn.push("null");Dn.push(jt[Jt].value),jt[Jt].value="["+Dn.join(" ")+"]"}}oe("<<");for(var Qn=0;Qn<jt.length;Qn++)oe("/"+jt[Qn].key+" "+jt[Qn].value);oe(">>"),mt.data.length!==0&&(oe("stream"),oe(at(mt.data)),oe("endstream"))},gn=b.__private__.putPage=function(E){var J=E.number,he=E.data,xe=E.objId,Me=E.contentsObjId;Sr(xe,!0),oe("<</Type /Page"),oe("/Parent "+E.rootDictionaryObjId+" 0 R"),oe("/Resources "+E.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(B(E.mediaBox.bottomLeftX))+" "+parseFloat(B(E.mediaBox.bottomLeftY))+" "+B(E.mediaBox.topRightX)+" "+B(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&oe("/CropBox ["+B(E.cropBox.bottomLeftX)+" "+B(E.cropBox.bottomLeftY)+" "+B(E.cropBox.topRightX)+" "+B(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&oe("/BleedBox ["+B(E.bleedBox.bottomLeftX)+" "+B(E.bleedBox.bottomLeftY)+" "+B(E.bleedBox.topRightX)+" "+B(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&oe("/TrimBox ["+B(E.trimBox.bottomLeftX)+" "+B(E.trimBox.bottomLeftY)+" "+B(E.trimBox.topRightX)+" "+B(E.trimBox.topRightY)+"]"),E.artBox!==null&&oe("/ArtBox ["+B(E.artBox.bottomLeftX)+" "+B(E.artBox.bottomLeftY)+" "+B(E.artBox.topRightX)+" "+B(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&oe("/UserUnit "+E.userUnit),an.publish("putPage",{objId:xe,pageContext:It[J],pageNumber:J,page:he}),oe("/Contents "+Me+" 0 R"),oe(">>"),oe("endobj");var Be=he.join(`
`);return N===L.ADVANCED&&(Be+=`
Q`),Sr(Me,!0),Li({data:Be,filters:ir(),objectId:Me}),oe("endobj"),xe},ys=b.__private__.putPages=function(){var E,J,he=[];for(E=1;E<=Vn;E++)It[E].objId=ri(),It[E].contentsObjId=ri();for(E=1;E<=Vn;E++)he.push(gn({number:E,data:Te[E],objId:It[E].objId,contentsObjId:It[E].contentsObjId,mediaBox:It[E].mediaBox,cropBox:It[E].cropBox,bleedBox:It[E].bleedBox,trimBox:It[E].trimBox,artBox:It[E].artBox,userUnit:It[E].userUnit,rootDictionaryObjId:Cr,resourceDictionaryObjId:Ar}));Sr(Cr,!0),oe("<</Type /Pages");var xe="/Kids [";for(J=0;J<Vn;J++)xe+=he[J]+" 0 R ";oe(xe+"]"),oe("/Count "+Vn),oe(">>"),oe("endobj"),an.publish("postPutPages")},uo=function(E){an.publish("putFont",{font:E,out:oe,newObject:Xn,putStream:Li}),E.isAlreadyPutted!==!0&&(E.objectNumber=Xn(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Tf(E.postScriptName)),oe("/Subtype /Type1"),typeof E.encoding=="string"&&oe("/Encoding /"+E.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},Dr=function(){for(var E in Zt)Zt.hasOwnProperty(E)&&(g===!1||g===!0&&x.hasOwnProperty(E))&&uo(Zt[E])},Yr=function(E){E.objectNumber=Xn();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[B(E.x),B(E.y),B(E.x+E.width),B(E.y+E.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var he=E.pages[1].join(`
`);Li({data:he,additionalKeyValues:J,objectId:E.objectNumber}),oe("endobj")},el=function(){for(var E in fi)fi.hasOwnProperty(E)&&Yr(fi[E])},hc=function(E,J){var he,xe=[],Me=1/(J-1);for(he=0;he<1;he+=Me)xe.push(he);if(xe.push(1),E[0].offset!=0){var Be={offset:0,color:E[0].color};E.unshift(Be)}if(E[E.length-1].offset!=1){var Je={offset:1,color:E[E.length-1].color};E.push(Je)}for(var at="",mt=0,jt=0;jt<xe.length;jt++){for(he=xe[jt];he>E[mt+1].offset;)mt++;var Ft=E[mt].offset,Jt=(he-Ft)/(E[mt+1].offset-Ft),Dn=E[mt].color,jn=E[mt+1].color;at+=ue(Math.round((1-Jt)*Dn[0]+Jt*jn[0]).toString(16))+ue(Math.round((1-Jt)*Dn[1]+Jt*jn[1]).toString(16))+ue(Math.round((1-Jt)*Dn[2]+Jt*jn[2]).toString(16))}return at.trim()},_u=function(E,J){J||(J=21);var he=Xn(),xe=hc(E.colors,J),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+J+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Li({data:xe,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),oe("endobj"),E.objectNumber=Xn(),oe("<< /ShadingType "+E.type),oe("/ColorSpace /DeviceRGB");var Be="/Coords ["+B(parseFloat(E.coords[0]))+" "+B(parseFloat(E.coords[1]))+" ";E.type===2?Be+=B(parseFloat(E.coords[2]))+" "+B(parseFloat(E.coords[3])):Be+=B(parseFloat(E.coords[2]))+" "+B(parseFloat(E.coords[3]))+" "+B(parseFloat(E.coords[4]))+" "+B(parseFloat(E.coords[5])),oe(Be+="]"),E.matrix&&oe("/Matrix ["+E.matrix.toString()+"]"),oe("/Function "+he+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},Yf=function(E,J){var he=ri(),xe=Xn();J.push({resourcesOid:he,objectOid:xe}),E.objectNumber=xe;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+E.boundingBox.map(B).join(" ")+"]"}),Me.push({key:"XStep",value:B(E.xStep)}),Me.push({key:"YStep",value:B(E.yStep)}),Me.push({key:"Resources",value:he+" 0 R"}),E.matrix&&Me.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),Li({data:E.stream,additionalKeyValues:Me,objectId:E.objectNumber}),oe("endobj")},Ia=function(E){var J;for(J in cn)cn.hasOwnProperty(J)&&(cn[J]instanceof Ql?_u(cn[J]):cn[J]instanceof su&&Yf(cn[J],E))},fo=function(E){for(var J in E.objectNumber=Xn(),oe("<<"),E)switch(J){case"opacity":oe("/ca "+K(E[J]));break;case"stroke-opacity":oe("/CA "+K(E[J]))}oe(">>"),oe("endobj")},Jr=function(){var E;for(E in Fn)Fn.hasOwnProperty(E)&&fo(Fn[E])},ho=function(){for(var E in oe("/XObject <<"),fi)fi.hasOwnProperty(E)&&fi[E].objectNumber>=0&&oe("/"+E+" "+fi[E].objectNumber+" 0 R");an.publish("putXobjectDict"),oe(">>")},Su=function(){Si.oid=Xn(),oe("<<"),oe("/Filter /Standard"),oe("/V "+Si.v),oe("/R "+Si.r),oe("/U <"+Si.toHexString(Si.U)+">"),oe("/O <"+Si.toHexString(Si.O)+">"),oe("/P "+Si.P),oe(">>"),oe("endobj")},Fa=function(){for(var E in oe("/Font <<"),Zt)Zt.hasOwnProperty(E)&&(g===!1||g===!0&&x.hasOwnProperty(E))&&oe("/"+E+" "+Zt[E].objectNumber+" 0 R");oe(">>")},pc=function(){if(Object.keys(cn).length>0){for(var E in oe("/Shading <<"),cn)cn.hasOwnProperty(E)&&cn[E]instanceof Ql&&cn[E].objectNumber>=0&&oe("/"+E+" "+cn[E].objectNumber+" 0 R");an.publish("putShadingPatternDict"),oe(">>")}},vs=function(E){if(Object.keys(cn).length>0){for(var J in oe("/Pattern <<"),cn)cn.hasOwnProperty(J)&&cn[J]instanceof b.TilingPattern&&cn[J].objectNumber>=0&&cn[J].objectNumber<E&&oe("/"+J+" "+cn[J].objectNumber+" 0 R");an.publish("putTilingPatternDict"),oe(">>")}},Jf=function(){if(Object.keys(Fn).length>0){var E;for(E in oe("/ExtGState <<"),Fn)Fn.hasOwnProperty(E)&&Fn[E].objectNumber>=0&&oe("/"+E+" "+Fn[E].objectNumber+" 0 R");an.publish("putGStateDict"),oe(">>")}},Hn=function(E){Sr(E.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Fa(),pc(),vs(E.objectOid),Jf(),ho(),oe(">>"),oe("endobj")},Ji=function(){var E=[];Dr(),Jr(),el(),Ia(E),an.publish("putResources"),E.forEach(Hn),Hn({resourcesOid:Ar,objectOid:Number.MAX_SAFE_INTEGER}),an.publish("postPutResources")},mc=function(){an.publish("putAdditionalObjects");for(var E=0;E<_e.length;E++){var J=_e[E];Sr(J.objId,!0),oe(J.content),oe("endobj")}an.publish("postPutAdditionalObjects")},Cu=function(E){pn[E.fontName]=pn[E.fontName]||{},pn[E.fontName][E.fontStyle]=E.id},xs=function(E,J,he,xe,Me){var Be={id:"F"+(Object.keys(Zt).length+1).toString(10),postScriptName:E,fontName:J,fontStyle:he,encoding:xe,isStandardFont:Me||!1,metadata:{}};return an.publish("addFont",{font:Be,instance:this}),Zt[Be.id]=Be,Cu(Be),Be.id},Au=function(E){for(var J=0,he=qe.length;J<he;J++){var xe=xs.call(this,E[J][0],E[J][1],E[J][2],qe[J][3],!0);g===!1&&(x[xe]=!0);var Me=E[J][0].split("-");Cu({id:xe,fontName:Me[0],fontStyle:Me[1]||""})}an.publish("addFonts",{fonts:Zt,dictionary:pn})},rr=function(E){return E.foo=function(){try{return E.apply(this,arguments)}catch(xe){var J=xe.stack||"";~J.indexOf(" at ")&&(J=J.split(" at ")[1]);var he="Error in function "+J.split(`
`)[0].split("<")[0]+": "+xe.message;if(!Pt.console)throw new Error(he);Pt.console.error(he,xe),Pt.alert&&alert(he)}},E.foo.bar=E,E.foo},tl=function(E,J){var he,xe,Me,Be,Je,at,mt,jt,Ft;if(Me=(J=J||{}).sourceEncoding||"Unicode",Je=J.outputEncoding,(J.autoencode||Je)&&Zt[Ut].metadata&&Zt[Ut].metadata[Me]&&Zt[Ut].metadata[Me].encoding&&(Be=Zt[Ut].metadata[Me].encoding,!Je&&Zt[Ut].encoding&&(Je=Zt[Ut].encoding),!Je&&Be.codePages&&(Je=Be.codePages[0]),typeof Je=="string"&&(Je=Be[Je]),Je)){for(mt=!1,at=[],he=0,xe=E.length;he<xe;he++)(jt=Je[E.charCodeAt(he)])?at.push(String.fromCharCode(jt)):at.push(E[he]),at[he].charCodeAt(0)>>8&&(mt=!0);E=at.join("")}for(he=E.length;mt===void 0&&he!==0;)E.charCodeAt(he-1)>>8&&(mt=!0),he--;if(!mt)return E;for(at=J.noBOM?[]:[254,255],he=0,xe=E.length;he<xe;he++){if((Ft=(jt=E.charCodeAt(he))>>8)>>8)throw new Error("Character at position "+he+" of string '"+E+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");at.push(Ft),at.push(jt-(Ft<<8))}return String.fromCharCode.apply(void 0,at)},Nn=b.__private__.pdfEscape=b.pdfEscape=function(E,J){return tl(E,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},po=b.__private__.beginPage=function(E){Te[++Vn]=[],It[Vn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Oa(Vn),ge(Te[$])},gc=function(E,J){var he,xe,Me;switch(n=J||n,typeof E=="string"&&(he=M(E.toLowerCase()),Array.isArray(he)&&(xe=he[0],Me=he[1])),Array.isArray(E)&&(xe=E[0]*rt,Me=E[1]*rt),isNaN(xe)&&(xe=r[0],Me=r[1]),(xe>14400||Me>14400)&&(Mn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Me=Math.min(14400,Me)),r=[xe,Me],n.substr(0,1)){case"l":Me>xe&&(r=[Me,xe]);break;case"p":xe>Me&&(r=[Me,xe])}po(r),Lu(Ss),oe(Kr),Sc!==0&&oe(Sc+" J"),cl!==0&&oe(cl+" j"),an.publish("addPage",{pageNumber:Vn})},yc=function(E){E>0&&E<=Vn&&(Te.splice(E,1),It.splice(E,1),Vn--,$>Vn&&($=Vn),this.setPage($))},Oa=function(E){E>0&&E<=Vn&&($=E)},Tu=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Te.length-1},vc=function(E,J,he){var xe,Me=void 0;return he=he||{},E=E!==void 0?E:Zt[Ut].fontName,J=J!==void 0?J:Zt[Ut].fontStyle,xe=E.toLowerCase(),pn[xe]!==void 0&&pn[xe][J]!==void 0?Me=pn[xe][J]:pn[E]!==void 0&&pn[E][J]!==void 0?Me=pn[E][J]:he.disableWarning===!1&&Mn.warn("Unable to look up font label for font '"+E+"', '"+J+"'. Refer to getFontList() for available fonts."),Me||he.noFallback||(Me=pn.times[J])==null&&(Me=pn.times.normal),Me},bs=b.__private__.putInfo=function(){var E=Xn(),J=function(xe){return xe};for(var he in h!==null&&(J=Si.encryptor(E,0)),oe("<<"),oe("/Producer ("+Nn(J("jsPDF "+_t.version))+")"),nt)nt.hasOwnProperty(he)&&nt[he]&&oe("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+Nn(J(nt[he]))+")");oe("/CreationDate ("+Nn(J(me))+")"),oe(">>"),oe("endobj")},xc=b.__private__.putCatalog=function(E){var J=(E=E||{}).rootDictionaryObjId||Cr;switch(Xn(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+J+" 0 R"),Qe||(Qe="fullwidth"),Qe){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+Qe;he.substr(he.length-1)==="%"&&(Qe=parseInt(Qe)/100),typeof Qe=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+K(Qe)+"]")}switch(dt||(dt="continuous"),dt){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Ct&&oe("/PageMode /"+Ct),an.publish("putCatalog"),oe(">>"),oe("endobj")},Nu=b.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(fe+1)),oe("/Root "+fe+" 0 R"),oe("/Info "+(fe-1)+" 0 R"),h!==null&&oe("/Encrypt "+Si.oid+" 0 R"),oe("/ID [ <"+z+"> <"+z+"> ]"),oe(">>")},Eu=b.__private__.putHeader=function(){oe("%PDF-"+A),oe("%ºß¬à")},bc=b.__private__.putXRef=function(){var E="0000000000";oe("xref"),oe("0 "+(fe+1)),oe("0000000000 65535 f ");for(var J=1;J<=fe;J++)typeof we[J]=="function"?oe((E+we[J]()).slice(-10)+" 00000 n "):we[J]!==void 0?oe((E+we[J]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},ja=b.__private__.buildDocument=function(){Ke(),ge(ce),an.publish("buildDocument"),Eu(),ys(),mc(),Ji(),h!==null&&Su(),bs(),xc();var E=ve;return bc(),Nu(),oe("startxref"),oe(""+E),oe("%%EOF"),ge(Te[$]),ce.join(`
`)},nl=b.__private__.getBlob=function(E){return new Blob([ot(E)],{type:"application/pdf"})},Ua=b.output=b.__private__.output=rr(function(E,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",E){case void 0:return ja();case"save":b.save(J.filename);break;case"arraybuffer":return ot(ja());case"blob":return nl(ja());case"bloburi":case"bloburl":if(Pt.URL!==void 0&&typeof Pt.URL.createObjectURL=="function")return Pt.URL&&Pt.URL.createObjectURL(nl(ja()))||void 0;Mn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",xe=ja();try{he=j1(xe)}catch{he=j1(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+J.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Me=J.pdfObjectUrl,Be="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",at=Pt.open();return at!==null&&at.document.write(Je),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',jt=Pt.open();if(jt!==null){jt.document.write(mt);var Ft=this;jt.document.documentElement.querySelector("#pdfViewer").onload=function(){jt.document.title=J.filename,jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ft.output("bloburl"))}}return jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',Dn=Pt.open();if(Dn!==null&&(Dn.document.write(Jt),Dn.document.title=J.filename),Dn||typeof safari>"u")return Dn;break;case"datauri":case"dataurl":return Pt.document.location.href=this.output("datauristring",J);default:return null}}),il=function(E){return Array.isArray(ka)===!0&&ka.indexOf(E)>-1};switch(i){case"pt":rt=1;break;case"mm":rt=72/25.4;break;case"cm":rt=72/2.54;break;case"in":rt=72;break;case"px":rt=il("px_scaling")==1?.75:96/72;break;case"pc":case"em":rt=12;break;case"ex":rt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);rt=i}var Si=null;le(),te();var ws=function(E){return h!==null?Si.encryptor(E,0):function(J){return J}},Ba=b.__private__.getPageInfo=b.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:It[E].objId,pageNumber:E,pageContext:It[E]}},Lt=b.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in It)if(It[J].objId===E)break;return Ba(J)},wc=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:It[$].objId,pageNumber:$,pageContext:It[$]}};b.addPage=function(){return gc.apply(this,arguments),this},b.setPage=function(){return Oa.apply(this,arguments),ge.call(this,Te[$]),this},b.insertPage=function(E){return this.addPage(),this.movePage($,E),this},b.movePage=function(E,J){var he,xe;if(E>J){he=Te[E],xe=It[E];for(var Me=E;Me>J;Me--)Te[Me]=Te[Me-1],It[Me]=It[Me-1];Te[J]=he,It[J]=xe,this.setPage(J)}else if(E<J){he=Te[E],xe=It[E];for(var Be=E;Be<J;Be++)Te[Be]=Te[Be+1],It[Be]=It[Be+1];Te[J]=he,It[J]=xe,this.setPage(J)}return this},b.deletePage=function(){return yc.apply(this,arguments),this},b.__private__.text=b.text=function(E,J,he,xe,Me){var Be,Je,at,mt,jt,Ft,Jt,Dn,jn,Qn=(xe=xe||{}).scope||this;if(typeof E=="number"&&typeof J=="number"&&(typeof he=="string"||Array.isArray(he))){var Zn=he;he=J,J=E,E=Zn}if(arguments[3]instanceof gt?(V("The transform parameter of text() with a Matrix value"),jn=Me):(at=arguments[4],mt=arguments[5],wn(Jt=arguments[3])==="object"&&Jt!==null||(typeof at=="string"&&(mt=at,at=null),typeof Jt=="string"&&(mt=Jt,Jt=null),typeof Jt=="number"&&(at=Jt,Jt=null),xe={flags:Jt,angle:at,align:mt})),isNaN(J)||isNaN(he)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return Qn;var Ci="",Xr=!1,Er=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:Tr,Qr=Qn.internal.scaleFactor;function Nc($t){return $t=$t.split("	").join(Array(xe.TabLen||9).join(" ")),Nn($t,Jt)}function qa($t){for(var Wt,Cn=$t.concat(),ei=[],Fr=Cn.length;Fr--;)typeof(Wt=Cn.shift())=="string"?ei.push(Wt):Array.isArray($t)&&(Wt.length===1||Wt[1]===void 0&&Wt[2]===void 0)?ei.push(Wt[0]):ei.push([Wt[0],Wt[1],Wt[2]]);return ei}function Va($t,Wt){var Cn;if(typeof $t=="string")Cn=Wt($t)[0];else if(Array.isArray($t)){for(var ei,Fr,Fs=$t.concat(),Os=[],$a=Fs.length;$a--;)typeof(ei=Fs.shift())=="string"?Os.push(Wt(ei)[0]):Array.isArray(ei)&&typeof ei[0]=="string"&&(Fr=Wt(ei[0],ei[1],ei[2]),Os.push([Fr[0],Fr[1],Fr[2]]));Cn=Os}return Cn}var pl=!1,Ns=!0;if(typeof E=="string")pl=!0;else if(Array.isArray(E)){var ml=E.concat();Je=[];for(var vo,hi=ml.length;hi--;)(typeof(vo=ml.shift())!="string"||Array.isArray(vo)&&typeof vo[0]!="string")&&(Ns=!1);pl=Ns}if(pl===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var Es=Xe/Qn.internal.scaleFactor,xo=Es*(Er-1);switch(xe.baseline){case"bottom":he-=xo;break;case"top":he+=Es-xo;break;case"hanging":he+=Es-2*xo;break;case"middle":he+=Es/2-xo}if((Ft=xe.maxWidth||0)>0&&(typeof E=="string"?E=Qn.splitTextToSize(E,Ft):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function($t,Wt){return $t.concat(Qn.splitTextToSize(Wt,Ft))},[]))),Be={text:E,x:J,y:he,options:xe,mutex:{pdfEscape:Nn,activeFontKey:Ut,fonts:Zt,activeFontSize:Xe}},an.publish("preProcessText",Be),E=Be.text,at=(xe=Be.options).angle,!(jn instanceof gt)&&at&&typeof at=="number"){at*=Math.PI/180,xe.rotationDirection===0&&(at=-at),N===L.ADVANCED&&(at=-at);var bo=Math.cos(at),gl=Math.sin(at);jn=new gt(bo,gl,-gl,bo,0,0)}else at&&at instanceof gt&&(jn=at);N!==L.ADVANCED||jn||(jn=On),(jt=xe.charSpace||ll)!==void 0&&(Ci+=B(j(jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Dn=xe.horizontalScale)!==void 0&&(Ci+=B(100*Dn)+` Tz
`),xe.lang;var sr=-1,ed=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,Ec=Qn.internal.getCurrentPageInfo().pageContext;switch(ed){case 0:case!1:case"fill":sr=0;break;case 1:case!0:case"stroke":sr=1;break;case 2:case"fillThenStroke":sr=2;break;case 3:case"invisible":sr=3;break;case 4:case"fillAndAddForClipping":sr=4;break;case 5:case"strokeAndAddPathForClipping":sr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":sr=6;break;case 7:case"addToPathForClipping":sr=7}var Ru=Ec.usedRenderingMode!==void 0?Ec.usedRenderingMode:-1;sr!==-1?Ci+=sr+` Tr
`:Ru!==-1&&(Ci+=`0 Tr
`),sr!==-1&&(Ec.usedRenderingMode=sr),mt=xe.align||"left";var Ir,Ai=Xe*Er,Ms=Qn.internal.pageSize.getWidth(),Mc=Zt[Ut];jt=xe.charSpace||ll,Ft=xe.maxWidth||0,Jt=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var Ha=[],Ps=function($t){return Qn.getStringUnitWidth($t,{font:Mc,charSpace:jt,fontSize:Xe,doKerning:!1})*Xe/Qr};if(Object.prototype.toString.call(E)==="[object Array]"){var Ki;Je=qa(E),mt!=="left"&&(Ir=Je.map(Ps));var Di,Ls=0;if(mt==="right"){J-=Ir[0],E=[],hi=Je.length;for(var or=0;or<hi;or++)or===0?(Di=Nr(J),Ki=ma(he)):(Di=j(Ls-Ir[or]),Ki=-Ai),E.push([Je[or],Di,Ki]),Ls=Ir[or]}else if(mt==="center"){J-=Ir[0]/2,E=[],hi=Je.length;for(var Zr=0;Zr<hi;Zr++)Zr===0?(Di=Nr(J),Ki=ma(he)):(Di=j((Ls-Ir[Zr])/2),Ki=-Ai),E.push([Je[Zr],Di,Ki]),Ls=Ir[Zr]}else if(mt==="left"){E=[],hi=Je.length;for(var ga=0;ga<hi;ga++)E.push(Je[ga])}else if(mt==="justify"&&Mc.encoding==="Identity-H"){E=[],hi=Je.length,Ft=Ft!==0?Ft:Ms;for(var ea=0,Gn=0;Gn<hi;Gn++)if(Ki=Gn===0?ma(he):-Ai,Di=Gn===0?Nr(J):ea,Gn<hi-1){var ta=j((Ft-Ir[Gn])/(Je[Gn].split(" ").length-1)),ai=Je[Gn].split(" ");E.push([ai[0]+" ",Di,Ki]),ea=0;for(var lr=1;lr<ai.length;lr++){var wo=(Ps(ai[lr-1]+" "+ai[lr])-Ps(ai[lr]))*Qr+ta;lr==ai.length-1?E.push([ai[lr],wo,0]):E.push([ai[lr]+" ",wo,0]),ea-=wo}}else E.push([Je[Gn],Di,Ki]);E.push(["",ea,0])}else{if(mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],hi=Je.length,Ft=Ft!==0?Ft:Ms,Gn=0;Gn<hi;Gn++)Ki=Gn===0?ma(he):-Ai,Di=Gn===0?Nr(J):0,Gn<hi-1?Ha.push(B(j((Ft-Ir[Gn])/(Je[Gn].split(" ").length-1)))):Ha.push(0),E.push([Je[Gn],Di,Ki])}}var ya=typeof xe.R2L=="boolean"?xe.R2L:ft;ya===!0&&(E=Va(E,function($t,Wt,Cn){return[$t.split("").reverse().join(""),Wt,Cn]})),Be={text:E,x:J,y:he,options:xe,mutex:{pdfEscape:Nn,activeFontKey:Ut,fonts:Zt,activeFontSize:Xe}},an.publish("postProcessText",Be),E=Be.text,Xr=Be.mutex.isHex||!1;var yl=Zt[Ut].encoding;yl!=="WinAnsiEncoding"&&yl!=="StandardEncoding"||(E=Va(E,function($t,Wt,Cn){return[Nc($t),Wt,Cn]})),Je=qa(E),E=[];for(var Ds,Rs,ks,_o=0,vl=1,Is=Array.isArray(Je[0])?vl:_o,Ga="",So=function($t,Wt,Cn){var ei="";return Cn instanceof gt?(Cn=typeof xe.angle=="number"?Sn(Cn,new gt(1,0,0,1,$t,Wt)):Sn(new gt(1,0,0,1,$t,Wt),Cn),N===L.ADVANCED&&(Cn=Sn(new gt(1,0,0,-1,0,0),Cn)),ei=Cn.join(" ")+` Tm
`):ei=B($t)+" "+B(Wt)+` Td
`,ei},$n=0;$n<Je.length;$n++){switch(Ga="",Is){case vl:ks=(Xr?"<":"(")+Je[$n][0]+(Xr?">":")"),Ds=parseFloat(Je[$n][1]),Rs=parseFloat(Je[$n][2]);break;case _o:ks=(Xr?"<":"(")+Je[$n]+(Xr?">":")"),Ds=Nr(J),Rs=ma(he)}Ha!==void 0&&Ha[$n]!==void 0&&(Ga=Ha[$n]+` Tw
`),$n===0?E.push(Ga+So(Ds,Rs,jn)+ks):Is===_o?E.push(Ga+ks):Is===vl&&E.push(Ga+So(Ds,Rs,jn)+ks)}E=Is===_o?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var Mr=`BT
/`;return Mr+=Ut+" "+Xe+` Tf
`,Mr+=B(Xe*Er)+` TL
`,Mr+=go+`
`,Mr+=Ci,Mr+=E,oe(Mr+="ET"),x[Ut]=!0,Qn};var Mu=b.__private__.clip=b.clip=function(E){return oe(E==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Mu("evenodd")},b.__private__.discardPath=b.discardPath=function(){return oe("n"),this};var ar=b.__private__.isValidStyle=function(E){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(J=!0),J};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(E){return ar(E)&&(f=E),this};var Rr=b.__private__.getStyle=b.getStyle=function(E){var J=f;switch(E){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=E}return J},rl=b.close=function(){return oe("h"),this};b.stroke=function(){return oe("S"),this},b.fill=function(E){return da("f",E),this},b.fillEvenOdd=function(E){return da("f*",E),this},b.fillStroke=function(E){return da("B",E),this},b.fillStrokeEvenOdd=function(E){return da("B*",E),this};var da=function(E,J){wn(J)==="object"?al(J,E):oe(E)},kr=function(E){E===null||N===L.ADVANCED&&E===void 0||(E=Rr(E),oe(E))};function _c(E,J,he,xe,Me){var Be=new su(J||this.boundingBox,he||this.xStep,xe||this.yStep,this.gState,Me||this.matrix);Be.stream=this.stream;var Je=E+"$$"+this.cloneIndex+++"$$";return di(Je,Be),Be}var al=function(E,J){var he=gs[E.key],xe=cn[he];if(xe instanceof Ql)oe("q"),oe(Pu(J)),xe.gState&&b.setGState(xe.gState),oe(E.matrix.toString()+" cm"),oe("/"+he+" sh"),oe("Q");else if(xe instanceof su){var Me=new gt(1,0,0,-1,0,Ts());E.matrix&&(Me=Me.multiply(E.matrix||On),he=_c.call(xe,E.key,E.boundingBox,E.xStep,E.yStep,Me).id),oe("q"),oe("/Pattern cs"),oe("/"+he+" scn"),xe.gState&&b.setGState(xe.gState),oe(J),oe("Q")}},Pu=function(E){switch(E){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},_s=b.moveTo=function(E,J){return oe(B(j(E))+" "+B(Z(J))+" m"),this},ha=b.lineTo=function(E,J){return oe(B(j(E))+" "+B(Z(J))+" l"),this},za=b.curveTo=function(E,J,he,xe,Me,Be){return oe([B(j(E)),B(Z(J)),B(j(he)),B(Z(xe)),B(j(Me)),B(Z(Be)),"c"].join(" ")),this};b.__private__.line=b.line=function(E,J,he,xe,Me){if(isNaN(E)||isNaN(J)||isNaN(he)||isNaN(xe)||!ar(Me))throw new Error("Invalid arguments passed to jsPDF.line");return N===L.COMPAT?this.lines([[he-E,xe-J]],E,J,[1,1],Me||"S"):this.lines([[he-E,xe-J]],E,J,[1,1]).stroke()},b.__private__.lines=b.lines=function(E,J,he,xe,Me,Be){var Je,at,mt,jt,Ft,Jt,Dn,jn,Qn,Zn,Ci,Xr;if(typeof E=="number"&&(Xr=he,he=J,J=E,E=Xr),xe=xe||[1,1],Be=Be||!1,isNaN(J)||isNaN(he)||!Array.isArray(E)||!Array.isArray(xe)||!ar(Me)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_s(J,he),Je=xe[0],at=xe[1],jt=E.length,Zn=J,Ci=he,mt=0;mt<jt;mt++)(Ft=E[mt]).length===2?(Zn=Ft[0]*Je+Zn,Ci=Ft[1]*at+Ci,ha(Zn,Ci)):(Jt=Ft[0]*Je+Zn,Dn=Ft[1]*at+Ci,jn=Ft[2]*Je+Zn,Qn=Ft[3]*at+Ci,Zn=Ft[4]*Je+Zn,Ci=Ft[5]*at+Ci,za(Jt,Dn,jn,Qn,Zn,Ci));return Be&&rl(),kr(Me),this},b.path=function(E){for(var J=0;J<E.length;J++){var he=E[J],xe=he.c;switch(he.op){case"m":_s(xe[0],xe[1]);break;case"l":ha(xe[0],xe[1]);break;case"c":za.apply(this,xe);break;case"h":rl()}}return this},b.__private__.rect=b.rect=function(E,J,he,xe,Me){if(isNaN(E)||isNaN(J)||isNaN(he)||isNaN(xe)||!ar(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return N===L.COMPAT&&(xe=-xe),oe([B(j(E)),B(Z(J)),B(j(he)),B(j(xe)),"re"].join(" ")),kr(Me),this},b.__private__.triangle=b.triangle=function(E,J,he,xe,Me,Be,Je){if(isNaN(E)||isNaN(J)||isNaN(he)||isNaN(xe)||isNaN(Me)||isNaN(Be)||!ar(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-E,xe-J],[Me-he,Be-xe],[E-Me,J-Be]],E,J,[1,1],Je,!0),this},b.__private__.roundedRect=b.roundedRect=function(E,J,he,xe,Me,Be,Je){if(isNaN(E)||isNaN(J)||isNaN(he)||isNaN(xe)||isNaN(Me)||isNaN(Be)||!ar(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*he),Be=Math.min(Be,.5*xe),this.lines([[he-2*Me,0],[Me*at,0,Me,Be-Be*at,Me,Be],[0,xe-2*Be],[0,Be*at,-Me*at,Be,-Me,Be],[2*Me-he,0],[-Me*at,0,-Me,-Be*at,-Me,-Be],[0,2*Be-xe],[0,-Be*at,Me*at,-Be,Me,-Be]],E+Me,J,[1,1],Je,!0),this},b.__private__.ellipse=b.ellipse=function(E,J,he,xe,Me){if(isNaN(E)||isNaN(J)||isNaN(he)||isNaN(xe)||!ar(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*he,Je=4/3*(Math.SQRT2-1)*xe;return _s(E+he,J),za(E+he,J-Je,E+Be,J-xe,E,J-xe),za(E-Be,J-xe,E-he,J-Je,E-he,J),za(E-he,J+Je,E-Be,J+xe,E,J+xe),za(E+Be,J+xe,E+he,J+Je,E+he,J),kr(Me),this},b.__private__.circle=b.circle=function(E,J,he,xe){if(isNaN(E)||isNaN(J)||isNaN(he)||!ar(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,J,he,he,xe)},b.setFont=function(E,J,he){return he&&(J=Y(J,he)),Ut=vc(E,J,{disableWarning:!1}),this};var zi=b.__private__.getFont=b.getFont=function(){return Zt[vc.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var E,J,he={};for(E in pn)if(pn.hasOwnProperty(E))for(J in he[E]=[],pn[E])pn[E].hasOwnProperty(J)&&he[E].push(J);return he},b.addFont=function(E,J,he,xe,Me){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(he=Y(he,xe)),Me=Me||"Identity-H",xs.call(this,E,J,he,Me)};var Tr,Ss=t.lineWidth||.200025,pa=b.__private__.getLineWidth=b.getLineWidth=function(){return Ss},Lu=b.__private__.setLineWidth=b.setLineWidth=function(E){return Ss=E,oe(B(j(E))+" w"),this};b.__private__.setLineDash=_t.API.setLineDash=_t.API.setLineDashPattern=function(E,J){if(E=E||[],J=J||0,isNaN(J)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(he){return B(j(he))}).join(" "),J=B(j(J)),oe("["+E+"] "+J+" d"),this};var sl=b.__private__.getLineHeight=b.getLineHeight=function(){return Xe*Tr};b.__private__.getLineHeight=b.getLineHeight=function(){return Xe*Tr};var ol=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(Tr=E),this},Cs=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Tr};ol(t.lineHeight);var Nr=b.__private__.getHorizontalCoordinate=function(E){return j(E)},ma=b.__private__.getVerticalCoordinate=function(E){return N===L.ADVANCED?E:It[$].mediaBox.topRightY-It[$].mediaBox.bottomLeftY-j(E)},Kf=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(E){return B(Nr(E))},As=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(E){return B(ma(E))},Kr=t.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Ui(Kr)},b.__private__.setStrokeColor=b.setDrawColor=function(E,J,he,xe){return Kr=Bi({ch1:E,ch2:J,ch3:he,ch4:xe,pdfColorType:"draw",precision:2}),oe(Kr),this};var mo=t.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Ui(mo)},b.__private__.setFillColor=b.setFillColor=function(E,J,he,xe){return mo=Bi({ch1:E,ch2:J,ch3:he,ch4:xe,pdfColorType:"fill",precision:2}),oe(mo),this};var go=t.textColor||"0 g",Xf=b.__private__.getTextColor=b.getTextColor=function(){return Ui(go)};b.__private__.setTextColor=b.setTextColor=function(E,J,he,xe){return go=Bi({ch1:E,ch2:J,ch3:he,ch4:xe,pdfColorType:"text",precision:3}),this};var ll=t.charSpace,Qf=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(ll||0)};b.__private__.setCharSpace=b.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ll=E,this};var Sc=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(E){var J=b.CapJoinStyles[E];if(J===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sc=J,oe(J+" J"),this};var cl=0;b.__private__.setLineJoin=b.setLineJoin=function(E){var J=b.CapJoinStyles[E];if(J===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cl=J,oe(J+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(B(j(E))+" M"),this},b.GState=Dh,b.setGState=function(E){(E=typeof E=="string"?Fn[wr[E]]:Du(null,E)).equals(_r)||(oe("/"+E.id+" gs"),_r=E)};var Du=function(E,J){if(!E||!wr[E]){var he=!1;for(var xe in Fn)if(Fn.hasOwnProperty(xe)&&Fn[xe].equals(J)){he=!0;break}if(he)J=Fn[xe];else{var Me="GS"+(Object.keys(Fn).length+1).toString(10);Fn[Me]=J,J.id=Me}return E&&(wr[E]=J.id),an.publish("addGState",J),J}};b.addGState=function(E,J){return Du(E,J),this},b.saveGraphicsState=function(){return oe("q"),nr.push({key:Ut,size:Xe,color:go}),this},b.restoreGraphicsState=function(){oe("Q");var E=nr.pop();return Ut=E.key,Xe=E.size,go=E.color,_r=null,this},b.setCurrentTransformationMatrix=function(E){return oe(E.toString()+" cm"),this},b.comment=function(E){return oe("#"+E),this};var ul=function(E,J){var he=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(Be){isNaN(Be)||(he=parseFloat(Be))}});var xe=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Be){isNaN(Be)||(xe=parseFloat(Be))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(Be){Me=Be.toString()}}),this},Cc=function(E,J,he,xe){ul.call(this,E,J),this.type="rect";var Me=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(Je){isNaN(Je)||(Me=parseFloat(Je))}});var Be=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Je){isNaN(Je)||(Be=parseFloat(Je))}}),this},Ac=function(){this.page=Vn,this.currentPage=$,this.pages=Te.slice(0),this.pagesContext=It.slice(0),this.x=Pi,this.y=zt,this.matrix=Kn,this.width=yo($),this.height=Ts($),this.outputDestination=je,this.id="",this.objectNumber=-1};Ac.prototype.restore=function(){Vn=this.page,$=this.currentPage,It=this.pagesContext,Te=this.pages,Pi=this.x,zt=this.y,Kn=this.matrix,hl($,this.width),Tc($,this.height),je=this.outputDestination};var fl=function(E,J,he,xe,Me){fa.push(new Ac),Vn=$=0,Te=[],Pi=E,zt=J,Kn=Me,po([he,xe])},Zf=function(E){if(Wr[E])fa.pop().restore();else{var J=new Ac,he="Xo"+(Object.keys(fi).length+1).toString(10);J.id=he,Wr[E]=he,fi[he]=J,an.publish("addFormObject",J),fa.pop().restore()}};for(var dl in b.beginFormObject=function(E,J,he,xe,Me){return fl(E,J,he,xe,Me),this},b.endFormObject=function(E){return Zf(E),this},b.doFormObject=function(E,J){var he=fi[Wr[E]];return oe("q"),oe(J.toString()+" cm"),oe("/"+he.id+" Do"),oe("Q"),this},b.getFormObject=function(E){var J=fi[Wr[E]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},b.save=function(E,J){return E=E||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(nu(nl(ja()),E),typeof nu.unload=="function"&&Pt.setTimeout&&setTimeout(nu.unload,911),this):new Promise(function(he,xe){try{var Me=nu(nl(ja()),E);typeof nu.unload=="function"&&Pt.setTimeout&&setTimeout(nu.unload,911),he(Me)}catch(Be){xe(Be.message)}})},_t.API)_t.API.hasOwnProperty(dl)&&(dl==="events"&&_t.API.events.length?function(E,J){var he,xe,Me;for(Me=J.length-1;Me!==-1;Me--)he=J[Me][0],xe=J[Me][1],E.subscribe.apply(E,[he].concat(typeof xe=="function"?[xe]:xe))}(an,_t.API.events):b[dl]=_t.API[dl]);var yo=b.getPageWidth=function(E){return(It[E=E||$].mediaBox.topRightX-It[E].mediaBox.bottomLeftX)/rt},hl=b.setPageWidth=function(E,J){It[E].mediaBox.topRightX=J*rt+It[E].mediaBox.bottomLeftX},Ts=b.getPageHeight=function(E){return(It[E=E||$].mediaBox.topRightY-It[E].mediaBox.bottomLeftY)/rt},Tc=b.setPageHeight=function(E,J){It[E].mediaBox.topRightY=J*rt+It[E].mediaBox.bottomLeftY};return b.internal={pdfEscape:Nn,getStyle:Rr,getFont:zi,getFontSize:Ze,getCharSpace:Qf,getTextColor:Xf,getLineHeight:sl,getLineHeightFactor:Cs,getLineWidth:pa,write:Ue,getHorizontalCoordinate:Nr,getVerticalCoordinate:ma,getCoordinateString:Kf,getVerticalCoordinateString:As,collections:{},newObject:Xn,newAdditionalObject:co,newObjectDeferred:ri,newObjectDeferredBegin:Sr,getFilters:ir,putStream:Li,events:an,scaleFactor:rt,pageSize:{getWidth:function(){return yo($)},setWidth:function(E){hl($,E)},getHeight:function(){return Ts($)},setHeight:function(E){Tc($,E)}},encryptionOptions:h,encryption:Si,getEncryptor:ws,output:Ua,getNumberOfPages:Tu,pages:Te,out:oe,f2:K,f3:O,getPageInfo:Ba,getPageInfoByObjId:Lt,getCurrentPageInfo:wc,getPDFVersion:C,Point:ul,Rectangle:Cc,Matrix:gt,hasHotfix:il},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return yo($)},set:function(E){hl($,E)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Ts($)},set:function(E){Tc($,E)},enumerable:!0,configurable:!0}),Au.call(b,qe),Ut="F1",gc(r,n),an.publish("initialized"),b}Af.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Af.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Af.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Af.prototype.processOwnerPassword=function(t,e){return B1(U1(e).substr(0,5),t)},Af.prototype.encryptor=function(t,e){var n=U1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return B1(n,i)}},Dh.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||wn(t)!==wn(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return i===0},_t.API={events:[]},_t.version="2.5.2";var ui=_t.API,Ry=1,wu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Bt=function(t){return t.toFixed(2)},$l=function(t){return t.toFixed(5)};ui.__acroform__={};var $r=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ow=function(t){return t*Ry},Zs=function(t){var e=new n3,n=ht.internal.getHeight(t)||0,i=ht.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Bt(i)),Number(Bt(n))],e},VF=ui.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},HF=ui.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},GF=ui.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},xi=ui.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return GF(t,e-1)},bi=ui.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return VF(t,e-1)},wi=ui.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return HF(t,e-1)},$F=ui.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=t[0],a=t[1],o=t[2],c=t[3],u={};return u.lowerLeft_X=n(r)||0,u.lowerLeft_Y=i(a+c)||0,u.upperRight_X=n(r+o)||0,u.upperRight_Y=i(a)||0,[Number(Bt(u.lowerLeft_X)),Number(Bt(u.lowerLeft_Y)),Number(Bt(u.upperRight_X)),Number(Bt(u.upperRight_Y))]},WF=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,i=z1(t,n),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+r+" "+Bt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Zs(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},z1=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=t.multiline?r.map(function(O){return O.split(`
`)}):r.map(function(O){return[O]});var a=n,o=ht.internal.getHeight(t)||0;o=o<0?-o:o;var c=ht.internal.getWidth(t)||0;c=c<0?-c:c;var u=function(O,j,Q){if(O+1<r.length){var Z=j+" "+r[O+1][0];return dm(Z,t,Q).width<=c-4}return!1};a++;e:for(;a>0;){e="",a--;var f,h,g=dm("3",t,a).height,x=t.multiline?o-a:(o-g)/2,b=x+=2,A=0,C=0,P=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+dm(e,t,a=12).width+", FieldWidth:"+c+`
`;break}for(var M="",L=0,N=0;N<r.length;N++)if(r.hasOwnProperty(N)){var R=!1;if(r[N].length!==1&&P!==r[N].length-1){if((g+2)*(L+2)+2>o)continue e;M+=r[N][P],R=!0,C=N,N--}else{M=(M+=r[N][P]+" ").substr(M.length-1)==" "?M.substr(0,M.length-1):M;var F=parseInt(N),Y=u(F,M,a),B=N>=r.length-1;if(Y&&!B){M+=" ",P=0;continue}if(Y||B){if(B)C=F;else if(t.multiline&&(g+2)*(L+2)+2>o)continue e}else{if(!t.multiline||(g+2)*(L+2)+2>o)continue e;C=F}}for(var V="",X=A;X<=C;X++){var K=r[X];if(t.multiline){if(X===C){V+=K[P]+" ",P=(P+1)%K.length;continue}if(X===A){V+=K[K.length-1]+" ";continue}}V+=K[0]+" "}switch(V=V.substr(V.length-1)==" "?V.substr(0,V.length-1):V,h=dm(V,t,a).width,t.textAlign){case"right":f=c-h-2;break;case"center":f=(c-h)/2;break;case"left":default:f=2}e+=Bt(f)+" "+Bt(b)+` Td
`,e+="("+wu(V)+`) Tj
`,e+=-Bt(f)+` 0 Td
`,b=-(a+2),h=0,A=R?C:C+1,L++,M=""}break}return i.text=e,i.fontSize=a,i},dm=function(t,e,n){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},YF={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},JF=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},KF=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=n,r=t[n];e.internal.newObjectDeferredBegin(r.objId,!0),wn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete t[i]}},XF=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ps.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(YF)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ry=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new i3,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];a.objId=void 0,a.hasAnnotation&&JF(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(i,r){var a=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var c=i[o],u=[],f=c.Rect;if(c.Rect&&(c.Rect=$F(c.Rect,r)),r.internal.newObjectDeferredBegin(c.objId,!0),c.DA=ht.createDefaultAppearanceStream(c),wn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var h=WF(c);u.push({key:"AP",value:"<</N "+h+">>"}),r.internal.acroformPlugin.xForms.push(h)}if(c.appearanceStreamContent){var g="";for(var x in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(x)){var b=c.appearanceStreamContent[x];if(g+="/"+x+" ",g+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var o in b)if(b.hasOwnProperty(o)){var A=b[o];typeof A=="function"&&(A=A.call(r,c)),g+="/"+o+" "+A+" ",r.internal.acroformPlugin.xForms.indexOf(A)>=0||r.internal.acroformPlugin.xForms.push(A)}}else typeof(A=b)=="function"&&(A=A.call(r,c)),g+="/"+o+" "+A,r.internal.acroformPlugin.xForms.indexOf(A)>=0||r.internal.acroformPlugin.xForms.push(A);g+=">>"}u.push({key:"AP",value:`<<
`+g+">>"})}r.internal.putStream({additionalKeyValues:u,objectId:c.objId}),r.internal.out("endobj")}a&&KF(r.internal.acroformPlugin.xForms,r)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},t3=ui.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(o){return o};if(Array.isArray(t)){for(var r="[",a=0;a<t.length;a++)switch(a!==0&&(r+=" "),wn(t[a])){case"boolean":case"number":case"object":r+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(i=n.internal.getEncryptor(e)),r+="("+wu(i(t[a].toString()))+")"):r+=t[a].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Y0=function(t,e,n){var i=function(r){return r};return e!==void 0&&n&&(i=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+wu(i(t))+")"},no=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};no.prototype.toString=function(){return this.objId+" 0 R"},no.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},no.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var i=e[n],r=this[i];r&&(Array.isArray(r)?t.push({key:i,value:t3(r,this.objId,this.scope)}):r instanceof no?(r.scope=this.scope,t.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&t.push({key:i,value:r}))}return t};var n3=function(){no.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};$r(n3,no);var i3=function(){no.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+wu(n(t))+")"}},set:function(n){t=n}})};$r(i3,no);var ps=function t(){no.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute F supplied.');e=M}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xi(e,3)},set:function(M){M?this.F=bi(e,3):this.F=wi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(M){if(isNaN(M))throw new Error('Invalid value "'+M+'" for attribute Ff supplied.');n=M}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(M){i=M!==void 0?M:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(M){i[0]=M}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(M){i[1]=M}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(M){i[2]=M}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(M){i[3]=M}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(M){switch(M){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=M;break;default:throw new Error('Invalid value "'+M+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof $m)return;a="FieldObject"+t.FieldNum++}var M=function(L){return L};return this.scope&&(M=this.scope.internal.getEncryptor(this.objId)),"("+wu(M(a))+")"},set:function(M){a=M.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(M){a=M}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(M){o=M}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(M){c=M}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(M){u=M}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/Ry:f},set:function(M){f=M}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(M){h=M}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof $m||this instanceof ac))return Y0(g,this.objId,this.scope)},set:function(M){M=M.toString(),g=M}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Ii?x:Y0(x,this.objId,this.scope)},set:function(M){M=M.toString(),x=this instanceof Ii?M:M.substr(0,1)==="("?wf(M.substr(1,M.length-2)):wf(M)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ii?wf(x.substr(1,x.length-1)):x},set:function(M){M=M.toString(),x=this instanceof Ii?"/"+M:M}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(M){this.V=M}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ii?b:Y0(b,this.objId,this.scope)},set:function(M){M=M.toString(),b=this instanceof Ii?M:M.substr(0,1)==="("?wf(M.substr(1,M.length-2)):wf(M)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ii?wf(b.substr(1,b.length-1)):b},set:function(M){M=M.toString(),b=this instanceof Ii?"/"+M:M}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(M){M=!!M,C=M}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(M){A=M}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,1)},set:function(M){M?this.Ff=bi(this.Ff,1):this.Ff=wi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,2)},set:function(M){M?this.Ff=bi(this.Ff,2):this.Ff=wi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,3)},set:function(M){M?this.Ff=bi(this.Ff,3):this.Ff=wi(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(M){if([0,1,2].indexOf(M)===-1)throw new Error('Invalid value "'+M+'" for attribute Q supplied.');P=M}}),Object.defineProperty(this,"textAlign",{get:function(){var M;switch(P){case 0:default:M="left";break;case 1:M="center";break;case 2:M="right"}return M},configurable:!0,enumerable:!0,set:function(M){switch(M){case"right":case 2:P=2;break;case"center":case 1:P=1;break;case"left":case 0:default:P=0}}})};$r(ps,no);var cu=function(){ps.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return t3(e,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=function(a,o,c){c||(c=1);for(var u,f=[];u=o.exec(a);)f.push(u[c]);return f}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,18)},set:function(n){n?this.Ff=bi(this.Ff,18):this.Ff=wi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=bi(this.Ff,19):this.Ff=wi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,20)},set:function(n){n?(this.Ff=bi(this.Ff,20),e.sort()):this.Ff=wi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,22)},set:function(n){n?this.Ff=bi(this.Ff,22):this.Ff=wi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,23)},set:function(n){n?this.Ff=bi(this.Ff,23):this.Ff=wi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,27)},set:function(n){n?this.Ff=bi(this.Ff,27):this.Ff=wi(this.Ff,27)}}),this.hasAppearanceStream=!1};$r(cu,ps);var uu=function(){cu.call(this),this.fontName="helvetica",this.combo=!1};$r(uu,cu);var fu=function(){uu.call(this),this.combo=!0};$r(fu,uu);var vh=function(){fu.call(this),this.edit=!0};$r(vh,fu);var Ii=function(){ps.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,15)},set:function(n){n?this.Ff=bi(this.Ff,15):this.Ff=wi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,16)},set:function(n){n?this.Ff=bi(this.Ff,16):this.Ff=wi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,17)},set:function(n){n?this.Ff=bi(this.Ff,17):this.Ff=wi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,26)},set:function(n){n?this.Ff=bi(this.Ff,26):this.Ff=wi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+wu(n(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){wn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};$r(Ii,ps);var xh=function(){Ii.call(this),this.pushButton=!0};$r(xh,Ii);var du=function(){Ii.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};$r(du,Ii);var $m=function(){var t,e;ps.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(c){return c};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),i)o.push("/"+a+" ("+wu(r(i[a]))+")");return o.push(">>"),o.join(`
`)},set:function(r){wn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ht.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$r($m,ps),du.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},du.prototype.createOption=function(t){var e=new $m;return e.Parent=this,e.optionName=t,this.Kids.push(e),QF.call(this.scope,e),e};var bh=function(){Ii.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ht.CheckBox.createAppearanceStream()};$r(bh,Ii);var ac=function(){ps.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,13)},set:function(e){e?this.Ff=bi(this.Ff,13):this.Ff=wi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,21)},set:function(e){e?this.Ff=bi(this.Ff,21):this.Ff=wi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,23)},set:function(e){e?this.Ff=bi(this.Ff,23):this.Ff=wi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,24)},set:function(e){e?this.Ff=bi(this.Ff,24):this.Ff=wi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,25)},set:function(e){e?this.Ff=bi(this.Ff,25):this.Ff=wi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,26)},set:function(e){e?this.Ff=bi(this.Ff,26):this.Ff=wi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$r(ac,ps);var wh=function(){ac.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,14)},set:function(t){t?this.Ff=bi(this.Ff,14):this.Ff=wi(this.Ff,14)}}),this.password=!0};$r(wh,ac);var ht={CheckBox:{createAppearanceStream:function(){return{N:{On:ht.CheckBox.YesNormal},D:{On:ht.CheckBox.YesPushDown,Off:ht.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Zs(t);e.scope=t.scope;var n=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),a=z1(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Bt(ht.internal.getWidth(t))+" "+Bt(ht.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Bt(a.fontSize)+" Tf "+r),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Zs(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),r=[],a=ht.internal.getHeight(t),o=ht.internal.getWidth(t),c=z1(t,t.caption);return r.push("1 g"),r.push("0 0 "+Bt(o)+" "+Bt(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Bt(o-1)+" "+Bt(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+Bt(c.fontSize)+" Tf "+i),r.push(c.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Zs(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Bt(ht.internal.getWidth(t))+" "+Bt(ht.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ht.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ht.RadioButton.Circle.YesNormal,e.D[t]=ht.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Zs(t);e.scope=t.scope;var n=[],i=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=ht.internal.Bezier_C,a=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+$l(ht.internal.getWidth(t)/2)+" "+$l(ht.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Zs(t);e.scope=t.scope;var n=[],i=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*ht.internal.Bezier_C).toFixed(5)),o=Number((i*ht.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$l(ht.internal.getWidth(t)/2)+" "+$l(ht.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+$l(ht.internal.getWidth(t)/2)+" "+$l(ht.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Zs(t);e.scope=t.scope;var n=[],i=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*ht.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+$l(ht.internal.getWidth(t)/2)+" "+$l(ht.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ht.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ht.RadioButton.Cross.YesNormal,e.D[t]=ht.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Zs(t);e.scope=t.scope;var n=[],i=ht.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Bt(ht.internal.getWidth(t)-2)+" "+Bt(ht.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Bt(i.x1.x)+" "+Bt(i.x1.y)+" m"),n.push(Bt(i.x2.x)+" "+Bt(i.x2.y)+" l"),n.push(Bt(i.x4.x)+" "+Bt(i.x4.y)+" m"),n.push(Bt(i.x3.x)+" "+Bt(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Zs(t);e.scope=t.scope;var n=ht.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+Bt(ht.internal.getWidth(t))+" "+Bt(ht.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Bt(ht.internal.getWidth(t)-2)+" "+Bt(ht.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(Bt(n.x1.x)+" "+Bt(n.x1.y)+" m"),i.push(Bt(n.x2.x)+" "+Bt(n.x2.y)+" l"),i.push(Bt(n.x4.x)+" "+Bt(n.x4.y)+" m"),i.push(Bt(n.x3.x)+" "+Bt(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Zs(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Bt(ht.internal.getWidth(t))+" "+Bt(ht.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};ht.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ht.internal.getWidth(t),n=ht.internal.getHeight(t),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},ht.internal.getWidth=function(t){var e=0;return wn(t)==="object"&&(e=ow(t.Rect[2])),e},ht.internal.getHeight=function(t){var e=0;return wn(t)==="object"&&(e=ow(t.Rect[3])),e};var QF=ui.addField=function(t){if(XF(this,t),!(t instanceof ps))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ui.AcroFormChoiceField=cu,ui.AcroFormListBox=uu,ui.AcroFormComboBox=fu,ui.AcroFormEditBox=vh,ui.AcroFormButton=Ii,ui.AcroFormPushButton=xh,ui.AcroFormRadioButton=du,ui.AcroFormCheckBox=bh,ui.AcroFormTextField=ac,ui.AcroFormPasswordField=wh,ui.AcroFormAppearance=ht,ui.AcroForm={ChoiceField:cu,ListBox:uu,ComboBox:fu,EditBox:vh,Button:Ii,PushButton:xh,RadioButton:du,CheckBox:bh,TextField:ac,PasswordField:wh,Appearance:ht},_t.AcroForm={ChoiceField:cu,ListBox:uu,ComboBox:fu,EditBox:vh,Button:Ii,PushButton:xh,RadioButton:du,CheckBox:bh,TextField:ac,PasswordField:wh,Appearance:ht};var ZF=_t.AcroForm;function r3(t){return t.reduce(function(e,n,i){return e[n]=i,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(O,j){var Q,Z,me,z,G,te=e;if((j=j||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(Y(O))for(G in n)for(me=n[G],Q=0;Q<me.length;Q+=1){for(z=!0,Z=0;Z<me[Q].length;Z+=1)if(me[Q][Z]!==void 0&&me[Q][Z]!==O[Z]){z=!1;break}if(z===!0){te=G;break}}else for(G in n)for(me=n[G],Q=0;Q<me.length;Q+=1){for(z=!0,Z=0;Z<me[Q].length;Z+=1)if(me[Q][Z]!==void 0&&me[Q][Z]!==O.charCodeAt(Z)){z=!1;break}if(z===!0){te=G;break}}return te===e&&j!==e&&(te=j),te},r=function O(j){for(var Q=this.internal.write,Z=this.internal.putStream,me=(0,this.internal.getFilters)();me.indexOf("FlateEncode")!==-1;)me.splice(me.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:j.width}),z.push({key:"Height",value:j.height}),j.colorSpace===P.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===P.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var G="",te=0,H=j.transparency.length;te<H;te++)G+=j.transparency[te]+" "+j.transparency[te]+" ";z.push({key:"Mask",value:"["+G+"]"})}j.sMask!==void 0&&z.push({key:"SMask",value:j.objectId+1+" 0 R"});var U=j.filter!==void 0?["/"+j.filter]:void 0;if(Z({data:j.data,additionalKeyValues:z,alreadyAppliedFilters:U,objectId:j.objectId}),Q("endobj"),"sMask"in j&&j.sMask!==void 0){var le="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,k={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:le,data:j.sMask};"filter"in j&&(k.filter=j.filter),O.call(this,k)}if(j.colorSpace===P.INDEXED){var $=this.internal.newObject();Z({data:V(new Uint8Array(j.palette)),objectId:$}),Q("endobj")}},a=function(){var O=this.internal.collections.addImage_images;for(var j in O)r.call(this,O[j])},o=function(){var O,j=this.internal.collections.addImage_images,Q=this.internal.write;for(var Z in j)Q("/I"+(O=j[Z]).index,O.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var O=this.internal.collections.addImage_images;return c.call(this),O},f=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(O){return typeof t["process"+O.toUpperCase()]=="function"},g=function(O){return wn(O)==="object"&&O.nodeType===1},x=function(O,j){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var Q=""+O.getAttribute("src");if(Q.indexOf("data:image/")===0)return yh(unescape(Q).split("base64,").pop());var Z=t.loadFile(Q,!0);if(Z!==void 0)return Z}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var me;switch(j){case"PNG":me="image/png";break;case"WEBP":me="image/webp";break;case"JPEG":case"JPG":default:me="image/jpeg"}return yh(O.toDataURL(me,1).split("base64,").pop())}},b=function(O){var j=this.internal.collections.addImage_images;if(j){for(var Q in j)if(O===j[Q].alias)return j[Q]}},A=function(O,j,Q){return O||j||(O=-96,j=-96),O<0&&(O=-1*Q.width*72/O/this.internal.scaleFactor),j<0&&(j=-1*Q.height*72/j/this.internal.scaleFactor),O===0&&(O=j*Q.width/Q.height),j===0&&(j=O*Q.height/Q.width),[O,j]},C=function(O,j,Q,Z,me,z){var G=A.call(this,Q,Z,me),te=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,U=u.call(this);if(Q=G[0],Z=G[1],U[me.index]=me,z){z*=Math.PI/180;var le=Math.cos(z),k=Math.sin(z),$=function(ue){return ue.toFixed(4)},ie=[$(le),$(k),$(-1*k),$(le),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,te(O),H(j+Z),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([te(Q),"0","0",te(Z),"0","0","cm"].join(" "))):this.internal.write([te(Q),"0","0",te(Z),te(O),H(j+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+me.index+" Do"),this.internal.write("Q")},P=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var M=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=t.__addimage__.sHashCode=function(O){var j,Q,Z=0;if(typeof O=="string")for(Q=O.length,j=0;j<Q;j++)Z=(Z<<5)-Z+O.charCodeAt(j),Z|=0;else if(Y(O))for(Q=O.byteLength/2,j=0;j<Q;j++)Z=(Z<<5)-Z+O[j],Z|=0;return Z},N=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var j=!0;return O.length===0&&(j=!1),O.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(j=!1),j},R=t.__addimage__.extractImageFromDataUrl=function(O){var j=(O=O||"").split("base64,"),Q=null;if(j.length===2){var Z=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(j[0]);Array.isArray(Z)&&(Q={mimeType:Z[1],charset:Z[2],data:j[1]})}return Q},F=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(O){return F()&&O instanceof ArrayBuffer};var Y=t.__addimage__.isArrayBufferView=function(O){return F()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},B=t.__addimage__.binaryStringToUint8Array=function(O){for(var j=O.length,Q=new Uint8Array(j),Z=0;Z<j;Z++)Q[Z]=O.charCodeAt(Z);return Q},V=t.__addimage__.arrayBufferToBinaryString=function(O){for(var j="",Q=Y(O)?O:new Uint8Array(O),Z=0;Z<Q.length;Z+=8192)j+=String.fromCharCode.apply(null,Q.subarray(Z,Z+8192));return j};t.addImage=function(){var O,j,Q,Z,me,z,G,te,H;if(typeof arguments[1]=="number"?(j=e,Q=arguments[1],Z=arguments[2],me=arguments[3],z=arguments[4],G=arguments[5],te=arguments[6],H=arguments[7]):(j=arguments[1],Q=arguments[2],Z=arguments[3],me=arguments[4],z=arguments[5],G=arguments[6],te=arguments[7],H=arguments[8]),wn(O=arguments[0])==="object"&&!g(O)&&"imageData"in O){var U=O;O=U.imageData,j=U.format||j||e,Q=U.x||Q||0,Z=U.y||Z||0,me=U.w||U.width||me,z=U.h||U.height||z,G=U.alias||G,te=U.compression||te,H=U.rotation||U.angle||H}var le=this.internal.getFilters();if(te===void 0&&le.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(Q)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var k=X.call(this,O,j,G,te);return C.call(this,Q,Z,me,z,k,H),this};var X=function(O,j,Q,Z){var me,z,G;if(typeof O=="string"&&i(O)===e){O=unescape(O);var te=K(O,!1);(te!==""||(te=t.loadFile(O,!0))!==void 0)&&(O=te)}if(g(O)&&(O=x(O,j)),j=i(O,j),!h(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((G=Q)==null||G.length===0)&&(Q=function(H){return typeof H=="string"||Y(H)?L(H):Y(H.data)?L(H.data):null}(O)),(me=b.call(this,Q))||(F()&&(O instanceof Uint8Array||j==="RGBA"||(z=O,O=B(O))),me=this["process"+j.toUpperCase()](O,f.call(this),Q,function(H){return H&&typeof H=="string"&&(H=H.toUpperCase()),H in t.image_compression?H:M.NONE}(Z),z)),!me)throw new Error("An unknown error occurred whilst processing the image.");return me},K=t.__addimage__.convertBase64ToBinaryString=function(O,j){var Q;j=typeof j!="boolean"||j;var Z,me="";if(typeof O=="string"){Z=(Q=R(O))!==null?Q.data:O;try{me=yh(Z)}catch(z){if(j)throw N(Z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return me};t.getImageProperties=function(O){var j,Q,Z="";if(g(O)&&(O=x(O)),typeof O=="string"&&i(O)===e&&((Z=K(O,!1))===""&&(Z=t.loadFile(O)||""),O=Z),Q=i(O),!h(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(!F()||O instanceof Uint8Array||(O=B(O)),!(j=this["process"+Q.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=Q,j}})(_t.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};_t.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var i,r,a,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,h=!1,g=0;g<f.length&&!h;g++)switch((i=f[g]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var x=0;x<f.length;x++){i=f[x];var b=this.internal.pdfEscape,A=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),M=this.internal.getEncryptor(C.objId),L=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+b(M(i.contents))+")",a+=" /Popup "+P.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+b(M(L))+") >>",C.content=a;var N=C.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+N,i.open&&(a+=" /Open true"),a+=" >>",P.content=a,this.internal.write(C.objId,"0 R",P.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+c(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var R=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+b(A(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var F=this.annotations._nameMap[i.options.name];i.options.pageNumber=F.page,i.options.top=F.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+b(A(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var Y=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+Y+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},t.link=function(n,i,r,a,o){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(n),y:f(i),w:u(n+r),h:f(i+a)},options:o,type:"link"})},t.textWithLink=function(n,i,r,a){var o,c,u=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var h=this.splitTextToSize(n,c).length;o=Math.ceil(f*h)}else c=u,o=f;return this.text(n,i,r,a),r+=.2*f,a.align==="center"&&(i-=u/2),a.align==="right"&&(i-=u),this.link(i,r-f,c,o,a),u},t.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(_t.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(C){return e[C.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},c=t.__arabicParser__.isArabicEndLetter=function(C){return o(C)&&a(C)&&e[C.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(C){return o(C)&&r.indexOf(C.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return o(C)&&a(C)&&e[C.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(C){return o(C)&&a(C)&&e[C.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(C){return o(C)&&a(C)&&e[C.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(C){return o(C)&&a(C)&&e[C.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(C){var P=0,M=n,L="",N=0;for(P=0;P<C.length;P+=1)M[C.charCodeAt(P)]!==void 0?(N++,typeof(M=M[C.charCodeAt(P)])=="number"&&(L+=String.fromCharCode(M),M=n,N=0),P===C.length-1&&(M=n,L+=C.charAt(P-(N-1)),P-=N-1,N=0)):(M=n,L+=C.charAt(P-N),P-=N,N=0);return L};t.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&i[C.charCodeAt(0)]!==void 0};var x=t.__arabicParser__.getCorrectForm=function(C,P,M){return o(C)?a(C)===!1?-1:!f(C)||!o(P)&&!o(M)||!o(M)&&c(P)||c(C)&&!o(P)||c(C)&&u(P)||c(C)&&c(P)?0:h(C)&&o(P)&&!c(P)&&o(M)&&f(M)?3:c(C)||!o(M)?1:2:-1},b=function(C){var P=0,M=0,L=0,N="",R="",F="",Y=(C=C||"").split("\\s+"),B=[];for(P=0;P<Y.length;P+=1){for(B.push(""),M=0;M<Y[P].length;M+=1)N=Y[P][M],R=Y[P][M-1],F=Y[P][M+1],o(N)?(L=x(N,R,F),B[P]+=L!==-1?String.fromCharCode(e[N.charCodeAt(0)][L]):N):B[P]+=N;B[P]=g(B[P])}return B.join(" ")},A=t.__arabicParser__.processArabic=t.processArabic=function(){var C,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,M=[];if(Array.isArray(P)){var L=0;for(M=[],L=0;L<P.length;L+=1)Array.isArray(P[L])?M.push([b(P[L][0]),P[L][1],P[L][2]]):M.push([b(P[L])]);C=M}else C=b(P);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};t.events.push(["preProcessText",A])}(_t.API),_t.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(_t.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(C){u=C}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(C){f=C}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(C){h=C}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(C){g=C}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(C){x=C}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(C){b=C}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(C){A=C}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return i.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,f){i.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),g=f.font||this.getFont(),x=f.scaleFactor||this.internal.scaleFactor,b=0,A=0,C=0,P=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var M=f.maxWidth;M>0?typeof u=="string"?u=this.splitTextToSize(u,M):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(N,R){return N.concat(P.splitTextToSize(R,M))},[])):u=Array.isArray(u)?u:[u];for(var L=0;L<u.length;L++)b<(C=this.getStringUnitWidth(u[L],{font:g})*h)&&(b=C);return b!==0&&(A=u.length),{w:b/=x,h:Math.max((A*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/x,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=g.top,b&&x&&(this.printHeaderRow(u.lineNumber,!0),u.y+=x[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};t.table=function(u,f,h,g,x){if(i.call(this),!h)throw new Error("No data for PDF table.");var b,A,C,P,M=[],L=[],N=[],R={},F={},Y=[],B=[],V=(x=x||{}).autoSize||!1,X=x.printHeaders!==!1,K=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,O=x.margins||Object.assign({width:this.getPageWidth()},e),j=typeof x.padding=="number"?x.padding:3,Q=x.headerBackgroundColor||"#c8c8c8",Z=x.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=X,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=Z,this.setFontSize(K),g==null)L=M=Object.keys(h[0]),N=M.map(function(){return"left"});else if(Array.isArray(g)&&wn(g[0])==="object")for(M=g.map(function(U){return U.name}),L=g.map(function(U){return U.prompt||U.name||""}),N=g.map(function(U){return U.align||"left"}),b=0;b<g.length;b+=1)F[g[b].name]=g[b].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(L=M=g,N=M.map(function(){return"left"}));if(V||Array.isArray(g)&&typeof g[0]=="string")for(b=0;b<M.length;b+=1){for(R[P=M[b]]=h.map(function(U){return U[P]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(L[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=R[P],this.setFont(void 0,"normal"),C=0;C<A.length;C+=1)Y.push(this.getTextDimensions(A[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[P]=Math.max.apply(null,Y)+j+j,Y=[]}if(X){var me={};for(b=0;b<M.length;b+=1)me[M[b]]={},me[M[b]].text=L[b],me[M[b]].align=N[b];var z=c.call(this,me,F);B=M.map(function(U){return new a(u,f,F[U],z,me[U].text,void 0,me[U].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var G=g.reduce(function(U,le){return U[le.name]=le.align,U},{});for(b=0;b<h.length;b+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:b,data:h[b]},this);var te=c.call(this,h[b],F);for(C=0;C<M.length;C+=1){var H=h[b][M[C]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:b,col:C,data:H},this),o.call(this,new a(u,f,F[M[C]],te,H,b+2,G[M[C]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var c=function(u,f){var h=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(u).map(function(b){var A=u[b];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,f[b]-h-h)},this).map(function(b){return this.getLineHeightFactor()*b.length*g/x+h+h},this).reduce(function(b,A){return Math.max(b,A)},0)};t.setTableHeaderRow=function(u){i.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){h=this.internal.__cell__.tableHeaderRow[b].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,x.push(h)),h.lineNumber=u;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(A)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),n=!1}}(_t.API);var a3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},s3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],q1=r3(s3),o3=[100,200,300,400,500,600,700,800,900],eO=r3(o3);function V1(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return a3[a=a||"normal"]?a:"normal"}(t.style),i=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),r=function(a){return typeof q1[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:i,stretch:r,src:t.src||[],ref:t.ref||{name:e,style:[r,n,i].join(" ")}}}function lw(t,e,n,i){var r;for(r=n;r>=0&&r<e.length;r+=i)if(t[e[r]])return t[e[r]];for(r=n;r>=0&&r<e.length;r-=i)if(t[e[r]])return t[e[r]]}var tO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},cw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function uw(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function nO(t,e,n){for(var i=(n=n||{}).defaultFontFamily||"times",r=Object.assign({},tO,n.genericFontFamilies||{}),a=null,o=null,c=0;c<e.length;++c)if(r[(a=V1(e[c])).family]&&(a.family=r[a.family]),t.hasOwnProperty(a.family)){o=t[a.family];break}if(!(o=o||t[i]))throw new Error("Could not find a font-family for the rule '"+uw(a)+"' and default family '"+i+"'.");if(o=function(u,f){if(f[u])return f[u];var h=q1[u],g=h<=q1.normal?-1:1,x=lw(f,s3,h,g);if(!x)throw new Error("Could not find a matching font-stretch value for "+u);return x}(a.stretch,o),o=function(u,f){if(f[u])return f[u];for(var h=a3[u],g=0;g<h.length;++g)if(f[h[g]])return f[h[g]];throw new Error("Could not find a matching font-style for "+u)}(a.style,o),!(o=function(u,f){if(f[u])return f[u];if(u===400&&f[500])return f[500];if(u===500&&f[400])return f[400];var h=eO[u],g=lw(f,o3,h,u<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+u);return g}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+uw(a)+"'.");return o}function fw(t){return t.trimLeft()}function iO(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function rO(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var hm,dw,hw,J0=["times"];(function(t){var e,n,i,r,a,o,c,u,f,h=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new u,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new o,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new o,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,f=new h}]);var g=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=k;Object.defineProperty(this,"pdf",{get:function(){return $}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(ge){ie=!!ge}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(ge){ue=!!ge}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(ge){isNaN(ge)||(fe=ge)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(ge){isNaN(ge)||(we=ge)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(ge){var oe;typeof ge=="number"?oe=[ge,ge,ge,ge]:((oe=new Array(4))[0]=ge[0],oe[1]=ge.length>=2?ge[1]:oe[0],oe[2]=ge.length>=3?ge[2]:oe[0],oe[3]=ge.length>=4?ge[3]:oe[1]),f.margin=oe}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(ge){ce=ge}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(ge){ve=ge}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(ge){_e=ge}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(ge){ge instanceof h&&(f=ge)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(ge){f.path=ge}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(ge){Te=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var oe;oe=x(ge),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var oe=x(ge);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var Oe=null;function je(ge,oe){if(Oe===null){var Ue=function(ot){var qe=[];return Object.keys(ot).forEach(function(Xe){ot[Xe].forEach(function(Qe){var Ze=null;switch(Qe){case"bold":Ze={family:Xe,weight:"bold"};break;case"italic":Ze={family:Xe,style:"italic"};break;case"bolditalic":Ze={family:Xe,weight:"bold",style:"italic"};break;case"":case"normal":Ze={family:Xe}}Ze!==null&&(Ze.ref={name:Xe,style:Qe},qe.push(Ze))})}),qe}(ge.getFontList());Oe=function(ot){for(var qe={},Xe=0;Xe<ot.length;++Xe){var Qe=V1(ot[Xe]),Ze=Qe.family,ft=Qe.stretch,Ct=Qe.style,Rt=Qe.weight;qe[Ze]=qe[Ze]||{},qe[Ze][ft]=qe[Ze][ft]||{},qe[Ze][ft][Ct]=qe[Ze][ft][Ct]||{},qe[Ze][ft][Ct][Rt]=Qe}return qe}(Ue.concat(oe))}return Oe}var Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(ge){Oe=null,Ke=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var oe;if(this.ctx.font=ge,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var Ue=oe[1],ot=(oe[2],oe[3]),qe=oe[4],Xe=(oe[5],oe[6]),Qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(Qe==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:Qe==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var Ze=function(nt){var Ut,rt,Pi=[],zt=nt.trim();if(zt==="")return J0;if(zt in cw)return[cw[zt]];for(;zt!=="";){switch(rt=null,Ut=(zt=fw(zt)).charAt(0)){case'"':case"'":rt=iO(zt.substring(1),Ut);break;default:rt=rO(zt)}if(rt===null||(Pi.push(rt[0]),(zt=fw(rt[1]))!==""&&zt.charAt(0)!==","))return J0;zt=zt.replace(/^,/,"")}return Pi}(Xe);if(this.fontFaces){var ft=nO(je(this.pdf,this.fontFaces),Ze.map(function(nt){return{family:nt,stretch:"normal",weight:ot,style:Ue}}));this.pdf.setFont(ft.ref.name,ft.ref.style)}else{var Ct="";(ot==="bold"||parseInt(ot,10)>=700||Ue==="bold")&&(Ct="bold"),Ue==="italic"&&(Ct+="italic"),Ct.length===0&&(Ct="normal");for(var Rt="",dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},yt=0;yt<Ze.length;yt++){if(this.pdf.internal.getFont(Ze[yt],Ct,{noFallback:!0,disableWarning:!0})!==void 0){Rt=Ze[yt];break}if(Ct==="bolditalic"&&this.pdf.internal.getFont(Ze[yt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Rt=Ze[yt],Ct="bold";else if(this.pdf.internal.getFont(Ze[yt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Rt=Ze[yt],Ct="normal";break}}if(Rt===""){for(var kt=0;kt<Ze.length;kt++)if(dt[Ze[kt]]){Rt=dt[Ze[kt]];break}}Rt=Rt===""?"Times":Rt,this.pdf.setFont(Rt,Ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};g.prototype.setLineDash=function(k){this.lineDash=k},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){R.call(this,"fill",!1)},g.prototype.stroke=function(){R.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(k,$){if(isNaN(k)||isNaN($))throw Mn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new o(k,$));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(k,$)},g.prototype.closePath=function(){var k=new o(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&wn(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){k=new o(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(k.x,k.y)},g.prototype.lineTo=function(k,$){if(isNaN(k)||isNaN($))throw Mn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new o(k,$));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},g.prototype.quadraticCurveTo=function(k,$,ie,ue){if(isNaN(ie)||isNaN(ue)||isNaN(k)||isNaN($))throw Mn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new o(ie,ue)),we=this.ctx.transform.applyToPoint(new o(k,$));this.path.push({type:"qct",x1:we.x,y1:we.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},g.prototype.bezierCurveTo=function(k,$,ie,ue,fe,we){if(isNaN(fe)||isNaN(we)||isNaN(k)||isNaN($)||isNaN(ie)||isNaN(ue))throw Mn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new o(fe,we)),ve=this.ctx.transform.applyToPoint(new o(k,$)),_e=this.ctx.transform.applyToPoint(new o(ie,ue));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:_e.x,y2:_e.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},g.prototype.arc=function(k,$,ie,ue,fe,we){if(isNaN(k)||isNaN($)||isNaN(ie)||isNaN(ue)||isNaN(fe))throw Mn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new o(k,$));k=ce.x,$=ce.y;var ve=this.ctx.transform.applyToPoint(new o(0,ie)),_e=this.ctx.transform.applyToPoint(new o(0,0));ie=Math.sqrt(Math.pow(ve.x-_e.x,2)+Math.pow(ve.y-_e.y,2))}Math.abs(fe-ue)>=2*Math.PI&&(ue=0,fe=2*Math.PI),this.path.push({type:"arc",x:k,y:$,radius:ie,startAngle:ue,endAngle:fe,counterclockwise:we})},g.prototype.arcTo=function(k,$,ie,ue,fe){throw new Error("arcTo not implemented.")},g.prototype.rect=function(k,$,ie,ue){if(isNaN(k)||isNaN($)||isNaN(ie)||isNaN(ue))throw Mn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,$),this.lineTo(k+ie,$),this.lineTo(k+ie,$+ue),this.lineTo(k,$+ue),this.lineTo(k,$),this.lineTo(k+ie,$),this.lineTo(k,$)},g.prototype.fillRect=function(k,$,ie,ue){if(isNaN(k)||isNaN($)||isNaN(ie)||isNaN(ue))throw Mn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,$,ie,ue),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},g.prototype.strokeRect=function(k,$,ie,ue){if(isNaN(k)||isNaN($)||isNaN(ie)||isNaN(ue))throw Mn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(k,$,ie,ue),this.stroke())},g.prototype.clearRect=function(k,$,ie,ue){if(isNaN(k)||isNaN($)||isNaN(ie)||isNaN(ue))throw Mn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,$,ie,ue))},g.prototype.save=function(k){k=typeof k!="boolean"||k;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage($),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},g.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage($),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(k){var $,ie,ue,fe;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))$=0,ie=0,ue=0,fe=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(we!==null)$=parseInt(we[1]),ie=parseInt(we[2]),ue=parseInt(we[3]),fe=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)$=parseInt(we[1]),ie=parseInt(we[2]),ue=parseInt(we[3]),fe=parseFloat(we[4]);else{if(fe=1,typeof k=="string"&&k.charAt(0)!=="#"){var ce=new QS(k);k=ce.ok?ce.toHex():"#000000"}k.length===4?($=k.substring(1,2),$+=$,ie=k.substring(2,3),ie+=ie,ue=k.substring(3,4),ue+=ue):($=k.substring(1,3),ie=k.substring(3,5),ue=k.substring(5,7)),$=parseInt($,16),ie=parseInt(ie,16),ue=parseInt(ue,16)}}return{r:$,g:ie,b:ue,a:fe,style:k}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(k,$,ie,ue){if(isNaN($)||isNaN(ie)||typeof k!="string")throw Mn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!b.call(this)){var fe=te(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;j.call(this,{text:k,x:$,y:ie,scale:we,angle:fe,align:this.textAlign,maxWidth:ue})}},g.prototype.strokeText=function(k,$,ie,ue){if(isNaN($)||isNaN(ie)||typeof k!="string")throw Mn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){ue=isNaN(ue)?void 0:ue;var fe=te(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;j.call(this,{text:k,x:$,y:ie,scale:we,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:ue})}},g.prototype.measureText=function(k){if(typeof k!="string")throw Mn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,ie=this.pdf.internal.scaleFactor,ue=$.internal.getFontSize(),fe=$.getStringUnitWidth(k)*ue/$.internal.scaleFactor,we=function(ce){var ve=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this};return new we({width:fe*=Math.round(96*ie/72*1e4)/1e4})},g.prototype.scale=function(k,$){if(isNaN(k)||isNaN($))throw Mn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new u(k,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},g.prototype.rotate=function(k){if(isNaN(k))throw Mn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new u(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply($)},g.prototype.translate=function(k,$){if(isNaN(k)||isNaN($))throw Mn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new u(1,0,0,1,k,$);this.ctx.transform=this.ctx.transform.multiply(ie)},g.prototype.transform=function(k,$,ie,ue,fe,we){if(isNaN(k)||isNaN($)||isNaN(ie)||isNaN(ue)||isNaN(fe)||isNaN(we))throw Mn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new u(k,$,ie,ue,fe,we);this.ctx.transform=this.ctx.transform.multiply(ce)},g.prototype.setTransform=function(k,$,ie,ue,fe,we){k=isNaN(k)?1:k,$=isNaN($)?0:$,ie=isNaN(ie)?0:ie,ue=isNaN(ue)?1:ue,fe=isNaN(fe)?0:fe,we=isNaN(we)?0:we,this.ctx.transform=new u(k,$,ie,ue,fe,we)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(k,$,ie,ue,fe,we,ce,ve,_e){var Te=this.pdf.getImageProperties(k),Oe=1,je=1,Ke=1,ge=1;ue!==void 0&&ve!==void 0&&(Ke=ve/ue,ge=_e/fe,Oe=Te.width/ue*ve/ue,je=Te.height/fe*_e/fe),we===void 0&&(we=$,ce=ie,$=0,ie=0),ue!==void 0&&ve===void 0&&(ve=ue,_e=fe),ue===void 0&&ve===void 0&&(ve=Te.width,_e=Te.height);for(var oe,Ue=this.ctx.transform.decompose(),ot=te(Ue.rotate.shx),qe=new u,Xe=(qe=(qe=(qe=qe.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new c(we-$*Ke,ce-ie*ge,ue*Oe,fe*je)),Qe=P.call(this,Xe),Ze=[],ft=0;ft<Qe.length;ft+=1)Ze.indexOf(Qe[ft])===-1&&Ze.push(Qe[ft]);if(N(Ze),this.autoPaging)for(var Ct=Ze[0],Rt=Ze[Ze.length-1],dt=Ct;dt<Rt+1;dt++){this.pdf.setPage(dt);var yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=dt===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=dt===1?0:nt+(dt-2)*Ut;if(this.ctx.clip_path.length!==0){var Pi=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(oe,this.posX+this.margin[3],-rt+kt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Pi}var zt=JSON.parse(JSON.stringify(Xe));zt=L([zt],this.posX+this.margin[3],-rt+kt+this.ctx.prevPageLastElemOffset)[0];var Kn=(dt>Ct||dt<Rt)&&C.call(this);Kn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,Ut,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",zt.x,zt.y,zt.w,zt.h,null,null,ot),Kn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,ot)};var P=function(k,$,ie){var ue=[];$=$||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":ue.push(Math.floor((k.y+fe)/ie)+1);break;case"arc":ue.push(Math.floor((k.y+fe-k.radius)/ie)+1),ue.push(Math.floor((k.y+fe+k.radius)/ie)+1);break;case"qct":var we=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);ue.push(Math.floor((we.y+fe)/ie)+1),ue.push(Math.floor((we.y+we.h+fe)/ie)+1);break;case"bct":var ce=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);ue.push(Math.floor((ce.y+fe)/ie)+1),ue.push(Math.floor((ce.y+ce.h+fe)/ie)+1);break;case"rect":ue.push(Math.floor((k.y+fe)/ie)+1),ue.push(Math.floor((k.y+k.h+fe)/ie)+1)}for(var ve=0;ve<ue.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<ue[ve];)M.call(this);return ue},M=function(){var k=this.fillStyle,$=this.strokeStyle,ie=this.font,ue=this.lineCap,fe=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=$,this.font=ie,this.lineCap=ue,this.lineWidth=fe,this.lineJoin=we},L=function(k,$,ie){for(var ue=0;ue<k.length;ue++)switch(k[ue].type){case"bct":k[ue].x2+=$,k[ue].y2+=ie;case"qct":k[ue].x1+=$,k[ue].y1+=ie;case"mt":case"lt":case"arc":default:k[ue].x+=$,k[ue].y+=ie}return k},N=function(k){return k.sort(function($,ie){return $-ie})},R=function(k,$){for(var ie,ue,fe=this.fillStyle,we=this.strokeStyle,ce=this.lineCap,ve=this.lineWidth,_e=Math.abs(ve*this.ctx.transform.scaleX),Te=this.lineJoin,Oe=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),Ke=[],ge=0;ge<je.length;ge++)if(je[ge].x!==void 0)for(var oe=P.call(this,je[ge]),Ue=0;Ue<oe.length;Ue+=1)Ke.indexOf(oe[Ue])===-1&&Ke.push(oe[Ue]);for(var ot=0;ot<Ke.length;ot++)for(;this.pdf.internal.getNumberOfPages()<Ke[ot];)M.call(this);if(N(Ke),this.autoPaging)for(var qe=Ke[0],Xe=Ke[Ke.length-1],Qe=qe;Qe<Xe+1;Qe++){this.pdf.setPage(Qe),this.fillStyle=fe,this.strokeStyle=we,this.lineCap=ce,this.lineWidth=_e,this.lineJoin=Te;var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=Qe===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=Qe===1?0:Ct+(Qe-2)*Rt;if(this.ctx.clip_path.length!==0){var yt=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(ie,this.posX+this.margin[3],-dt+ft+this.ctx.prevPageLastElemOffset),F.call(this,k,!0),this.path=yt}if(ue=JSON.parse(JSON.stringify(Oe)),this.path=L(ue,this.posX+this.margin[3],-dt+ft+this.ctx.prevPageLastElemOffset),$===!1||Qe===0){var kt=(Qe>qe||Qe<Xe)&&C.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,Rt,null).clip().discardPath()),F.call(this,k,$),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}else this.lineWidth=_e,F.call(this,k,$),this.lineWidth=ve;this.path=Oe},F=function(k,$){if((k!=="stroke"||$||!A.call(this))&&(k==="stroke"||$||!b.call(this))){for(var ie,ue,fe=[],we=this.path,ce=0;ce<we.length;ce++){var ve=we[ce];switch(ve.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:ve,deltas:[],abs:[]});break;case"lt":var _e=fe.length;if(we[ce-1]&&!isNaN(we[ce-1].x)&&(ie=[ve.x-we[ce-1].x,ve.y-we[ce-1].y],_e>0)){for(;_e>=0;_e--)if(fe[_e-1].close!==!0&&fe[_e-1].begin!==!0){fe[_e-1].deltas.push(ie),fe[_e-1].abs.push(ve);break}}break;case"bct":ie=[ve.x1-we[ce-1].x,ve.y1-we[ce-1].y,ve.x2-we[ce-1].x,ve.y2-we[ce-1].y,ve.x-we[ce-1].x,ve.y-we[ce-1].y],fe[fe.length-1].deltas.push(ie);break;case"qct":var Te=we[ce-1].x+2/3*(ve.x1-we[ce-1].x),Oe=we[ce-1].y+2/3*(ve.y1-we[ce-1].y),je=ve.x+2/3*(ve.x1-ve.x),Ke=ve.y+2/3*(ve.y1-ve.y),ge=ve.x,oe=ve.y;ie=[Te-we[ce-1].x,Oe-we[ce-1].y,je-we[ce-1].x,Ke-we[ce-1].y,ge-we[ce-1].x,oe-we[ce-1].y],fe[fe.length-1].deltas.push(ie);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(ve)}}ue=$?null:k==="stroke"?"stroke":"fill";for(var Ue=!1,ot=0;ot<fe.length;ot++)if(fe[ot].arc)for(var qe=fe[ot].abs,Xe=0;Xe<qe.length;Xe++){var Qe=qe[Xe];Qe.type==="arc"?V.call(this,Qe.x,Qe.y,Qe.radius,Qe.startAngle,Qe.endAngle,Qe.counterclockwise,void 0,$,!Ue):Q.call(this,Qe.x,Qe.y),Ue=!0}else if(fe[ot].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(fe[ot].begin!==!0){var Ze=fe[ot].start.x,ft=fe[ot].start.y;Z.call(this,fe[ot].deltas,Ze,ft),Ue=!0}ue&&X.call(this,ue),$&&K.call(this)}},Y=function(k){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-ie;case"top":return k+$-ie;case"hanging":return k+$-2*ie;case"middle":return k+$/2-ie;case"ideographic":return k;case"alphabetic":default:return k}},B=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function($,ie){this.colorStops.push([$,ie])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var V=function(k,$,ie,ue,fe,we,ce,ve,_e){for(var Te=z.call(this,ie,ue,fe,we),Oe=0;Oe<Te.length;Oe++){var je=Te[Oe];Oe===0&&(_e?O.call(this,je.x1+k,je.y1+$):Q.call(this,je.x1+k,je.y1+$)),me.call(this,k,$,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}ve?K.call(this):X.call(this,ce)},X=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(k,$){this.pdf.internal.out(n(k)+" "+i($)+" m")},j=function(k){var $;switch(k.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var ie=this.pdf.getTextDimensions(k.text),ue=Y.call(this,k.y),fe=B.call(this,ue)-ie.h,we=this.ctx.transform.applyToPoint(new o(k.x,ue)),ce=this.ctx.transform.decompose(),ve=new u;ve=(ve=(ve=ve.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var _e,Te,Oe,je=this.ctx.transform.applyToRectangle(new c(k.x,ue,ie.w,ie.h)),Ke=ve.applyToRectangle(new c(k.x,fe,ie.w,ie.h)),ge=P.call(this,Ke),oe=[],Ue=0;Ue<ge.length;Ue+=1)oe.indexOf(ge[Ue])===-1&&oe.push(ge[Ue]);if(N(oe),this.autoPaging)for(var ot=oe[0],qe=oe[oe.length-1],Xe=ot;Xe<qe+1;Xe++){this.pdf.setPage(Xe);var Qe=Xe===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[2],Ct=ft-this.margin[0],Rt=this.pdf.internal.pageSize.width-this.margin[1],dt=Rt-this.margin[3],yt=Xe===1?0:Ze+(Xe-2)*Ct;if(this.ctx.clip_path.length!==0){var kt=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(_e,this.posX+this.margin[3],-1*yt+Qe),F.call(this,"fill",!0),this.path=kt}var nt=L([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-yt+Qe+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*k.scale),Oe=this.lineWidth,this.lineWidth=Oe*k.scale);var Ut=this.autoPaging!=="text";if(Ut||nt.y+nt.h<=ft){if(Ut||nt.y>=Qe&&nt.x<=Rt){var rt=Ut?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Rt-nt.x)[0],Pi=L([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-yt+Qe+this.ctx.prevPageLastElemOffset)[0],zt=Ut&&(Xe>ot||Xe<qe)&&C.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,Ct,null).clip().discardPath()),this.pdf.text(rt,Pi.x,Pi.y,{angle:k.angle,align:$,renderingMode:k.renderingMode}),zt&&this.pdf.restoreGraphicsState()}}else nt.y<ft&&(this.ctx.prevPageLastElemOffset+=ft-nt.y);k.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Oe)}else k.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*k.scale),Oe=this.lineWidth,this.lineWidth=Oe*k.scale),this.pdf.text(k.text,we.x+this.posX,we.y+this.posY,{angle:k.angle,align:$,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Oe)},Q=function(k,$,ie,ue){ie=ie||0,ue=ue||0,this.pdf.internal.out(n(k+ie)+" "+i($+ue)+" l")},Z=function(k,$,ie){return this.pdf.lines(k,$,ie,null,null)},me=function(k,$,ie,ue,fe,we,ce,ve){this.pdf.internal.out([e(r(ie+k)),e(a(ue+$)),e(r(fe+k)),e(a(we+$)),e(r(ce+k)),e(a(ve+$)),"c"].join(" "))},z=function(k,$,ie,ue){for(var fe=2*Math.PI,we=Math.PI/2;$>ie;)$-=fe;var ce=Math.abs(ie-$);ce<fe&&ue&&(ce=fe-ce);for(var ve=[],_e=ue?-1:1,Te=$;ce>1e-5;){var Oe=Te+_e*Math.min(ce,we);ve.push(G.call(this,k,Te,Oe)),ce-=Math.abs(Oe-Te),Te=Oe}return ve},G=function(k,$,ie){var ue=(ie-$)/2,fe=k*Math.cos(ue),we=k*Math.sin(ue),ce=fe,ve=-we,_e=ce*ce+ve*ve,Te=_e+ce*fe+ve*we,Oe=4/3*(Math.sqrt(2*_e*Te)-Te)/(ce*we-ve*fe),je=ce-Oe*ve,Ke=ve+Oe*ce,ge=je,oe=-Ke,Ue=ue+$,ot=Math.cos(Ue),qe=Math.sin(Ue);return{x1:k*Math.cos($),y1:k*Math.sin($),x2:je*ot-Ke*qe,y2:je*qe+Ke*ot,x3:ge*ot-oe*qe,y3:ge*qe+oe*ot,x4:k*Math.cos(ie),y4:k*Math.sin(ie)}},te=function(k){return 180*k/Math.PI},H=function(k,$,ie,ue,fe,we){var ce=k+.5*(ie-k),ve=$+.5*(ue-$),_e=fe+.5*(ie-fe),Te=we+.5*(ue-we),Oe=Math.min(k,fe,ce,_e),je=Math.max(k,fe,ce,_e),Ke=Math.min($,we,ve,Te),ge=Math.max($,we,ve,Te);return new c(Oe,Ke,je-Oe,ge-Ke)},U=function(k,$,ie,ue,fe,we,ce,ve){var _e,Te,Oe,je,Ke,ge,oe,Ue,ot,qe,Xe,Qe,Ze,ft,Ct=ie-k,Rt=ue-$,dt=fe-ie,yt=we-ue,kt=ce-fe,nt=ve-we;for(Te=0;Te<41;Te++)ot=(oe=(Oe=k+(_e=Te/40)*Ct)+_e*((Ke=ie+_e*dt)-Oe))+_e*(Ke+_e*(fe+_e*kt-Ke)-oe),qe=(Ue=(je=$+_e*Rt)+_e*((ge=ue+_e*yt)-je))+_e*(ge+_e*(we+_e*nt-ge)-Ue),Te==0?(Xe=ot,Qe=qe,Ze=ot,ft=qe):(Xe=Math.min(Xe,ot),Qe=Math.min(Qe,qe),Ze=Math.max(Ze,ot),ft=Math.max(ft,qe));return new c(Math.round(Xe),Math.round(Qe),Math.round(Ze-Xe),Math.round(ft-Qe))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,$,ie=(k=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:$}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(_t.API),function(t){var e=function(a){var o,c,u,f,h,g,x,b,A,C;for(c=[],u=0,f=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;f>u;u+=4)(h=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(g=(h=((h=((h=((h=(h-(C=h%85))/85)-(A=h%85))/85)-(b=h%85))/85)-(x=h%85))/85)%85,c.push(g+33,x+33,b+33,A+33,C+33)):c.push(122);return function(P,M){for(var L=M;L>0;L--)P.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},n=function(a){var o,c,u,f,h,g=String,x="length",b=255,A="charCodeAt",C="slice",P="replace";for(a[C](-2),a=a[C](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),u=[],f=0,h=(a+=o="uuuuu"[C](a[x]%5||5))[x];h>f;f+=5)c=52200625*(a[A](f)-33)+614125*(a[A](f+1)-33)+7225*(a[A](f+2)-33)+85*(a[A](f+3)-33)+(a[A](f+4)-33),u.push(b&c>>24,b&c>>16,b&c>>8,b&c);return function(M,L){for(var N=L;N>0;N--)M.pop()}(u,o[x]),g.fromCharCode.apply(g,u)},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},r=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return a=(o=O1(o)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};t.processDataByFilters=function(a,o){var c=0,u=a||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=r(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(_t.API),function(t){t.loadFile=function(e,n,i){return function(r,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=function(u,f,h){var g=new XMLHttpRequest,x=0,b=function(A){var C=A.length,P=[],M=String.fromCharCode;for(x=0;x<C;x+=1)P.push(M(255&A.charCodeAt(x)));return P.join("")};if(g.open("GET",u,!f),g.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(g.onload=function(){g.status===200?h(b(this.responseText)):h(void 0)}),g.send(null),f&&g.status===200)return b(g.responseText)}(r,a,o)}catch{}return c}(e,n,i)},t.loadImageFile=t.loadFile}(_t.API),function(t){function e(){return(Pt.html2canvas?Promise.resolve(Pt.html2canvas):sc(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Pt.DOMPurify?Promise.resolve(Pt.DOMPurify):sc(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var c=wn(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},r=function(o,c){var u=document.createElement(o);for(var f in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[f]=c.style[f];return u},a=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),u);return f=(f=f.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(u){return this.set({src:r("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function u(f,h){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),x=f.firstChild;x;x=x.nextSibling)h!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||g.appendChild(u(x,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var x=0;x<f.length;++x){var b=f[x],A=b.src.find(function(C){return C.format==="truetype"});A&&u.addFont(A.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(i(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(o=o||_t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,u,f){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,u,f){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(f,h){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,f),g}).then(f,h).then(function(g){return u.updateProgress(1),g})})},a.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),c&&(c=c.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=u.call(f,o,c);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,_t.getPageSize=function(o,c,u){if(wn(o)==="object"){var f=o;o=f.orientation,c=f.unit||c,u=f.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var h,g=(""+u).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var b,A=0,C=0;if(x.hasOwnProperty(g))A=x[g][1]/h,C=x[g][0]/h;else try{A=u[1],C=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",C>A&&(b=C,C=A,A=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",A>C&&(b=C,C=A,A=b)}return{width:C,height:A,unit:c,k:h,orientation:o}},t.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(V1):null;var u=new a(c);return c.worker?u:u.from(o).doCallback()}}(_t.API),_t.API.addJS=function(t){return hw=t,this.internal.events.subscribe("postPutResources",function(){hm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(hm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){hm!==void 0&&dw!==void 0&&this.internal.out("/Names <</JavaScript "+hm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),a=0;a<r.length;a++){var o=r[a],c=i.exec(o);if(c!=null){var u=c[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(a=0;a<f;a++){var g=n.internal.newObject();h.push(g);var x=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var b=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<h.length;a++)n.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+b+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,a){var o={title:r,options:a,children:[]};return i==null&&(i=this.root),i.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var o=i.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var u=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var a=0;a<r.children.length;a++)i.count++,this.count_r(i,r.children[a]);return i.count}}])}(_t.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,i,r,a,o,c){var u,f=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(u=function(g){for(var x,b=256*g.charCodeAt(4)+g.charCodeAt(5),A=g.length,C={width:0,height:0,numcomponents:1},P=4;P<A;P+=2){if(P+=b,e.indexOf(g.charCodeAt(P+1))!==-1){x=256*g.charCodeAt(P+5)+g.charCodeAt(P+6),C={width:256*g.charCodeAt(P+7)+g.charCodeAt(P+8),height:x,numcomponents:g.charCodeAt(P+9)};break}b=256*g.charCodeAt(P+2)+g.charCodeAt(P+3)}return C}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}h={data:n,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:f,index:i,alias:r}}return h}}(_t.API);var _f,pm,pw,mw,gw,aO=function(){var t,e,n;function i(a){var o,c,u,f,h,g,x,b,A,C,P,M,L,N;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(o=this.readUInt32(),A=(function(){var R,F;for(F=[],R=0;R<4;++R)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),f=this.readUInt16()||100,g.delay=1e3*h/f,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(A==="fdAT"&&(this.pos+=4,o-=4),a=(g!=null?g.data:void 0)||this.imgData,M=0;0<=o?M<o:M>o;0<=o?++M:--M)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((C=u-this.transparency.indexed.length)>0)for(L=0;0<=C?L<C:L>C;0<=C?++L:--L)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":x=(P=this.read(o)).indexOf(0),b=String.fromCharCode.apply(String,P.slice(0,x)),this.text[b]=String.fromCharCode.apply(String,P.slice(x+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(a){var o,c;for(c=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)c.push(this.data[this.pos++]);return c},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*o),u=0,f=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(g,x,b,A){var C,P,M,L,N,R,F,Y,B,V,X,K,O,j,Q,Z,me,z,G,te,H,U=Math.ceil((f.width-g)/b),le=Math.ceil((f.height-x)/A),k=f.width==U&&f.height==le;for(j=o*U,K=k?c:new Uint8Array(j*le),R=a.length,O=0,P=0;O<le&&u<R;){switch(a[u++]){case 0:for(L=me=0;me<j;L=me+=1)K[P++]=a[u++];break;case 1:for(L=z=0;z<j;L=z+=1)C=a[u++],N=L<o?0:K[P-o],K[P++]=(C+N)%256;break;case 2:for(L=G=0;G<j;L=G+=1)C=a[u++],M=(L-L%o)/o,Q=O&&K[(O-1)*j+M*o+L%o],K[P++]=(Q+C)%256;break;case 3:for(L=te=0;te<j;L=te+=1)C=a[u++],M=(L-L%o)/o,N=L<o?0:K[P-o],Q=O&&K[(O-1)*j+M*o+L%o],K[P++]=(C+Math.floor((N+Q)/2))%256;break;case 4:for(L=H=0;H<j;L=H+=1)C=a[u++],M=(L-L%o)/o,N=L<o?0:K[P-o],O===0?Q=Z=0:(Q=K[(O-1)*j+M*o+L%o],Z=M&&K[(O-1)*j+(M-1)*o+L%o]),F=N+Q-Z,Y=Math.abs(F-N),V=Math.abs(F-Q),X=Math.abs(F-Z),B=Y<=V&&Y<=X?N:V<=X?Q:Z,K[P++]=(C+B)%256;break;default:throw new Error("Invalid filter algorithm: "+a[u-1])}if(!k){var $=((x+O*A)*f.width+g)*o,ie=O*j;for(L=0;L<U;L+=1){for(var ue=0;ue<o;ue+=1)c[$++]=K[ie++];$+=(b-1)*o}}O++}}return a=FF(a),f.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),c},i.prototype.decodePalette=function(){var a,o,c,u,f,h,g,x,b;for(c=this.palette,h=this.transparency.indexed||[],f=new Uint8Array((h.length||0)+c.length),u=0,a=0,o=g=0,x=c.length;g<x;o=g+=3)f[u++]=c[o],f[u++]=c[o+1],f[u++]=c[o+2],f[u++]=(b=h[a++])!=null?b:255;return f},i.prototype.copyToImageData=function(a,o){var c,u,f,h,g,x,b,A,C,P,M;if(u=this.colors,C=null,c=this.hasAlphaChannel,this.palette.length&&(C=(M=this._decodedPalette)!=null?M:this._decodedPalette=this.decodePalette(),u=4,c=!0),A=(f=a.data||a).length,g=C||o,h=x=0,u===1)for(;h<A;)b=C?4*o[h/4]:x,P=g[b++],f[h++]=P,f[h++]=P,f[h++]=P,f[h++]=c?g[b++]:255,x=b;else for(;h<A;)b=C?4*o[h/4]:x,f[h++]=g[b++],f[h++]=g[b++],f[h++]=g[b++],f[h++]=c?g[b++]:255,x=b},i.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var r=function(){if(Object.prototype.toString.call(Pt)==="[object Window]"){try{e=Pt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return r(),t=function(a){var o;if(r()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(a){var o,c,u,f,h,g,x,b;if(this.animation){for(b=[],c=h=0,g=(x=this.animation.frames).length;h<g;c=++h)o=x[c],u=a.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,f),o.imageData=u,b.push(o.image=t(u));return b}},i.prototype.renderFrame=function(a,o){var c,u,f;return c=(u=this.animation.frames)[o],f=u[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?a.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&a.putImageData(f.imageData,f.xOffset,f.yOffset),c.blendOp===0&&a.clearRect(c.xOffset,c.yOffset,c.width,c.height),a.drawImage(c.image,c.xOffset,c.yOffset)},i.prototype.animate=function(a){var o,c,u,f,h,g,x=this;return c=0,g=this.animation,f=g.numFrames,u=g.frames,h=g.numPlays,(o=function(){var b,A;if(b=c++%f,A=u[b],x.renderFrame(a,b),f>1&&c/f<h)return x.animation._timeout=setTimeout(o,A.delay)})()},i.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},i.prototype.render=function(a){var o,c;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(c=o.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),o.putImageData(c,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function sO(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,r=t[e++],a=r>>7,o=1<<(7&r)+1;t[e++],t[e++];var c=null,u=null;a&&(c=e,u=o,e+=3*o);var f=!0,h=[],g=0,x=null,b=0,A=null;for(this.width=n,this.height=i;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,A=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var C=t[e++];g=t[e++]|t[e++]<<8,x=t[e++],(1&C)==0&&(x=null),b=C>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var P=t[e++]|t[e++]<<8,M=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,R=t[e++],F=R>>6&1,Y=1<<(7&R)+1,B=c,V=u,X=!1;R>>7&&(X=!0,B=e,V=Y,e+=3*Y);var K=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}h.push({x:P,y:M,width:L,height:N,has_local_palette:X,palette_offset:B,palette_size:V,data_offset:K,data_length:e-K,transparent_index:x,interlaced:!!F,delay:g,disposal:b});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return A},this.frameInfo=function(j){if(j<0||j>=h.length)throw new Error("Frame index out of range.");return h[j]},this.decodeAndBlitFrameBGRA=function(j,Q){var Z=this.frameInfo(j),me=Z.width*Z.height,z=new Uint8Array(me);yw(t,Z.data_offset,z,me);var G=Z.palette_offset,te=Z.transparent_index;te===null&&(te=256);var H=Z.width,U=n-H,le=H,k=4*(Z.y*n+Z.x),$=4*((Z.y+Z.height)*n+Z.x),ie=k,ue=4*U;Z.interlaced===!0&&(ue+=4*n*7);for(var fe=8,we=0,ce=z.length;we<ce;++we){var ve=z[we];if(le===0&&(le=H,(ie+=ue)>=$&&(ue=4*U+4*n*(fe-1),ie=k+(H+U)*(fe<<1),fe>>=1)),ve===te)ie+=4;else{var _e=t[G+3*ve],Te=t[G+3*ve+1],Oe=t[G+3*ve+2];Q[ie++]=Oe,Q[ie++]=Te,Q[ie++]=_e,Q[ie++]=255}--le}},this.decodeAndBlitFrameRGBA=function(j,Q){var Z=this.frameInfo(j),me=Z.width*Z.height,z=new Uint8Array(me);yw(t,Z.data_offset,z,me);var G=Z.palette_offset,te=Z.transparent_index;te===null&&(te=256);var H=Z.width,U=n-H,le=H,k=4*(Z.y*n+Z.x),$=4*((Z.y+Z.height)*n+Z.x),ie=k,ue=4*U;Z.interlaced===!0&&(ue+=4*n*7);for(var fe=8,we=0,ce=z.length;we<ce;++we){var ve=z[we];if(le===0&&(le=H,(ie+=ue)>=$&&(ue=4*U+4*n*(fe-1),ie=k+(H+U)*(fe<<1),fe>>=1)),ve===te)ie+=4;else{var _e=t[G+3*ve],Te=t[G+3*ve+1],Oe=t[G+3*ve+2];Q[ie++]=_e,Q[ie++]=Te,Q[ie++]=Oe,Q[ie++]=255}--le}}}function yw(t,e,n,i){for(var r=t[e++],a=1<<r,o=a+1,c=o+1,u=r+1,f=(1<<u)-1,h=0,g=0,x=0,b=t[e++],A=new Int32Array(4096),C=null;;){for(;h<16&&b!==0;)g|=t[e++]<<h,h+=8,b===1?b=t[e++]:--b;if(h<u)break;var P=g&f;if(g>>=u,h-=u,P!==a){if(P===o)break;for(var M=P<c?P:C,L=0,N=M;N>a;)N=A[N]>>8,++L;var R=N;if(x+L+(M!==P?1:0)>i)return void Mn.log("Warning, gif stream longer than expected.");n[x++]=R;var F=x+=L;for(M!==P&&(n[x++]=R),N=M;L--;)N=A[N],n[--F]=255&N,N>>=8;C!==null&&c<4096&&(A[c++]=C<<8|R,c>=f+1&&u<12&&(++u,f=f<<1|1)),C=P}else c=o+1,f=(1<<(u=r+1))-1,C=null}return x!==i&&Mn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function K0(t){var e,n,i,r,a,o=Math.floor,c=new Array(64),u=new Array(64),f=new Array(64),h=new Array(64),g=new Array(65535),x=new Array(65535),b=new Array(64),A=new Array(64),C=[],P=0,M=7,L=new Array(64),N=new Array(64),R=new Array(64),F=new Array(256),Y=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],V=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(k,$){for(var ie=0,ue=0,fe=new Array,we=1;we<=16;we++){for(var ce=1;ce<=k[we];ce++)fe[$[ue]]=[],fe[$[ue]][0]=ie,fe[$[ue]][1]=we,ue++,ie++;ie*=2}return fe}function G(k){for(var $=k[0],ie=k[1]-1;ie>=0;)$&1<<ie&&(P|=1<<M),ie--,--M<0&&(P==255?(te(255),te(0)):te(P),M=7,P=0)}function te(k){C.push(k)}function H(k){te(k>>8&255),te(255&k)}function U(k,$,ie,ue,fe){for(var we,ce=fe[0],ve=fe[240],_e=function(qe,Xe){var Qe,Ze,ft,Ct,Rt,dt,yt,kt,nt,Ut,rt=0;for(nt=0;nt<8;++nt){Qe=qe[rt],Ze=qe[rt+1],ft=qe[rt+2],Ct=qe[rt+3],Rt=qe[rt+4],dt=qe[rt+5],yt=qe[rt+6];var Pi=Qe+(kt=qe[rt+7]),zt=Qe-kt,Kn=Ze+yt,Zt=Ze-yt,pn=ft+dt,nr=ft-dt,cn=Ct+Rt,gs=Ct-Rt,Fn=Pi+cn,wr=Pi-cn,_r=Kn+pn,Vn=Kn-pn;qe[rt]=Fn+_r,qe[rt+4]=Fn-_r;var It=.707106781*(Vn+wr);qe[rt+2]=wr+It,qe[rt+6]=wr-It;var an=.382683433*((Fn=gs+nr)-(Vn=Zt+zt)),ka=.5411961*Fn+an,fi=1.306562965*Vn+an,Wr=.707106781*(_r=nr+Zt),fa=zt+Wr,gt=zt-Wr;qe[rt+5]=gt+ka,qe[rt+3]=gt-ka,qe[rt+1]=fa+fi,qe[rt+7]=fa-fi,rt+=8}for(rt=0,nt=0;nt<8;++nt){Qe=qe[rt],Ze=qe[rt+8],ft=qe[rt+16],Ct=qe[rt+24],Rt=qe[rt+32],dt=qe[rt+40],yt=qe[rt+48];var Sn=Qe+(kt=qe[rt+56]),On=Qe-kt,di=Ze+yt,Xn=Ze-yt,ri=ft+dt,Sr=ft-dt,co=Ct+Rt,Cr=Ct-Rt,Ar=Sn+co,Ui=Sn-co,Bi=di+ri,ir=di-ri;qe[rt]=Ar+Bi,qe[rt+32]=Ar-Bi;var Li=.707106781*(ir+Ui);qe[rt+16]=Ui+Li,qe[rt+48]=Ui-Li;var gn=.382683433*((Ar=Cr+Sr)-(ir=Xn+On)),ys=.5411961*Ar+gn,uo=1.306562965*ir+gn,Dr=.707106781*(Bi=Sr+Xn),Yr=On+Dr,el=On-Dr;qe[rt+40]=el+ys,qe[rt+24]=el-ys,qe[rt+8]=Yr+uo,qe[rt+56]=Yr-uo,rt++}for(nt=0;nt<64;++nt)Ut=qe[nt]*Xe[nt],b[nt]=Ut>0?Ut+.5|0:Ut-.5|0;return b}(k,$),Te=0;Te<64;++Te)A[B[Te]]=_e[Te];var Oe=A[0]-ie;ie=A[0],Oe==0?G(ue[0]):(G(ue[x[we=32767+Oe]]),G(g[we]));for(var je=63;je>0&&A[je]==0;)je--;if(je==0)return G(ce),ie;for(var Ke,ge=1;ge<=je;){for(var oe=ge;A[ge]==0&&ge<=je;)++ge;var Ue=ge-oe;if(Ue>=16){Ke=Ue>>4;for(var ot=1;ot<=Ke;++ot)G(ve);Ue&=15}we=32767+A[ge],G(fe[(Ue<<4)+x[we]]),G(g[we]),ge++}return je!=63&&G(ce),ie}function le(k){k=Math.min(Math.max(k,1),100),a!=k&&(function($){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var fe=o((ie[ue]*$+50)/100);fe=Math.min(Math.max(fe,1),255),c[B[ue]]=fe}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var ve=o((we[ce]*$+50)/100);ve=Math.min(Math.max(ve,1),255),u[B[ce]]=ve}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,Oe=0;Oe<8;Oe++)for(var je=0;je<8;je++)f[Te]=1/(c[B[Te]]*_e[Oe]*_e[je]*8),h[Te]=1/(u[B[Te]]*_e[Oe]*_e[je]*8),Te++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),a=k)}this.encode=function(k,$){$&&le($),C=new Array,P=0,M=7,H(65496),H(65504),H(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),H(1),H(1),te(0),te(0),function(){H(65499),H(132),te(0);for(var Ze=0;Ze<64;Ze++)te(c[Ze]);te(1);for(var ft=0;ft<64;ft++)te(u[ft])}(),function(Ze,ft){H(65472),H(17),te(8),H(ft),H(Ze),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(k.width,k.height),function(){H(65476),H(418),te(0);for(var Ze=0;Ze<16;Ze++)te(V[Ze+1]);for(var ft=0;ft<=11;ft++)te(X[ft]);te(16);for(var Ct=0;Ct<16;Ct++)te(K[Ct+1]);for(var Rt=0;Rt<=161;Rt++)te(O[Rt]);te(1);for(var dt=0;dt<16;dt++)te(j[dt+1]);for(var yt=0;yt<=11;yt++)te(Q[yt]);te(17);for(var kt=0;kt<16;kt++)te(Z[kt+1]);for(var nt=0;nt<=161;nt++)te(me[nt])}(),H(65498),H(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var ie=0,ue=0,fe=0;P=0,M=7,this.encode.displayName="_encode_";for(var we,ce,ve,_e,Te,Oe,je,Ke,ge,oe=k.data,Ue=k.width,ot=k.height,qe=4*Ue,Xe=0;Xe<ot;){for(we=0;we<qe;){for(Te=qe*Xe+we,je=-1,Ke=0,ge=0;ge<64;ge++)Oe=Te+(Ke=ge>>3)*qe+(je=4*(7&ge)),Xe+Ke>=ot&&(Oe-=qe*(Xe+1+Ke-ot)),we+je>=qe&&(Oe-=we+je-qe+4),ce=oe[Oe++],ve=oe[Oe++],_e=oe[Oe++],L[ge]=(Y[ce]+Y[ve+256>>0]+Y[_e+512>>0]>>16)-128,N[ge]=(Y[ce+768>>0]+Y[ve+1024>>0]+Y[_e+1280>>0]>>16)-128,R[ge]=(Y[ce+1280>>0]+Y[ve+1536>>0]+Y[_e+1792>>0]>>16)-128;ie=U(L,f,ie,e,i),ue=U(N,h,ue,n,r),fe=U(R,h,fe,n,r),we+=32}Xe+=8}if(M>=0){var Qe=[];Qe[1]=M+1,Qe[0]=(1<<M+1)-1,G(Qe)}return H(65497),new Uint8Array(C)},t=t||50,function(){for(var k=String.fromCharCode,$=0;$<256;$++)F[$]=k($)}(),e=z(V,X),n=z(j,Q),i=z(K,O),r=z(Z,me),function(){for(var k=1,$=2,ie=1;ie<=15;ie++){for(var ue=k;ue<$;ue++)x[32767+ue]=ie,g[32767+ue]=[],g[32767+ue][1]=ie,g[32767+ue][0]=ue;for(var fe=-($-1);fe<=-k;fe++)x[32767+fe]=ie,g[32767+fe]=[],g[32767+fe][1]=ie,g[32767+fe][0]=$-1+fe;k<<=1,$<<=1}}(),function(){for(var k=0;k<256;k++)Y[k]=19595*k,Y[k+256>>0]=38470*k,Y[k+512>>0]=7471*k+32768,Y[k+768>>0]=-11059*k,Y[k+1024>>0]=-21709*k,Y[k+1280>>0]=32768*k+8421375,Y[k+1536>>0]=-27439*k,Y[k+1792>>0]=-5329*k}(),le(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function os(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vw(t){function e(V){if(!V)throw Error("assert :P")}function n(V,X,K){for(var O=0;4>O;O++)if(V[X+O]!=K.charCodeAt(O))return!0;return!1}function i(V,X,K,O,j){for(var Q=0;Q<j;Q++)V[X+Q]=K[O+Q]}function r(V,X,K,O){for(var j=0;j<O;j++)V[X+j]=K}function a(V){return new Int32Array(V)}function o(V,X){for(var K=[],O=0;O<V;O++)K.push(new X);return K}function c(V,X){var K=[];return function O(j,Q,Z){for(var me=Z[Q],z=0;z<me&&(j.push(Z.length>Q+1?[]:new X),!(Z.length<Q+1));z++)O(j[z],Q+1,Z)}(K,0,V),K}var u=function(){var V=this;function X(v,S){for(var D=1<<S-1>>>0;v&D;)D>>>=1;return D?(v&D-1)+D:v}function K(v,S,D,I,W){e(!(I%D));do v[S+(I-=D)]=W;while(0<I)}function O(v,S,D,I,W){if(e(2328>=W),512>=W)var ee=a(512);else if((ee=a(W))==null)return 0;return function(ne,re,se,de,be,De){var Pe,Ne,$e=re,Fe=1<<se,Se=a(16),Ae=a(16);for(e(be!=0),e(de!=null),e(ne!=null),e(0<se),Ne=0;Ne<be;++Ne){if(15<de[Ne])return 0;++Se[de[Ne]]}if(Se[0]==be)return 0;for(Ae[1]=0,Pe=1;15>Pe;++Pe){if(Se[Pe]>1<<Pe)return 0;Ae[Pe+1]=Ae[Pe]+Se[Pe]}for(Ne=0;Ne<be;++Ne)Pe=de[Ne],0<de[Ne]&&(De[Ae[Pe]++]=Ne);if(Ae[15]==1)return(de=new j).g=0,de.value=De[0],K(ne,$e,1,Fe,de),Fe;var ze,We=-1,He=Fe-1,st=0,et=1,vt=1,tt=1<<se;for(Ne=0,Pe=1,be=2;Pe<=se;++Pe,be<<=1){if(et+=vt<<=1,0>(vt-=Se[Pe]))return 0;for(;0<Se[Pe];--Se[Pe])(de=new j).g=Pe,de.value=De[Ne++],K(ne,$e+st,be,tt,de),st=X(st,Pe)}for(Pe=se+1,be=2;15>=Pe;++Pe,be<<=1){if(et+=vt<<=1,0>(vt-=Se[Pe]))return 0;for(;0<Se[Pe];--Se[Pe]){if(de=new j,(st&He)!=We){for($e+=tt,ze=1<<(We=Pe)-se;15>We&&!(0>=(ze-=Se[We]));)++We,ze<<=1;Fe+=tt=1<<(ze=We-se),ne[re+(We=st&He)].g=ze+se,ne[re+We].value=$e-re-We}de.g=Pe-se,de.value=De[Ne++],K(ne,$e+(st>>se),be,tt,de),st=X(st,Pe)}}return et!=2*Ae[15]-1?0:Fe}(v,S,D,I,W,ee)}function j(){this.value=this.g=0}function Q(){this.value=this.g=0}function Z(){this.G=o(5,j),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(hi,Q)}function me(v,S,D,I){e(v!=null),e(S!=null),e(2147483648>I),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=S,v.pa=D,v.Jd=S,v.Yc=D+I,v.Zc=4<=I?D+I-4+1:D,we(v)}function z(v,S){for(var D=0;0<S--;)D|=ve(v,128)<<S;return D}function G(v,S){var D=z(v,S);return ce(v)?-D:D}function te(v,S,D,I){var W,ee=0;for(e(v!=null),e(S!=null),e(4294967288>I),v.Sb=I,v.Ra=0,v.u=0,v.h=0,4<I&&(I=4),W=0;W<I;++W)ee+=S[D+W]<<8*W;v.Ra=ee,v.bb=I,v.oa=S,v.pa=D}function H(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<bo-8>>>0,++v.bb,v.u-=8;ie(v)&&(v.h=1,v.u=0)}function U(v,S){if(e(0<=S),!v.h&&S<=xo){var D=$(v)&Es[S];return v.u+=S,H(v),D}return v.h=1,v.u=0}function le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(v){return v.Ra>>>(v.u&bo-1)>>>0}function ie(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>bo}function ue(v,S){v.u=S,v.h=ie(v)}function fe(v){v.u>=gl&&(e(v.u>=gl),H(v))}function we(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function ce(v){return z(v,1)}function ve(v,S){var D=v.Ca;0>v.b&&we(v);var I=v.b,W=D*S>>>8,ee=(v.I>>>I>W)+0;for(ee?(D-=W,v.I-=W+1<<I>>>0):D=W+1,I=D,W=0;256<=I;)W+=8,I>>=8;return I=7^W+sr[I],v.b-=I,v.Ca=(D<<I)-1,ee}function _e(v,S,D){v[S+0]=D>>24&255,v[S+1]=D>>16&255,v[S+2]=D>>8&255,v[S+3]=D>>0&255}function Te(v,S){return v[S+0]<<0|v[S+1]<<8}function Oe(v,S){return Te(v,S)|v[S+2]<<16}function je(v,S){return Te(v,S)|Te(v,S+2)<<16}function Ke(v,S){var D=1<<S;return e(v!=null),e(0<S),v.X=a(D),v.X==null?0:(v.Mb=32-S,v.Xa=S,1)}function ge(v,S){e(v!=null),e(S!=null),e(v.Xa==S.Xa),i(S.X,0,v.X,0,1<<S.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function Ue(v,S,D,I){e(D!=null),e(I!=null);var W=D[0],ee=I[0];return W==0&&(W=(v*ee+S/2)/S),ee==0&&(ee=(S*W+v/2)/v),0>=W||0>=ee?0:(D[0]=W,I[0]=ee,1)}function ot(v,S){return v+(1<<S)-1>>>S}function qe(v,S){return((4278255360&v)+(4278255360&S)>>>0&4278255360)+((16711935&v)+(16711935&S)>>>0&16711935)>>>0}function Xe(v,S){V[S]=function(D,I,W,ee,ne,re,se){var de;for(de=0;de<ne;++de){var be=V[v](re[se+de-1],W,ee+de);re[se+de]=qe(D[I+de],be)}}}function Qe(){this.ud=this.hd=this.jd=0}function Ze(v,S){return((4278124286&(v^S))>>>1)+(v&S)>>>0}function ft(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Ct(v,S){return ft(v+(v-S+.5>>1))}function Rt(v,S,D){return Math.abs(S-D)-Math.abs(v-D)}function dt(v,S,D,I,W,ee,ne){for(I=ee[ne-1],D=0;D<W;++D)ee[ne+D]=I=qe(v[S+D],I)}function yt(v,S,D,I,W){var ee;for(ee=0;ee<D;++ee){var ne=v[S+ee],re=ne>>8&255,se=16711935&(se=(se=16711935&ne)+((re<<16)+re));I[W+ee]=(4278255360&ne)+se>>>0}}function kt(v,S){S.jd=v>>0&255,S.hd=v>>8&255,S.ud=v>>16&255}function nt(v,S,D,I,W,ee){var ne;for(ne=0;ne<I;++ne){var re=S[D+ne],se=re>>>8,de=re,be=255&(be=(be=re>>>16)+((v.jd<<24>>24)*(se<<24>>24)>>>5));de=255&(de=(de=de+((v.hd<<24>>24)*(se<<24>>24)>>>5))+((v.ud<<24>>24)*(be<<24>>24)>>>5)),W[ee+ne]=(4278255360&re)+(be<<16)+de}}function Ut(v,S,D,I,W){V[S]=function(ee,ne,re,se,de,be,De,Pe,Ne){for(se=De;se<Pe;++se)for(De=0;De<Ne;++De)de[be++]=W(re[I(ee[ne++])])},V[v]=function(ee,ne,re,se,de,be,De){var Pe=8>>ee.b,Ne=ee.Ea,$e=ee.K[0],Fe=ee.w;if(8>Pe)for(ee=(1<<ee.b)-1,Fe=(1<<Pe)-1;ne<re;++ne){var Se,Ae=0;for(Se=0;Se<Ne;++Se)Se&ee||(Ae=I(se[de++])),be[De++]=W($e[Ae&Fe]),Ae>>=Pe}else V["VP8LMapColor"+D](se,de,$e,Fe,be,De,ne,re,Ne)}}function rt(v,S,D,I,W){for(D=S+D;S<D;){var ee=v[S++];I[W++]=ee>>16&255,I[W++]=ee>>8&255,I[W++]=ee>>0&255}}function Pi(v,S,D,I,W){for(D=S+D;S<D;){var ee=v[S++];I[W++]=ee>>16&255,I[W++]=ee>>8&255,I[W++]=ee>>0&255,I[W++]=ee>>24&255}}function zt(v,S,D,I,W){for(D=S+D;S<D;){var ee=(ne=v[S++])>>16&240|ne>>12&15,ne=ne>>0&240|ne>>28&15;I[W++]=ee,I[W++]=ne}}function Kn(v,S,D,I,W){for(D=S+D;S<D;){var ee=(ne=v[S++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;I[W++]=ee,I[W++]=ne}}function Zt(v,S,D,I,W){for(D=S+D;S<D;){var ee=v[S++];I[W++]=ee>>0&255,I[W++]=ee>>8&255,I[W++]=ee>>16&255}}function pn(v,S,D,I,W,ee){if(ee==0)for(D=S+D;S<D;)_e(I,((ee=v[S++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),W+=32;else i(I,W,v,S,D)}function nr(v,S){V[S][0]=V[v+"0"],V[S][1]=V[v+"1"],V[S][2]=V[v+"2"],V[S][3]=V[v+"3"],V[S][4]=V[v+"4"],V[S][5]=V[v+"5"],V[S][6]=V[v+"6"],V[S][7]=V[v+"7"],V[S][8]=V[v+"8"],V[S][9]=V[v+"9"],V[S][10]=V[v+"10"],V[S][11]=V[v+"11"],V[S][12]=V[v+"12"],V[S][13]=V[v+"13"],V[S][14]=V[v+"0"],V[S][15]=V[v+"0"]}function cn(v){return v==Lc||v==js||v==Ya||v==bl}function gs(){this.eb=[],this.size=this.A=this.fb=0}function Fn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gs,this.f.kb=new Fn,this.sd=null}function _r(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function It(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function an(v,S){var D=v.T,I=S.ba.f.RGBA,W=I.eb,ee=I.fb+v.ka*I.A,ne=Ni[S.ba.S],re=v.y,se=v.O,de=v.f,be=v.N,De=v.ea,Pe=v.W,Ne=S.cc,$e=S.dc,Fe=S.Mc,Se=S.Nc,Ae=v.ka,ze=v.ka+v.T,We=v.U,He=We+1>>1;for(Ae==0?ne(re,se,null,null,de,be,De,Pe,de,be,De,Pe,W,ee,null,null,We):(ne(S.ec,S.fc,re,se,Ne,$e,Fe,Se,de,be,De,Pe,W,ee-I.A,W,ee,We),++D);Ae+2<ze;Ae+=2)Ne=de,$e=be,Fe=De,Se=Pe,be+=v.Rc,Pe+=v.Rc,ee+=2*I.A,ne(re,(se+=2*v.fa)-v.fa,re,se,Ne,$e,Fe,Se,de,be,De,Pe,W,ee-I.A,W,ee,We);return se+=v.fa,v.j+ze<v.o?(i(S.ec,S.fc,re,se,We),i(S.cc,S.dc,de,be,He),i(S.Mc,S.Nc,De,Pe,He),D--):1&ze||ne(re,se,null,null,de,be,De,Pe,de,be,De,Pe,W,ee+I.A,null,null,We),D}function ka(v,S,D){var I=v.F,W=[v.J];if(I!=null){var ee=v.U,ne=S.ba.S,re=ne==Ao||ne==Ya;S=S.ba.f.RGBA;var se=[0],de=v.ka;se[0]=v.T,v.Kb&&(de==0?--se[0]:(--de,W[0]-=v.width),v.j+v.ka+v.T==v.o&&(se[0]=v.o-v.j-de));var be=S.eb;de=S.fb+de*S.A,v=Wt(I,W[0],v.width,ee,se,be,de+(re?0:3),S.A),e(D==se),v&&cn(ne)&&Mr(be,de,re,ee,se,S.A)}return 0}function fi(v){var S=v.ma,D=S.ba.S,I=11>D,W=D==xl||D==Pc||D==Ao||D==Wa||D==12||cn(D);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Ns(S.Oa,v,W?11:12))return 0;if(W&&cn(D)&&Je(),v.da)alert("todo:use_scaling");else{if(I){if(S.Ib=It,v.Kb){if(D=v.U+1>>1,S.memory=a(v.U+2*D),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+v.U,S.Mc=S.cc,S.Nc=S.dc+D,S.Ib=an,Je()}}else alert("todo:EmitYUV");W&&(S.Jb=ka,I&&Me())}if(I&&!Vh){for(v=0;256>v;++v)fg[v]=89858*(v-128)+mi>>_a,kc[v]=-22014*(v-128)+mi,nd[v]=-45773*(v-128),gi[v]=113618*(v-128)+mi>>_a;for(v=zs;v<Bu;++v)S=76283*(v-16)+mi>>_a,Ic[v-zs]=Er(S,255),id[v-zs]=Er(S+8>>4,15);Vh=1}return 1}function Wr(v){var S=v.ma,D=v.U,I=v.T;return e(!(1&v.ka)),0>=D||0>=I?0:(D=S.Ib(v,S),S.Jb!=null&&S.Jb(v,S,D),S.Dc+=D,1)}function fa(v){v.ma.memory=null}function gt(v,S,D,I){return U(v,8)!=47?0:(S[0]=U(v,14)+1,D[0]=U(v,14)+1,I[0]=U(v,1),U(v,3)!=0?0:!v.h)}function Sn(v,S){if(4>v)return v+1;var D=v-2>>1;return(2+(1&v)<<D)+U(S,D)+1}function On(v,S){return 120<S?S-120:1<=(D=((D=Ka[S-1])>>4)*v+(8-(15&D)))?D:1;var D}function di(v,S,D){var I=$(D),W=v[S+=255&I].g-8;return 0<W&&(ue(D,D.u+8),I=$(D),S+=v[S].value,S+=I&(1<<W)-1),ue(D,D.u+v[S].g),v[S].value}function Xn(v,S,D){return D.g+=v.g,D.value+=v.value<<S>>>0,e(8>=D.g),v.g}function ri(v,S,D){var I=v.xc;return e((S=I==0?0:v.vc[v.md*(D>>I)+(S>>I)])<v.Wb),v.Ya[S]}function Sr(v,S,D,I){var W=v.ab,ee=v.c*S,ne=v.C;S=ne+S;var re=D,se=I;for(I=v.Ta,D=v.Ua;0<W--;){var de=v.gc[W],be=ne,De=S,Pe=re,Ne=se,$e=(se=I,re=D,de.Ea);switch(e(be<De),e(De<=de.nc),de.hc){case 2:Ru(Pe,Ne,(De-be)*$e,se,re);break;case 0:var Fe=be,Se=De,Ae=se,ze=re,We=(tt=de).Ea;Fe==0&&(ed(Pe,Ne,null,null,1,Ae,ze),dt(Pe,Ne+1,0,0,We-1,Ae,ze+1),Ne+=We,ze+=We,++Fe);for(var He=1<<tt.b,st=He-1,et=ot(We,tt.b),vt=tt.K,tt=tt.w+(Fe>>tt.b)*et;Fe<Se;){var tn=vt,un=tt,Gt=1;for(Ec(Pe,Ne,Ae,ze-We,1,Ae,ze);Gt<We;){var Vt=(Gt&~st)+He;Vt>We&&(Vt=We),(0,Ha[tn[un++]>>8&15])(Pe,Ne+ +Gt,Ae,ze+Gt-We,Vt-Gt,Ae,ze+Gt),Gt=Vt}Ne+=We,ze+=We,++Fe&st||(tt+=et)}De!=de.nc&&i(se,re-$e,se,re+(De-be-1)*$e,$e);break;case 1:for($e=Pe,Se=Ne,We=(Pe=de.Ea)-(ze=Pe&~(Ae=(Ne=1<<de.b)-1)),Fe=ot(Pe,de.b),He=de.K,de=de.w+(be>>de.b)*Fe;be<De;){for(st=He,et=de,vt=new Qe,tt=Se+ze,tn=Se+Pe;Se<tt;)kt(st[et++],vt),Ps(vt,$e,Se,Ne,se,re),Se+=Ne,re+=Ne;Se<tn&&(kt(st[et++],vt),Ps(vt,$e,Se,We,se,re),Se+=We,re+=We),++be&Ae||(de+=Fe)}break;case 3:if(Pe==se&&Ne==re&&0<de.b){for(Se=se,Pe=$e=re+(De-be)*$e-(ze=(De-be)*ot(de.Ea,de.b)),Ne=se,Ae=re,Fe=[],ze=(We=ze)-1;0<=ze;--ze)Fe[ze]=Ne[Ae+ze];for(ze=We-1;0<=ze;--ze)Se[Pe+ze]=Fe[ze];Ir(de,be,De,se,$e,se,re)}else Ir(de,be,De,Pe,Ne,se,re)}re=I,se=D}se!=D&&i(I,D,re,se,ee)}function co(v,S){var D=v.V,I=v.Ba+v.c*v.C,W=S-v.C;if(e(S<=v.l.o),e(16>=W),0<W){var ee=v.l,ne=v.Ta,re=v.Ua,se=ee.width;if(Sr(v,W,D,I),W=re=[re],e((D=v.C)<(I=S)),e(ee.v<ee.va),I>ee.o&&(I=ee.o),D<ee.j){var de=ee.j-D;D=ee.j,W[0]+=de*se}if(D>=I?D=0:(W[0]+=4*ee.v,ee.ka=D-ee.j,ee.U=ee.va-ee.v,ee.T=I-D,D=1),D){if(re=re[0],11>(D=v.ca).S){var be=D.f.RGBA,De=(I=D.S,W=ee.U,ee=ee.T,de=be.eb,be.A),Pe=ee;for(be=be.fb+v.Ma*be.A;0<Pe--;){var Ne=ne,$e=re,Fe=W,Se=de,Ae=be;switch(I){case qi:Ki(Ne,$e,Fe,Se,Ae);break;case xl:Di(Ne,$e,Fe,Se,Ae);break;case Lc:Di(Ne,$e,Fe,Se,Ae),Mr(Se,Ae,0,Fe,1,0);break;case va:Zr(Ne,$e,Fe,Se,Ae);break;case Pc:pn(Ne,$e,Fe,Se,Ae,1);break;case js:pn(Ne,$e,Fe,Se,Ae,1),Mr(Se,Ae,0,Fe,1,0);break;case Ao:pn(Ne,$e,Fe,Se,Ae,0);break;case Ya:pn(Ne,$e,Fe,Se,Ae,0),Mr(Se,Ae,1,Fe,1,0);break;case Wa:Ls(Ne,$e,Fe,Se,Ae);break;case bl:Ls(Ne,$e,Fe,Se,Ae),$t(Se,Ae,Fe,1,0);break;case Iu:or(Ne,$e,Fe,Se,Ae);break;default:e(0)}re+=se,be+=De}v.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=D.height)}}v.C=S,e(v.C<=v.i)}function Cr(v){var S;if(0<v.ua)return 0;for(S=0;S<v.Wb;++S){var D=v.Ya[S].G,I=v.Ya[S].H;if(0<D[1][I[1]+0].g||0<D[2][I[2]+0].g||0<D[3][I[3]+0].g)return 0}return 1}function Ar(v,S,D,I,W,ee){if(v.Z!=0){var ne=v.qd,re=v.rd;for(e(ba[v.Z]!=null);S<D;++S)ba[v.Z](ne,re,I,W,I,W,ee),ne=I,re=W,W+=ee;v.qd=ne,v.rd=re}}function Ui(v,S){var D=v.l.ma,I=D.Z==0||D.Z==1?v.l.j:v.C;if(I=v.C<I?I:v.C,e(S<=v.l.o),S>I){var W=v.l.width,ee=D.ca,ne=D.tb+W*I,re=v.V,se=v.Ba+v.c*I,de=v.gc;e(v.ab==1),e(de[0].hc==3),Ms(de[0],I,S,re,se,ee,ne),Ar(D,I,S,ee,ne,W)}v.C=v.Ma=S}function Bi(v,S,D,I,W,ee,ne){var re=v.$/I,se=v.$%I,de=v.m,be=v.s,De=D+v.$,Pe=De;W=D+I*W;var Ne=D+I*ee,$e=280+be.ua,Fe=v.Pb?re:16777216,Se=0<be.ua?be.Wa:null,Ae=be.wc,ze=De<Ne?ri(be,se,re):null;e(v.C<ee),e(Ne<=W);var We=!1;e:for(;;){for(;We||De<Ne;){var He=0;if(re>=Fe){var st=De-D;e((Fe=v).Pb),Fe.wd=Fe.m,Fe.xd=st,0<Fe.s.ua&&ge(Fe.s.Wa,Fe.s.vb),Fe=re+Bh}if(se&Ae||(ze=ri(be,se,re)),e(ze!=null),ze.Qb&&(S[De]=ze.qb,We=!0),!We)if(fe(de),ze.jc){He=de,st=S;var et=De,vt=ze.pd[$(He)&hi-1];e(ze.jc),256>vt.g?(ue(He,He.u+vt.g),st[et]=vt.value,He=0):(ue(He,He.u+vt.g-256),e(256<=vt.value),He=vt.value),He==0&&(We=!0)}else He=di(ze.G[0],ze.H[0],de);if(de.h)break;if(We||256>He){if(!We)if(ze.nd)S[De]=(ze.qb|He<<8)>>>0;else{if(fe(de),We=di(ze.G[1],ze.H[1],de),fe(de),st=di(ze.G[2],ze.H[2],de),et=di(ze.G[3],ze.H[3],de),de.h)break;S[De]=(et<<24|We<<16|He<<8|st)>>>0}if(We=!1,++De,++se>=I&&(se=0,++re,ne!=null&&re<=ee&&!(re%16)&&ne(v,re),Se!=null))for(;Pe<De;)He=S[Pe++],Se.X[(506832829*He&4294967295)>>>Se.Mb]=He}else if(280>He){if(He=Sn(He-256,de),st=di(ze.G[4],ze.H[4],de),fe(de),st=On(I,st=Sn(st,de)),de.h)break;if(De-D<st||W-De<He)break e;for(et=0;et<He;++et)S[De+et]=S[De+et-st];for(De+=He,se+=He;se>=I;)se-=I,++re,ne!=null&&re<=ee&&!(re%16)&&ne(v,re);if(e(De<=W),se&Ae&&(ze=ri(be,se,re)),Se!=null)for(;Pe<De;)He=S[Pe++],Se.X[(506832829*He&4294967295)>>>Se.Mb]=He}else{if(!(He<$e))break e;for(We=He-280,e(Se!=null);Pe<De;)He=S[Pe++],Se.X[(506832829*He&4294967295)>>>Se.Mb]=He;He=De,e(!(We>>>(st=Se).Xa)),S[He]=st.X[We],We=!0}We||e(de.h==ie(de))}if(v.Pb&&de.h&&De<W)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&ge(v.s.vb,v.s.Wa);else{if(de.h)break e;ne!=null&&ne(v,re>ee?ee:re),v.a=0,v.$=De-D}return 1}return v.a=3,0}function ir(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var S=v.Wa;S!=null&&(S.X=null),v.vb=null,e(v!=null)}function Li(){var v=new Zf;return v==null?null:(v.a=0,v.xb=wl,nr("Predictor","VP8LPredictors"),nr("Predictor","VP8LPredictors_C"),nr("PredictorAdd","VP8LPredictorsAdd"),nr("PredictorAdd","VP8LPredictorsAdd_C"),Ru=yt,Ps=nt,Ki=rt,Di=Pi,Ls=zt,or=Kn,Zr=Zt,V.VP8LMapColor32b=Ai,V.VP8LMapColor8b=Mc,v)}function gn(v,S,D,I,W){var ee=1,ne=[v],re=[S],se=I.m,de=I.s,be=null,De=0;e:for(;;){if(D)for(;ee&&U(se,1);){var Pe=ne,Ne=re,$e=I,Fe=1,Se=$e.m,Ae=$e.gc[$e.ab],ze=U(Se,2);if($e.Oc&1<<ze)ee=0;else{switch($e.Oc|=1<<ze,Ae.hc=ze,Ae.Ea=Pe[0],Ae.nc=Ne[0],Ae.K=[null],++$e.ab,e(4>=$e.ab),ze){case 0:case 1:Ae.b=U(Se,3)+2,Fe=gn(ot(Ae.Ea,Ae.b),ot(Ae.nc,Ae.b),0,$e,Ae.K),Ae.K=Ae.K[0];break;case 3:var We,He=U(Se,8)+1,st=16<He?0:4<He?1:2<He?2:3;if(Pe[0]=ot(Ae.Ea,st),Ae.b=st,We=Fe=gn(He,1,0,$e,Ae.K)){var et,vt=He,tt=Ae,tn=1<<(8>>tt.b),un=a(tn);if(un==null)We=0;else{var Gt=tt.K[0],Vt=tt.w;for(un[0]=tt.K[0][0],et=1;et<1*vt;++et)un[et]=qe(Gt[Vt+et],un[et-1]);for(;et<4*tn;++et)un[et]=0;tt.K[0]=null,tt.K[0]=un,We=1}}Fe=We;break;case 2:break;default:e(0)}ee=Fe}}if(ne=ne[0],re=re[0],ee&&U(se,1)&&!(ee=1<=(De=U(se,4))&&11>=De)){I.a=3;break e}var mn;if(mn=ee)t:{var fn,Ot,yn,St=I,Mt=ne,en=re,nn=De,Ei=D,yi=St.m,ti=St.s,ni=[null],si=1,Ur=0,dn=No[nn];n:for(;;){if(Ei&&U(yi,1)){var oi=U(yi,3)+2,na=ot(Mt,oi),qs=ot(en,oi),Po=na*qs;if(!gn(na,qs,0,St,ni))break n;for(ni=ni[0],ti.xc=oi,fn=0;fn<Po;++fn){var Vs=ni[fn]>>8&65535;ni[fn]=Vs,Vs>=si&&(si=Vs+1)}}if(yi.h)break n;for(Ot=0;5>Ot;++Ot){var Rn=Pr[Ot];!Ot&&0<nn&&(Rn+=1<<nn),Ur<Rn&&(Ur=Rn)}var Fc=o(si*dn,j),zu=si,Qi=o(zu,Z);if(Qi==null)var Un=null;else e(65536>=zu),Un=Qi;var Lo=a(Ur);if(Un==null||Lo==null||Fc==null){St.a=1;break n}var Hs=Fc;for(fn=yn=0;fn<si;++fn){var cr=Un[fn],Gs=cr.G,ur=cr.H,Oc=0,Sl=1,qu=0;for(Ot=0;5>Ot;++Ot){Rn=Pr[Ot],Gs[Ot]=Hs,ur[Ot]=yn,!Ot&&0<nn&&(Rn+=1<<nn);r:{var jc,Vu=Rn,Uc=St,Cl=Lo,$h=Hs,Wh=yn,Bc=0,es=Uc.m,hg=U(es,1);if(r(Cl,0,0,Vu),hg){var Yh=U(es,1)+1,Jh=U(es,1),rd=U(es,Jh==0?1:8);Cl[rd]=1,Yh==2&&(Cl[rd=U(es,8)]=1);var Al=1}else{var ad=a(19),sd=U(es,4)+4;if(19<sd){Uc.a=3;var zc=0;break r}for(jc=0;jc<sd;++jc)ad[Ja[jc]]=U(es,3);var Hu=void 0,Tl=void 0,Kh=Uc,Xh=ad,ts=Vu,qc=Cl,Gu=0,ia=Kh.m,Nl=8,od=o(128,j);i:for(;O(od,0,7,Xh,19);){if(U(ia,1)){var Qh=2+2*U(ia,3);if((Hu=2+U(ia,Qh))>ts)break i}else Hu=ts;for(Tl=0;Tl<ts&&Hu--;){fe(ia);var ld=od[0+(127&$(ia))];ue(ia,ia.u+ld.g);var Do=ld.value;if(16>Do)qc[Tl++]=Do,Do!=0&&(Nl=Do);else{var Zh=Do==16,cd=Do-16,ud=jr[cd],fd=U(ia,Fu[cd])+ud;if(Tl+fd>ts)break i;for(var ep=Zh?Nl:0;0<fd--;)qc[Tl++]=ep}}Gu=1;break i}Gu||(Kh.a=3),Al=Gu}(Al=Al&&!es.h)&&(Bc=O($h,Wh,8,Cl,Vu)),Al&&Bc!=0?zc=Bc:(Uc.a=3,zc=0)}if(zc==0)break n;if(Sl&&To[Ot]==1&&(Sl=Hs[yn].g==0),Oc+=Hs[yn].g,yn+=zc,3>=Ot){var Ro,$u=Lo[0];for(Ro=1;Ro<Rn;++Ro)Lo[Ro]>$u&&($u=Lo[Ro]);qu+=$u}}if(cr.nd=Sl,cr.Qb=0,Sl&&(cr.qb=(Gs[3][ur[3]+0].value<<24|Gs[1][ur[1]+0].value<<16|Gs[2][ur[2]+0].value)>>>0,Oc==0&&256>Gs[0][ur[0]+0].value&&(cr.Qb=1,cr.qb+=Gs[0][ur[0]+0].value<<8)),cr.jc=!cr.Qb&&6>qu,cr.jc){var Vc,ns=cr;for(Vc=0;Vc<hi;++Vc){var Sa=Vc,is=ns.pd[Sa],Hc=ns.G[0][ns.H[0]+Sa];256<=Hc.value?(is.g=Hc.g+256,is.value=Hc.value):(is.g=0,is.value=0,Sa>>=Xn(Hc,8,is),Sa>>=Xn(ns.G[1][ns.H[1]+Sa],16,is),Sa>>=Xn(ns.G[2][ns.H[2]+Sa],0,is),Xn(ns.G[3][ns.H[3]+Sa],24,is))}}}ti.vc=ni,ti.Wb=si,ti.Ya=Un,ti.yc=Fc,mn=1;break t}mn=0}if(!(ee=mn)){I.a=3;break e}if(0<De){if(de.ua=1<<De,!Ke(de.Wa,De)){I.a=1,ee=0;break e}}else de.ua=0;var Gc=I,dd=ne,tp=re,hd=Gc.s,pd=hd.xc;if(Gc.c=dd,Gc.i=tp,hd.md=ot(dd,pd),hd.wc=pd==0?-1:(1<<pd)-1,D){I.xb=qh;break e}if((be=a(ne*re))==null){I.a=1,ee=0;break e}ee=(ee=Bi(I,be,0,ne,re,re,null))&&!se.h;break e}return ee?(W!=null?W[0]=be:(e(be==null),e(D)),I.$=0,D||ir(de)):ir(de),ee}function ys(v,S){var D=v.c*v.i,I=D+S+16*S;return e(v.c<=S),v.V=a(I),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+D+S,1)}function uo(v,S){var D=v.C,I=S-D,W=v.V,ee=v.Ba+v.c*D;for(e(S<=v.l.o);0<I;){var ne=16<I?16:I,re=v.l.ma,se=v.l.width,de=se*ne,be=re.ca,De=re.tb+se*D,Pe=v.Ta,Ne=v.Ua;Sr(v,ne,W,ee),Cn(Pe,Ne,be,De,de),Ar(re,D,D+ne,be,De,se),I-=ne,W+=ne*v.c,D+=ne}e(D==S),v.C=v.Ma=S}function Dr(){this.ub=this.yd=this.td=this.Rb=0}function Yr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function el(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function hc(){this.Yb=function(){var v=[];return function S(D,I,W){for(var ee=W[I],ne=0;ne<ee&&(D.push(W.length>I+1?[]:0),!(W.length<I+1));ne++)S(D[ne],I+1,W)}(v,0,[3,11]),v}()}function _u(){this.jb=a(3),this.Wc=c([4,8],hc),this.Xc=c([4,17],hc)}function Yf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ia(){this.ld=this.La=this.dd=this.tc=0}function fo(){this.Na=this.la=0}function Jr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ho(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Su(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ia),this.Y=0,this.ya=Array(new ho),this.aa=0,this.l=new vs}function Fa(){this.y=a(16),this.f=a(8),this.ea=a(8)}function pc(){this.cb=this.a=0,this.sc="",this.m=new le,this.Od=new Dr,this.Kc=new Yr,this.ed=new Yf,this.Qa=new el,this.Ic=this.$c=this.Aa=0,this.D=new Su,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,le),this.ia=0,this.pb=o(4,Jr),this.Pa=new _u,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fa),this.Hd=0,this.rb=Array(new fo),this.sb=0,this.wa=Array(new Ia),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ho),this.L=this.aa=0,this.gd=c([4,2],Ia),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function vs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Jf(){var v=new pc;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,pi||(pi=Cu)),v}function Hn(v,S,D){return v.a==0&&(v.a=S,v.sc=D,v.cb=0),0}function Ji(v,S,D){return 3<=D&&v[S+0]==157&&v[S+1]==1&&v[S+2]==42}function mc(v,S){if(v==null)return 0;if(v.a=0,v.sc="OK",S==null)return Hn(v,2,"null VP8Io passed to VP8GetHeaders()");var D=S.data,I=S.w,W=S.ha;if(4>W)return Hn(v,7,"Truncated header.");var ee=D[I+0]|D[I+1]<<8|D[I+2]<<16,ne=v.Od;if(ne.Rb=!(1&ee),ne.td=ee>>1&7,ne.yd=ee>>4&1,ne.ub=ee>>5,3<ne.td)return Hn(v,3,"Incorrect keyframe parameters.");if(!ne.yd)return Hn(v,4,"Frame not displayable.");I+=3,W-=3;var re=v.Kc;if(ne.Rb){if(7>W)return Hn(v,7,"cannot parse picture header");if(!Ji(D,I,W))return Hn(v,3,"Bad code word");re.c=16383&(D[I+4]<<8|D[I+3]),re.Td=D[I+4]>>6,re.i=16383&(D[I+6]<<8|D[I+5]),re.Ud=D[I+6]>>6,I+=7,W-=7,v.za=re.c+15>>4,v.Ub=re.i+15>>4,S.width=re.c,S.height=re.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,r((ee=v.Pa).jb,0,255,ee.jb.length),e((ee=v.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,r(ee.Zb,0,0,ee.Zb.length),r(ee.Lb,0,0,ee.Lb)}if(ne.ub>W)return Hn(v,7,"bad partition length");me(ee=v.m,D,I,ne.ub),I+=ne.ub,W-=ne.ub,ne.Rb&&(re.Ld=ce(ee),re.Kd=ce(ee)),re=v.Qa;var se,de=v.Pa;if(e(ee!=null),e(re!=null),re.Cb=ce(ee),re.Cb){if(re.Bb=ce(ee),ce(ee)){for(re.Fb=ce(ee),se=0;4>se;++se)re.Zb[se]=ce(ee)?G(ee,7):0;for(se=0;4>se;++se)re.Lb[se]=ce(ee)?G(ee,6):0}if(re.Bb)for(se=0;3>se;++se)de.jb[se]=ce(ee)?z(ee,8):255}else re.Bb=0;if(ee.Ka)return Hn(v,3,"cannot parse segment header");if((re=v.ed).zd=ce(ee),re.Tb=z(ee,6),re.wb=z(ee,3),re.Pc=ce(ee),re.Pc&&ce(ee)){for(de=0;4>de;++de)ce(ee)&&(re.vd[de]=G(ee,6));for(de=0;4>de;++de)ce(ee)&&(re.od[de]=G(ee,6))}if(v.L=re.Tb==0?0:re.zd?1:2,ee.Ka)return Hn(v,3,"cannot parse filter header");var be=W;if(W=se=I,I=se+be,re=be,v.Xb=(1<<z(v.m,2))-1,be<3*(de=v.Xb))D=7;else{for(se+=3*de,re-=3*de,be=0;be<de;++be){var De=D[W+0]|D[W+1]<<8|D[W+2]<<16;De>re&&(De=re),me(v.Jc[+be],D,se,De),se+=De,re-=De,W+=3}me(v.Jc[+de],D,se,re),D=se<I?0:5}if(D!=0)return Hn(v,D,"cannot parse partitions");for(D=z(se=v.m,7),W=ce(se)?G(se,4):0,I=ce(se)?G(se,4):0,re=ce(se)?G(se,4):0,de=ce(se)?G(se,4):0,se=ce(se)?G(se,4):0,be=v.Qa,De=0;4>De;++De){if(be.Cb){var Pe=be.Zb[De];be.Fb||(Pe+=D)}else{if(0<De){v.pb[De]=v.pb[0];continue}Pe=D}var Ne=v.pb[De];Ne.Sc[0]=Dc[Er(Pe+W,127)],Ne.Sc[1]=Rc[Er(Pe+0,127)],Ne.Eb[0]=2*Dc[Er(Pe+I,127)],Ne.Eb[1]=101581*Rc[Er(Pe+re,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=Dc[Er(Pe+de,117)],Ne.Qc[1]=Rc[Er(Pe+se,127)],Ne.lc=Pe+se}if(!ne.Rb)return Hn(v,4,"Not a key frame.");for(ce(ee),ne=v.Pa,D=0;4>D;++D){for(W=0;8>W;++W)for(I=0;3>I;++I)for(re=0;11>re;++re)de=ve(ee,Eo[D][W][I][re])?z(ee,8):xa[D][W][I][re],ne.Wc[D][W].Yb[I][re]=de;for(W=0;17>W;++W)ne.Xc[D][W]=ne.Wc[D][zh[W]]}return v.kc=ce(ee),v.kc&&(v.Bd=z(ee,8)),v.cb=1}function Cu(v,S,D,I,W,ee,ne){var re=S[W].Yb[D];for(D=0;16>W;++W){if(!ve(v,re[D+0]))return W;for(;!ve(v,re[D+1]);)if(re=S[++W].Yb[0],D=0,W==16)return 16;var se=S[W+1].Yb;if(ve(v,re[D+2])){var de=v,be=0;if(ve(de,(Pe=re)[(De=D)+3]))if(ve(de,Pe[De+6])){for(re=0,De=2*(be=ve(de,Pe[De+8]))+(Pe=ve(de,Pe[De+9+be])),be=0,Pe=Wn[De];Pe[re];++re)be+=be+ve(de,Pe[re]);be+=3+(8<<De)}else ve(de,Pe[De+7])?(be=7+2*ve(de,165),be+=ve(de,145)):be=5+ve(de,159);else be=ve(de,Pe[De+4])?3+ve(de,Pe[De+5]):2;re=se[2]}else be=1,re=se[1];se=ne+sn[W],0>(de=v).b&&we(de);var De,Pe=de.b,Ne=(De=de.Ca>>1)-(de.I>>Pe)>>31;--de.b,de.Ca+=Ne,de.Ca|=1,de.I-=(De+1&Ne)<<Pe,ee[se]=((be^Ne)-Ne)*I[(0<W)+0]}return 16}function xs(v){var S=v.rb[v.sb-1];S.la=0,S.Na=0,r(v.zc,0,0,v.zc.length),v.ja=0}function Au(v,S){if(v==null)return 0;if(S==null)return Hn(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!mc(v,S))return 0;if(e(v.cb),S.ac==null||S.ac(S)){S.ob&&(v.L=0);var D=Za[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=S.v-D>>4,v.zb=S.j-D>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=S.o+15+D>>4,v.Hb=S.va+15+D>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var I=v.ed;for(D=0;4>D;++D){var W;if(v.Qa.Cb){var ee=v.Qa.Lb[D];v.Qa.Fb||(ee+=I.Tb)}else ee=I.Tb;for(W=0;1>=W;++W){var ne=v.gd[D][W],re=ee;if(I.Pc&&(re+=I.vd[0],W&&(re+=I.od[0])),0<(re=0>re?0:63<re?63:re)){var se=re;0<I.wb&&(se=4<I.wb?se>>2:se>>1)>9-I.wb&&(se=9-I.wb),1>se&&(se=1),ne.dd=se,ne.tc=2*re+se,ne.ld=40<=re?2:15<=re?1:0}else ne.tc=0;ne.La=W}}}D=0}else Hn(v,6,"Frame setup failed"),D=v.a;if(D=D==0){if(D){v.$c=0,0<v.Aa||(v.Ic=Hh);e:{D=v.Ic,I=4*(se=v.za);var de=32*se,be=se+1,De=0<v.L?se*(0<v.Aa?2:1):0,Pe=(v.Aa==2?2:1)*se;if((ne=I+832+(W=3*(16*D+Za[v.L])/2*de)+(ee=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=ne)D=0;else{if(ne>v.Vb){if(v.Vb=0,v.Ec=a(ne),v.Fc=0,v.Ec==null){D=Hn(v,1,"no memory during frame initialization.");break e}v.Vb=ne}ne=v.Ec,re=v.Fc,v.Ac=ne,v.Bc=re,re+=I,v.Gd=o(de,Fa),v.Hd=0,v.rb=o(be+1,fo),v.sb=1,v.wa=De?o(De,Ia):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=se),e(!0),v.oc=ne,v.pc=re,re+=832,v.ya=o(Pe,ho),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=se),v.R=16*se,v.B=8*se,se=(de=Za[v.L])*v.R,de=de/2*v.B,v.sa=ne,v.ta=re+se,v.qa=v.sa,v.ra=v.ta+16*D*v.R+de,v.Ha=v.qa,v.Ia=v.ra+8*D*v.B+de,v.$c=0,re+=W,v.mb=ee?ne:null,v.nb=ee?re:null,e(re+ee<=v.Fc+v.Vb),xs(v),r(v.Ac,v.Bc,0,I),D=1}}if(D){if(S.ka=0,S.y=v.sa,S.O=v.ta,S.f=v.qa,S.N=v.ra,S.ea=v.Ha,S.Vd=v.Ia,S.fa=v.R,S.Rc=v.B,S.F=null,S.J=0,!$a){for(D=-255;255>=D;++D)ei[255+D]=0>D?-D:D;for(D=-1020;1020>=D;++D)Fr[1020+D]=-128>D?-128:127<D?127:D;for(D=-112;112>=D;++D)Fs[112+D]=-16>D?-16:15<D?15:D;for(D=-255;510>=D;++D)Os[255+D]=0>D?0:255<D?255:D;$a=1}ga=bs,ea=yc,ta=Oa,ai=Tu,lr=vc,Gn=gc,wo=mo,ya=go,yl=Qf,Ds=Sc,Rs=Xf,ks=ll,_o=cl,vl=Du,Is=Cs,Ga=Nr,So=ma,$n=Kf,Xi[0]=ar,Xi[1]=Nu,Xi[2]=wc,Xi[3]=Mu,Xi[4]=Rr,Xi[5]=da,Xi[6]=rl,Xi[7]=kr,Xi[8]=al,Xi[9]=_c,Xa[0]=il,Xa[1]=bc,Xa[2]=ja,Xa[3]=nl,Xa[4]=Si,Xa[5]=ws,Xa[6]=Ba,Lr[0]=za,Lr[1]=Eu,Lr[2]=Pu,Lr[3]=_s,Lr[4]=Tr,Lr[5]=zi,Lr[6]=Ss,D=1}else D=0}D&&(D=function(Ne,$e){for(Ne.M=0;Ne.M<Ne.Va;++Ne.M){var Fe,Se=Ne.Jc[Ne.M&Ne.Xb],Ae=Ne.m,ze=Ne;for(Fe=0;Fe<ze.za;++Fe){var We=Ae,He=ze,st=He.Ac,et=He.Bc+4*Fe,vt=He.zc,tt=He.ya[He.aa+Fe];if(He.Qa.Bb?tt.$b=ve(We,He.Pa.jb[0])?2+ve(We,He.Pa.jb[2]):ve(We,He.Pa.jb[1]):tt.$b=0,He.kc&&(tt.Ad=ve(We,He.Bd)),tt.Za=!ve(We,145)+0,tt.Za){var tn=tt.Ob,un=0;for(He=0;4>He;++He){var Gt,Vt=vt[0+He];for(Gt=0;4>Gt;++Gt){Vt=td[st[et+Gt]][Vt];for(var mn=Us[ve(We,Vt[0])];0<mn;)mn=Us[2*mn+ve(We,Vt[mn])];Vt=-mn,st[et+Gt]=Vt}i(tn,un,st,et,4),un+=4,vt[0+He]=Vt}}else Vt=ve(We,156)?ve(We,128)?1:3:ve(We,163)?2:0,tt.Ob[0]=Vt,r(st,et,Vt,4),r(vt,0,Vt,4);tt.Dd=ve(We,142)?ve(We,114)?ve(We,183)?1:3:2:0}if(ze.m.Ka)return Hn(Ne,7,"Premature end-of-partition0 encountered.");for(;Ne.ja<Ne.za;++Ne.ja){if(ze=Se,We=(Ae=Ne).rb[Ae.sb-1],st=Ae.rb[Ae.sb+Ae.ja],Fe=Ae.ya[Ae.aa+Ae.ja],et=Ae.kc?Fe.Ad:0)We.la=st.la=0,Fe.Za||(We.Na=st.Na=0),Fe.Hc=0,Fe.Gc=0,Fe.ia=0;else{var fn,Ot;if(We=st,st=ze,et=Ae.Pa.Xc,vt=Ae.ya[Ae.aa+Ae.ja],tt=Ae.pb[vt.$b],He=vt.ad,tn=0,un=Ae.rb[Ae.sb-1],Vt=Gt=0,r(He,tn,0,384),vt.Za)var yn=0,St=et[3];else{mn=a(16);var Mt=We.Na+un.Na;if(Mt=pi(st,et[1],Mt,tt.Eb,0,mn,0),We.Na=un.Na=(0<Mt)+0,1<Mt)ga(mn,0,He,tn);else{var en=mn[0]+3>>3;for(mn=0;256>mn;mn+=16)He[tn+mn]=en}yn=1,St=et[0]}var nn=15&We.la,Ei=15&un.la;for(mn=0;4>mn;++mn){var yi=1&Ei;for(en=Ot=0;4>en;++en)nn=nn>>1|(yi=(Mt=pi(st,St,Mt=yi+(1&nn),tt.Sc,yn,He,tn))>yn)<<7,Ot=Ot<<2|(3<Mt?3:1<Mt?2:He[tn+0]!=0),tn+=16;nn>>=4,Ei=Ei>>1|yi<<7,Gt=(Gt<<8|Ot)>>>0}for(St=nn,yn=Ei>>4,fn=0;4>fn;fn+=2){for(Ot=0,nn=We.la>>4+fn,Ei=un.la>>4+fn,mn=0;2>mn;++mn){for(yi=1&Ei,en=0;2>en;++en)Mt=yi+(1&nn),nn=nn>>1|(yi=0<(Mt=pi(st,et[2],Mt,tt.Qc,0,He,tn)))<<3,Ot=Ot<<2|(3<Mt?3:1<Mt?2:He[tn+0]!=0),tn+=16;nn>>=2,Ei=Ei>>1|yi<<5}Vt|=Ot<<4*fn,St|=nn<<4<<fn,yn|=(240&Ei)<<fn}We.la=St,un.la=yn,vt.Hc=Gt,vt.Gc=Vt,vt.ia=43690&Vt?0:tt.ia,et=!(Gt|Vt)}if(0<Ae.L&&(Ae.wa[Ae.Y+Ae.ja]=Ae.gd[Fe.$b][Fe.Za],Ae.wa[Ae.Y+Ae.ja].La|=!et),ze.Ka)return Hn(Ne,7,"Premature end-of-file encountered.")}if(xs(Ne),Ae=$e,ze=1,Fe=(Se=Ne).D,We=0<Se.L&&Se.M>=Se.zb&&Se.M<=Se.Va,Se.Aa==0)e:{if(Fe.M=Se.M,Fe.uc=We,Va(Se,Fe),ze=1,Fe=(Ot=Se.D).Nb,We=(Vt=Za[Se.L])*Se.R,st=Vt/2*Se.B,mn=16*Fe*Se.R,en=8*Fe*Se.B,et=Se.sa,vt=Se.ta-We+mn,tt=Se.qa,He=Se.ra-st+en,tn=Se.Ha,un=Se.Ia-st+en,Ei=(nn=Ot.M)==0,Gt=nn>=Se.Va-1,Se.Aa==2&&Va(Se,Ot),Ot.uc)for(yi=(Mt=Se).D.M,e(Mt.D.uc),Ot=Mt.yb;Ot<Mt.Hb;++Ot){yn=Ot,St=yi;var ti=(ni=(Rn=Mt).D).Nb;fn=Rn.R;var ni=ni.wa[ni.Y+yn],si=Rn.sa,Ur=Rn.ta+16*ti*fn+16*yn,dn=ni.dd,oi=ni.tc;if(oi!=0)if(e(3<=oi),Rn.L==1)0<yn&&Ga(si,Ur,fn,oi+4),ni.La&&$n(si,Ur,fn,oi),0<St&&Is(si,Ur,fn,oi+4),ni.La&&So(si,Ur,fn,oi);else{var na=Rn.B,qs=Rn.qa,Po=Rn.ra+8*ti*na+8*yn,Vs=Rn.Ha,Rn=Rn.Ia+8*ti*na+8*yn;ti=ni.ld,0<yn&&(ya(si,Ur,fn,oi+4,dn,ti),Ds(qs,Po,Vs,Rn,na,oi+4,dn,ti)),ni.La&&(ks(si,Ur,fn,oi,dn,ti),vl(qs,Po,Vs,Rn,na,oi,dn,ti)),0<St&&(wo(si,Ur,fn,oi+4,dn,ti),yl(qs,Po,Vs,Rn,na,oi+4,dn,ti)),ni.La&&(Rs(si,Ur,fn,oi,dn,ti),_o(qs,Po,Vs,Rn,na,oi,dn,ti))}}if(Se.ia&&alert("todo:DitherRow"),Ae.put!=null){if(Ot=16*nn,nn=16*(nn+1),Ei?(Ae.y=Se.sa,Ae.O=Se.ta+mn,Ae.f=Se.qa,Ae.N=Se.ra+en,Ae.ea=Se.Ha,Ae.W=Se.Ia+en):(Ot-=Vt,Ae.y=et,Ae.O=vt,Ae.f=tt,Ae.N=He,Ae.ea=tn,Ae.W=un),Gt||(nn-=Vt),nn>Ae.o&&(nn=Ae.o),Ae.F=null,Ae.J=null,Se.Fa!=null&&0<Se.Fa.length&&Ot<nn&&(Ae.J=Tc(Se,Ae,Ot,nn-Ot),Ae.F=Se.mb,Ae.F==null&&Ae.F.length==0)){ze=Hn(Se,3,"Could not decode alpha data.");break e}Ot<Ae.j&&(Vt=Ae.j-Ot,Ot=Ae.j,e(!(1&Vt)),Ae.O+=Se.R*Vt,Ae.N+=Se.B*(Vt>>1),Ae.W+=Se.B*(Vt>>1),Ae.F!=null&&(Ae.J+=Ae.width*Vt)),Ot<nn&&(Ae.O+=Ae.v,Ae.N+=Ae.v>>1,Ae.W+=Ae.v>>1,Ae.F!=null&&(Ae.J+=Ae.v),Ae.ka=Ot-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=nn-Ot,ze=Ae.put(Ae))}Fe+1!=Se.Ic||Gt||(i(Se.sa,Se.ta-We,et,vt+16*Se.R,We),i(Se.qa,Se.ra-st,tt,He+8*Se.B,st),i(Se.Ha,Se.Ia-st,tn,un+8*Se.B,st))}if(!ze)return Hn(Ne,6,"Output aborted.")}return 1}(v,S)),S.bc!=null&&S.bc(S),D&=1}return D?(v.cb=0,D):0}function rr(v,S,D,I,W){W=v[S+D+32*I]+(W>>3),v[S+D+32*I]=-256&W?0>W?0:255:W}function tl(v,S,D,I,W,ee){rr(v,S,0,D,I+W),rr(v,S,1,D,I+ee),rr(v,S,2,D,I-ee),rr(v,S,3,D,I-W)}function Nn(v){return(20091*v>>16)+v}function po(v,S,D,I){var W,ee=0,ne=a(16);for(W=0;4>W;++W){var re=v[S+0]+v[S+8],se=v[S+0]-v[S+8],de=(35468*v[S+4]>>16)-Nn(v[S+12]),be=Nn(v[S+4])+(35468*v[S+12]>>16);ne[ee+0]=re+be,ne[ee+1]=se+de,ne[ee+2]=se-de,ne[ee+3]=re-be,ee+=4,S++}for(W=ee=0;4>W;++W)re=(v=ne[ee+0]+4)+ne[ee+8],se=v-ne[ee+8],de=(35468*ne[ee+4]>>16)-Nn(ne[ee+12]),rr(D,I,0,0,re+(be=Nn(ne[ee+4])+(35468*ne[ee+12]>>16))),rr(D,I,1,0,se+de),rr(D,I,2,0,se-de),rr(D,I,3,0,re-be),ee++,I+=32}function gc(v,S,D,I){var W=v[S+0]+4,ee=35468*v[S+4]>>16,ne=Nn(v[S+4]),re=35468*v[S+1]>>16;tl(D,I,0,W+ne,v=Nn(v[S+1]),re),tl(D,I,1,W+ee,v,re),tl(D,I,2,W-ee,v,re),tl(D,I,3,W-ne,v,re)}function yc(v,S,D,I,W){po(v,S,D,I),W&&po(v,S+16,D,I+4)}function Oa(v,S,D,I){ea(v,S+0,D,I,1),ea(v,S+32,D,I+128,1)}function Tu(v,S,D,I){var W;for(v=v[S+0]+4,W=0;4>W;++W)for(S=0;4>S;++S)rr(D,I,S,W,v)}function vc(v,S,D,I){v[S+0]&&ai(v,S+0,D,I),v[S+16]&&ai(v,S+16,D,I+4),v[S+32]&&ai(v,S+32,D,I+128),v[S+48]&&ai(v,S+48,D,I+128+4)}function bs(v,S,D,I){var W,ee=a(16);for(W=0;4>W;++W){var ne=v[S+0+W]+v[S+12+W],re=v[S+4+W]+v[S+8+W],se=v[S+4+W]-v[S+8+W],de=v[S+0+W]-v[S+12+W];ee[0+W]=ne+re,ee[8+W]=ne-re,ee[4+W]=de+se,ee[12+W]=de-se}for(W=0;4>W;++W)ne=(v=ee[0+4*W]+3)+ee[3+4*W],re=ee[1+4*W]+ee[2+4*W],se=ee[1+4*W]-ee[2+4*W],de=v-ee[3+4*W],D[I+0]=ne+re>>3,D[I+16]=de+se>>3,D[I+32]=ne-re>>3,D[I+48]=de-se>>3,I+=64}function xc(v,S,D){var I,W=S-32,ee=Ti,ne=255-v[W-1];for(I=0;I<D;++I){var re,se=ee,de=ne+v[S-1];for(re=0;re<D;++re)v[S+re]=se[de+v[W+re]];S+=32}}function Nu(v,S){xc(v,S,4)}function Eu(v,S){xc(v,S,8)}function bc(v,S){xc(v,S,16)}function ja(v,S){var D;for(D=0;16>D;++D)i(v,S+32*D,v,S-32,16)}function nl(v,S){var D;for(D=16;0<D;--D)r(v,S,v[S-1],16),S+=32}function Ua(v,S,D){var I;for(I=0;16>I;++I)r(S,D+32*I,v,16)}function il(v,S){var D,I=16;for(D=0;16>D;++D)I+=v[S-1+32*D]+v[S+D-32];Ua(I>>5,v,S)}function Si(v,S){var D,I=8;for(D=0;16>D;++D)I+=v[S-1+32*D];Ua(I>>4,v,S)}function ws(v,S){var D,I=8;for(D=0;16>D;++D)I+=v[S+D-32];Ua(I>>4,v,S)}function Ba(v,S){Ua(128,v,S)}function Lt(v,S,D){return v+2*S+D+2>>2}function wc(v,S){var D,I=S-32;for(I=new Uint8Array([Lt(v[I-1],v[I+0],v[I+1]),Lt(v[I+0],v[I+1],v[I+2]),Lt(v[I+1],v[I+2],v[I+3]),Lt(v[I+2],v[I+3],v[I+4])]),D=0;4>D;++D)i(v,S+32*D,I,0,I.length)}function Mu(v,S){var D=v[S-1],I=v[S-1+32],W=v[S-1+64],ee=v[S-1+96];_e(v,S+0,16843009*Lt(v[S-1-32],D,I)),_e(v,S+32,16843009*Lt(D,I,W)),_e(v,S+64,16843009*Lt(I,W,ee)),_e(v,S+96,16843009*Lt(W,ee,ee))}function ar(v,S){var D,I=4;for(D=0;4>D;++D)I+=v[S+D-32]+v[S-1+32*D];for(I>>=3,D=0;4>D;++D)r(v,S+32*D,I,4)}function Rr(v,S){var D=v[S-1+0],I=v[S-1+32],W=v[S-1+64],ee=v[S-1-32],ne=v[S+0-32],re=v[S+1-32],se=v[S+2-32],de=v[S+3-32];v[S+0+96]=Lt(I,W,v[S-1+96]),v[S+1+96]=v[S+0+64]=Lt(D,I,W),v[S+2+96]=v[S+1+64]=v[S+0+32]=Lt(ee,D,I),v[S+3+96]=v[S+2+64]=v[S+1+32]=v[S+0+0]=Lt(ne,ee,D),v[S+3+64]=v[S+2+32]=v[S+1+0]=Lt(re,ne,ee),v[S+3+32]=v[S+2+0]=Lt(se,re,ne),v[S+3+0]=Lt(de,se,re)}function rl(v,S){var D=v[S+1-32],I=v[S+2-32],W=v[S+3-32],ee=v[S+4-32],ne=v[S+5-32],re=v[S+6-32],se=v[S+7-32];v[S+0+0]=Lt(v[S+0-32],D,I),v[S+1+0]=v[S+0+32]=Lt(D,I,W),v[S+2+0]=v[S+1+32]=v[S+0+64]=Lt(I,W,ee),v[S+3+0]=v[S+2+32]=v[S+1+64]=v[S+0+96]=Lt(W,ee,ne),v[S+3+32]=v[S+2+64]=v[S+1+96]=Lt(ee,ne,re),v[S+3+64]=v[S+2+96]=Lt(ne,re,se),v[S+3+96]=Lt(re,se,se)}function da(v,S){var D=v[S-1+0],I=v[S-1+32],W=v[S-1+64],ee=v[S-1-32],ne=v[S+0-32],re=v[S+1-32],se=v[S+2-32],de=v[S+3-32];v[S+0+0]=v[S+1+64]=ee+ne+1>>1,v[S+1+0]=v[S+2+64]=ne+re+1>>1,v[S+2+0]=v[S+3+64]=re+se+1>>1,v[S+3+0]=se+de+1>>1,v[S+0+96]=Lt(W,I,D),v[S+0+64]=Lt(I,D,ee),v[S+0+32]=v[S+1+96]=Lt(D,ee,ne),v[S+1+32]=v[S+2+96]=Lt(ee,ne,re),v[S+2+32]=v[S+3+96]=Lt(ne,re,se),v[S+3+32]=Lt(re,se,de)}function kr(v,S){var D=v[S+0-32],I=v[S+1-32],W=v[S+2-32],ee=v[S+3-32],ne=v[S+4-32],re=v[S+5-32],se=v[S+6-32],de=v[S+7-32];v[S+0+0]=D+I+1>>1,v[S+1+0]=v[S+0+64]=I+W+1>>1,v[S+2+0]=v[S+1+64]=W+ee+1>>1,v[S+3+0]=v[S+2+64]=ee+ne+1>>1,v[S+0+32]=Lt(D,I,W),v[S+1+32]=v[S+0+96]=Lt(I,W,ee),v[S+2+32]=v[S+1+96]=Lt(W,ee,ne),v[S+3+32]=v[S+2+96]=Lt(ee,ne,re),v[S+3+64]=Lt(ne,re,se),v[S+3+96]=Lt(re,se,de)}function _c(v,S){var D=v[S-1+0],I=v[S-1+32],W=v[S-1+64],ee=v[S-1+96];v[S+0+0]=D+I+1>>1,v[S+2+0]=v[S+0+32]=I+W+1>>1,v[S+2+32]=v[S+0+64]=W+ee+1>>1,v[S+1+0]=Lt(D,I,W),v[S+3+0]=v[S+1+32]=Lt(I,W,ee),v[S+3+32]=v[S+1+64]=Lt(W,ee,ee),v[S+3+64]=v[S+2+64]=v[S+0+96]=v[S+1+96]=v[S+2+96]=v[S+3+96]=ee}function al(v,S){var D=v[S-1+0],I=v[S-1+32],W=v[S-1+64],ee=v[S-1+96],ne=v[S-1-32],re=v[S+0-32],se=v[S+1-32],de=v[S+2-32];v[S+0+0]=v[S+2+32]=D+ne+1>>1,v[S+0+32]=v[S+2+64]=I+D+1>>1,v[S+0+64]=v[S+2+96]=W+I+1>>1,v[S+0+96]=ee+W+1>>1,v[S+3+0]=Lt(re,se,de),v[S+2+0]=Lt(ne,re,se),v[S+1+0]=v[S+3+32]=Lt(D,ne,re),v[S+1+32]=v[S+3+64]=Lt(I,D,ne),v[S+1+64]=v[S+3+96]=Lt(W,I,D),v[S+1+96]=Lt(ee,W,I)}function Pu(v,S){var D;for(D=0;8>D;++D)i(v,S+32*D,v,S-32,8)}function _s(v,S){var D;for(D=0;8>D;++D)r(v,S,v[S-1],8),S+=32}function ha(v,S,D){var I;for(I=0;8>I;++I)r(S,D+32*I,v,8)}function za(v,S){var D,I=8;for(D=0;8>D;++D)I+=v[S+D-32]+v[S-1+32*D];ha(I>>4,v,S)}function zi(v,S){var D,I=4;for(D=0;8>D;++D)I+=v[S+D-32];ha(I>>3,v,S)}function Tr(v,S){var D,I=4;for(D=0;8>D;++D)I+=v[S-1+32*D];ha(I>>3,v,S)}function Ss(v,S){ha(128,v,S)}function pa(v,S,D){var I=v[S-D],W=v[S+0],ee=3*(W-I)+ku[1020+v[S-2*D]-v[S+D]],ne=Co[112+(ee+4>>3)];v[S-D]=Ti[255+I+Co[112+(ee+3>>3)]],v[S+0]=Ti[255+W-ne]}function Lu(v,S,D,I){var W=v[S+0],ee=v[S+D];return Or[255+v[S-2*D]-v[S-D]]>I||Or[255+ee-W]>I}function sl(v,S,D,I){return 4*Or[255+v[S-D]-v[S+0]]+Or[255+v[S-2*D]-v[S+D]]<=I}function ol(v,S,D,I,W){var ee=v[S-3*D],ne=v[S-2*D],re=v[S-D],se=v[S+0],de=v[S+D],be=v[S+2*D],De=v[S+3*D];return 4*Or[255+re-se]+Or[255+ne-de]>I?0:Or[255+v[S-4*D]-ee]<=W&&Or[255+ee-ne]<=W&&Or[255+ne-re]<=W&&Or[255+De-be]<=W&&Or[255+be-de]<=W&&Or[255+de-se]<=W}function Cs(v,S,D,I){var W=2*I+1;for(I=0;16>I;++I)sl(v,S+I,D,W)&&pa(v,S+I,D)}function Nr(v,S,D,I){var W=2*I+1;for(I=0;16>I;++I)sl(v,S+I*D,1,W)&&pa(v,S+I*D,1)}function ma(v,S,D,I){var W;for(W=3;0<W;--W)Cs(v,S+=4*D,D,I)}function Kf(v,S,D,I){var W;for(W=3;0<W;--W)Nr(v,S+=4,D,I)}function As(v,S,D,I,W,ee,ne,re){for(ee=2*ee+1;0<W--;){if(ol(v,S,D,ee,ne))if(Lu(v,S,D,re))pa(v,S,D);else{var se=v,de=S,be=D,De=se[de-2*be],Pe=se[de-be],Ne=se[de+0],$e=se[de+be],Fe=se[de+2*be],Se=27*(ze=ku[1020+3*(Ne-Pe)+ku[1020+De-$e]])+63>>7,Ae=18*ze+63>>7,ze=9*ze+63>>7;se[de-3*be]=Ti[255+se[de-3*be]+ze],se[de-2*be]=Ti[255+De+Ae],se[de-be]=Ti[255+Pe+Se],se[de+0]=Ti[255+Ne-Se],se[de+be]=Ti[255+$e-Ae],se[de+2*be]=Ti[255+Fe-ze]}S+=I}}function Kr(v,S,D,I,W,ee,ne,re){for(ee=2*ee+1;0<W--;){if(ol(v,S,D,ee,ne))if(Lu(v,S,D,re))pa(v,S,D);else{var se=v,de=S,be=D,De=se[de-be],Pe=se[de+0],Ne=se[de+be],$e=Co[112+((Fe=3*(Pe-De))+4>>3)],Fe=Co[112+(Fe+3>>3)],Se=$e+1>>1;se[de-2*be]=Ti[255+se[de-2*be]+Se],se[de-be]=Ti[255+De+Fe],se[de+0]=Ti[255+Pe-$e],se[de+be]=Ti[255+Ne-Se]}S+=I}}function mo(v,S,D,I,W,ee){As(v,S,D,1,16,I,W,ee)}function go(v,S,D,I,W,ee){As(v,S,1,D,16,I,W,ee)}function Xf(v,S,D,I,W,ee){var ne;for(ne=3;0<ne;--ne)Kr(v,S+=4*D,D,1,16,I,W,ee)}function ll(v,S,D,I,W,ee){var ne;for(ne=3;0<ne;--ne)Kr(v,S+=4,1,D,16,I,W,ee)}function Qf(v,S,D,I,W,ee,ne,re){As(v,S,W,1,8,ee,ne,re),As(D,I,W,1,8,ee,ne,re)}function Sc(v,S,D,I,W,ee,ne,re){As(v,S,1,W,8,ee,ne,re),As(D,I,1,W,8,ee,ne,re)}function cl(v,S,D,I,W,ee,ne,re){Kr(v,S+4*W,W,1,8,ee,ne,re),Kr(D,I+4*W,W,1,8,ee,ne,re)}function Du(v,S,D,I,W,ee,ne,re){Kr(v,S+4,1,W,8,ee,ne,re),Kr(D,I+4,1,W,8,ee,ne,re)}function ul(){this.ba=new wr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Cc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ac(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function fl(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new j}function Zf(){this.xb=this.a=0,this.l=new vs,this.ca=new wr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new fl,this.ab=0,this.gc=o(4,Ac),this.Oc=0}function dl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new vs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function yo(v,S,D,I,W,ee,ne){for(v=v==null?0:v[S+0],S=0;S<ne;++S)W[ee+S]=v+D[I+S]&255,v=W[ee+S]}function hl(v,S,D,I,W,ee,ne){var re;if(v==null)yo(null,null,D,I,W,ee,ne);else for(re=0;re<ne;++re)W[ee+re]=v[S+re]+D[I+re]&255}function Ts(v,S,D,I,W,ee,ne){if(v==null)yo(null,null,D,I,W,ee,ne);else{var re,se=v[S+0],de=se,be=se;for(re=0;re<ne;++re)de=be+(se=v[S+re])-de,be=D[I+re]+(-256&de?0>de?0:255:de)&255,de=se,W[ee+re]=be}}function Tc(v,S,D,I){var W=S.width,ee=S.o;if(e(v!=null&&S!=null),0>D||0>=I||D+I>ee)return null;if(!v.Cc){if(v.ga==null){var ne;if(v.ga=new dl,(ne=v.ga==null)||(ne=S.width*S.o,e(v.Gb.length==0),v.Gb=a(ne),v.Uc=0,v.Gb==null?ne=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,ne=1),ne=!ne),!ne){ne=v.ga;var re=v.Fa,se=v.P,de=v.qc,be=v.mb,De=v.nb,Pe=se+1,Ne=de-1,$e=ne.l;if(e(re!=null&&be!=null&&S!=null),ba[0]=null,ba[1]=yo,ba[2]=hl,ba[3]=Ts,ne.ca=be,ne.tb=De,ne.c=S.width,ne.i=S.height,e(0<ne.c&&0<ne.i),1>=de)S=0;else if(ne.$a=re[se+0]>>0&3,ne.Z=re[se+0]>>2&3,ne.Lc=re[se+0]>>4&3,se=re[se+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||se)S=0;else if($e.put=Wr,$e.ac=fi,$e.bc=fa,$e.ma=ne,$e.width=S.width,$e.height=S.height,$e.Da=S.Da,$e.v=S.v,$e.va=S.va,$e.j=S.j,$e.o=S.o,ne.$a)e:{e(ne.$a==1),S=Li();t:for(;;){if(S==null){S=0;break e}if(e(ne!=null),ne.mc=S,S.c=ne.c,S.i=ne.i,S.l=ne.l,S.l.ma=ne,S.l.width=ne.c,S.l.height=ne.i,S.a=0,te(S.m,re,Pe,Ne),!gn(ne.c,ne.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&Cr(S.s)?(ne.ic=1,re=S.c*S.i,S.Ta=null,S.Ua=0,S.V=a(re),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(ne.ic=0,S=ys(S,ne.c)),!S))break t;S=1;break e}ne.mc=null,S=0}else S=Ne>=ne.c*ne.i;ne=!S}if(ne)return null;v.ga.Lc!=1?v.Ga=0:I=ee-D}e(v.ga!=null),e(D+I<=ee);e:{if(S=(re=v.ga).c,ee=re.l.o,re.$a==0){if(Pe=v.rc,Ne=v.Vc,$e=v.Fa,se=v.P+1+D*S,de=v.mb,be=v.nb+D*S,e(se<=v.P+v.qc),re.Z!=0)for(e(ba[re.Z]!=null),ne=0;ne<I;++ne)ba[re.Z](Pe,Ne,$e,se,de,be,S),Pe=de,Ne=be,be+=S,se+=S;else for(ne=0;ne<I;++ne)i(de,be,$e,se,S),Pe=de,Ne=be,be+=S,se+=S;v.rc=Pe,v.Vc=Ne}else{if(e(re.mc!=null),S=D+I,e((ne=re.mc)!=null),e(S<=ne.i),ne.C>=S)S=1;else if(re.ic||Me(),re.ic){re=ne.V,Pe=ne.Ba,Ne=ne.c;var Fe=ne.i,Se=($e=1,se=ne.$/Ne,de=ne.$%Ne,be=ne.m,De=ne.s,ne.$),Ae=Ne*Fe,ze=Ne*S,We=De.wc,He=Se<ze?ri(De,de,se):null;e(Se<=Ae),e(S<=Fe),e(Cr(De));t:for(;;){for(;!be.h&&Se<ze;){if(de&We||(He=ri(De,de,se)),e(He!=null),fe(be),256>(Fe=di(He.G[0],He.H[0],be)))re[Pe+Se]=Fe,++Se,++de>=Ne&&(de=0,++se<=S&&!(se%16)&&Ui(ne,se));else{if(!(280>Fe)){$e=0;break t}Fe=Sn(Fe-256,be);var st,et=di(He.G[4],He.H[4],be);if(fe(be),!(Se>=(et=On(Ne,et=Sn(et,be)))&&Ae-Se>=Fe)){$e=0;break t}for(st=0;st<Fe;++st)re[Pe+Se+st]=re[Pe+Se+st-et];for(Se+=Fe,de+=Fe;de>=Ne;)de-=Ne,++se<=S&&!(se%16)&&Ui(ne,se);Se<ze&&de&We&&(He=ri(De,de,se))}e(be.h==ie(be))}Ui(ne,se>S?S:se);break t}!$e||be.h&&Se<Ae?($e=0,ne.a=be.h?5:3):ne.$=Se,S=$e}else S=Bi(ne,ne.V,ne.Ba,ne.c,ne.i,S,uo);if(!S){I=0;break e}}D+I>=ee&&(v.Cc=1),I=1}if(!I)return null;if(v.Cc&&((I=v.ga)!=null&&(I.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+D*W}function E(v,S,D,I,W,ee){for(;0<W--;){var ne,re=v,se=S+(D?1:0),de=v,be=S+(D?0:3);for(ne=0;ne<I;++ne){var De=de[be+4*ne];De!=255&&(De*=32897,re[se+4*ne+0]=re[se+4*ne+0]*De>>23,re[se+4*ne+1]=re[se+4*ne+1]*De>>23,re[se+4*ne+2]=re[se+4*ne+2]*De>>23)}S+=ee}}function J(v,S,D,I,W){for(;0<I--;){var ee;for(ee=0;ee<D;++ee){var ne=v[S+2*ee+0],re=15&(de=v[S+2*ee+1]),se=4369*re,de=(240&de|de>>4)*se>>16;v[S+2*ee+0]=(240&ne|ne>>4)*se>>16&240|(15&ne|ne<<4)*se>>16>>4&15,v[S+2*ee+1]=240&de|re}S+=W}}function he(v,S,D,I,W,ee,ne,re){var se,de,be=255;for(de=0;de<W;++de){for(se=0;se<I;++se){var De=v[S+se];ee[ne+4*se]=De,be&=De}S+=D,ne+=re}return be!=255}function xe(v,S,D,I,W){var ee;for(ee=0;ee<W;++ee)D[I+ee]=v[S+ee]>>8}function Me(){Mr=E,$t=J,Wt=he,Cn=xe}function Be(v,S,D){V[v]=function(I,W,ee,ne,re,se,de,be,De,Pe,Ne,$e,Fe,Se,Ae,ze,We){var He,st=We-1>>1,et=re[se+0]|de[be+0]<<16,vt=De[Pe+0]|Ne[$e+0]<<16;e(I!=null);var tt=3*et+vt+131074>>2;for(S(I[W+0],255&tt,tt>>16,Fe,Se),ee!=null&&(tt=3*vt+et+131074>>2,S(ee[ne+0],255&tt,tt>>16,Ae,ze)),He=1;He<=st;++He){var tn=re[se+He]|de[be+He]<<16,un=De[Pe+He]|Ne[$e+He]<<16,Gt=et+tn+vt+un+524296,Vt=Gt+2*(tn+vt)>>3;tt=Vt+et>>1,et=(Gt=Gt+2*(et+un)>>3)+tn>>1,S(I[W+2*He-1],255&tt,tt>>16,Fe,Se+(2*He-1)*D),S(I[W+2*He-0],255&et,et>>16,Fe,Se+(2*He-0)*D),ee!=null&&(tt=Gt+vt>>1,et=Vt+un>>1,S(ee[ne+2*He-1],255&tt,tt>>16,Ae,ze+(2*He-1)*D),S(ee[ne+2*He+0],255&et,et>>16,Ae,ze+(2*He+0)*D)),et=tn,vt=un}1&We||(tt=3*et+vt+131074>>2,S(I[W+We-1],255&tt,tt>>16,Fe,Se+(We-1)*D),ee!=null&&(tt=3*vt+et+131074>>2,S(ee[ne+We-1],255&tt,tt>>16,Ae,ze+(We-1)*D)))}}function Je(){Ni[qi]=Qa,Ni[xl]=wa,Ni[va]=Bs,Ni[Pc]=Ou,Ni[Ao]=ju,Ni[Wa]=_l,Ni[Iu]=Uu,Ni[Lc]=wa,Ni[js]=Ou,Ni[Ya]=ju,Ni[bl]=_l}function at(v){return v&-16384?0>v?0:255:v>>ug}function mt(v,S){return at((19077*v>>8)+(26149*S>>8)-14234)}function jt(v,S,D){return at((19077*v>>8)-(6419*S>>8)-(13320*D>>8)+8708)}function Ft(v,S){return at((19077*v>>8)+(33050*S>>8)-17685)}function Jt(v,S,D,I,W){I[W+0]=mt(v,D),I[W+1]=jt(v,S,D),I[W+2]=Ft(v,S)}function Dn(v,S,D,I,W){I[W+0]=Ft(v,S),I[W+1]=jt(v,S,D),I[W+2]=mt(v,D)}function jn(v,S,D,I,W){var ee=jt(v,S,D);S=ee<<3&224|Ft(v,S)>>3,I[W+0]=248&mt(v,D)|ee>>5,I[W+1]=S}function Qn(v,S,D,I,W){var ee=240&Ft(v,S)|15;I[W+0]=240&mt(v,D)|jt(v,S,D)>>4,I[W+1]=ee}function Zn(v,S,D,I,W){I[W+0]=255,Jt(v,S,D,I,W+1)}function Ci(v,S,D,I,W){Dn(v,S,D,I,W),I[W+3]=255}function Xr(v,S,D,I,W){Jt(v,S,D,I,W),I[W+3]=255}function Er(v,S){return 0>v?0:v>S?S:v}function Qr(v,S,D){V[v]=function(I,W,ee,ne,re,se,de,be,De){for(var Pe=be+(-2&De)*D;be!=Pe;)S(I[W+0],ee[ne+0],re[se+0],de,be),S(I[W+1],ee[ne+0],re[se+0],de,be+D),W+=2,++ne,++se,be+=2*D;1&De&&S(I[W+0],ee[ne+0],re[se+0],de,be)}}function Nc(v,S,D){return D==0?v==0?S==0?6:5:S==0?4:0:D}function qa(v,S,D,I,W){switch(v>>>30){case 3:ea(S,D,I,W,0);break;case 2:Gn(S,D,I,W);break;case 1:ai(S,D,I,W)}}function Va(v,S){var D,I,W=S.M,ee=S.Nb,ne=v.oc,re=v.pc+40,se=v.oc,de=v.pc+584,be=v.oc,De=v.pc+600;for(D=0;16>D;++D)ne[re+32*D-1]=129;for(D=0;8>D;++D)se[de+32*D-1]=129,be[De+32*D-1]=129;for(0<W?ne[re-1-32]=se[de-1-32]=be[De-1-32]=129:(r(ne,re-32-1,127,21),r(se,de-32-1,127,9),r(be,De-32-1,127,9)),I=0;I<v.za;++I){var Pe=S.ya[S.aa+I];if(0<I){for(D=-1;16>D;++D)i(ne,re+32*D-4,ne,re+32*D+12,4);for(D=-1;8>D;++D)i(se,de+32*D-4,se,de+32*D+4,4),i(be,De+32*D-4,be,De+32*D+4,4)}var Ne=v.Gd,$e=v.Hd+I,Fe=Pe.ad,Se=Pe.Hc;if(0<W&&(i(ne,re-32,Ne[$e].y,0,16),i(se,de-32,Ne[$e].f,0,8),i(be,De-32,Ne[$e].ea,0,8)),Pe.Za){var Ae=ne,ze=re-32+16;for(0<W&&(I>=v.za-1?r(Ae,ze,Ne[$e].y[15],4):i(Ae,ze,Ne[$e+1].y,0,4)),D=0;4>D;D++)Ae[ze+128+D]=Ae[ze+256+D]=Ae[ze+384+D]=Ae[ze+0+D];for(D=0;16>D;++D,Se<<=2)Ae=ne,ze=re+Mo[D],Xi[Pe.Ob[D]](Ae,ze),qa(Se,Fe,16*+D,Ae,ze)}else if(Ae=Nc(I,W,Pe.Ob[0]),Xa[Ae](ne,re),Se!=0)for(D=0;16>D;++D,Se<<=2)qa(Se,Fe,16*+D,ne,re+Mo[D]);for(D=Pe.Gc,Ae=Nc(I,W,Pe.Dd),Lr[Ae](se,de),Lr[Ae](be,De),Se=Fe,Ae=se,ze=de,255&(Pe=D>>0)&&(170&Pe?ta(Se,256,Ae,ze):lr(Se,256,Ae,ze)),Pe=be,Se=De,255&(D>>=8)&&(170&D?ta(Fe,320,Pe,Se):lr(Fe,320,Pe,Se)),W<v.Ub-1&&(i(Ne[$e].y,0,ne,re+480,16),i(Ne[$e].f,0,se,de+224,8),i(Ne[$e].ea,0,be,De+224,8)),D=8*ee*v.B,Ne=v.sa,$e=v.ta+16*I+16*ee*v.R,Fe=v.qa,Pe=v.ra+8*I+D,Se=v.Ha,Ae=v.Ia+8*I+D,D=0;16>D;++D)i(Ne,$e+D*v.R,ne,re+32*D,16);for(D=0;8>D;++D)i(Fe,Pe+D*v.B,se,de+32*D,8),i(Se,Ae+D*v.B,be,De+32*D,8)}}function pl(v,S,D,I,W,ee,ne,re,se){var de=[0],be=[0],De=0,Pe=se!=null?se.kd:0,Ne=se??new Cc;if(v==null||12>D)return 7;Ne.data=v,Ne.w=S,Ne.ha=D,S=[S],D=[D],Ne.gb=[Ne.gb];e:{var $e=S,Fe=D,Se=Ne.gb;if(e(v!=null),e(Fe!=null),e(Se!=null),Se[0]=0,12<=Fe[0]&&!n(v,$e[0],"RIFF")){if(n(v,$e[0]+8,"WEBP")){Se=3;break e}var Ae=je(v,$e[0]+4);if(12>Ae||4294967286<Ae){Se=3;break e}if(Pe&&Ae>Fe[0]-8){Se=7;break e}Se[0]=Ae,$e[0]+=12,Fe[0]-=12}Se=0}if(Se!=0)return Se;for(Ae=0<Ne.gb[0],D=D[0];;){e:{var ze=v;Fe=S,Se=D;var We=de,He=be,st=$e=[0];if((tt=De=[De])[0]=0,8>Se[0])Se=7;else{if(!n(ze,Fe[0],"VP8X")){if(je(ze,Fe[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var et=je(ze,Fe[0]+8),vt=1+Oe(ze,Fe[0]+12);if(2147483648<=vt*(ze=1+Oe(ze,Fe[0]+15))){Se=3;break e}st!=null&&(st[0]=et),We!=null&&(We[0]=vt),He!=null&&(He[0]=ze),Fe[0]+=18,Se[0]-=18,tt[0]=1}Se=0}}if(De=De[0],$e=$e[0],Se!=0)return Se;if(Fe=!!(2&$e),!Ae&&De)return 3;if(ee!=null&&(ee[0]=!!(16&$e)),ne!=null&&(ne[0]=Fe),re!=null&&(re[0]=0),ne=de[0],$e=be[0],De&&Fe&&se==null){Se=0;break}if(4>D){Se=7;break}if(Ae&&De||!Ae&&!De&&!n(v,S[0],"ALPH")){D=[D],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{et=v,Se=S,Ae=D;var tt=Ne.gb;We=Ne.na,He=Ne.P,st=Ne.Sa,vt=22,e(et!=null),e(Ae!=null),ze=Se[0];var tn=Ae[0];for(e(We!=null),e(st!=null),We[0]=null,He[0]=null,st[0]=0;;){if(Se[0]=ze,Ae[0]=tn,8>tn){Se=7;break e}var un=je(et,ze+4);if(4294967286<un){Se=3;break e}var Gt=8+un+1&-2;if(vt+=Gt,0<tt&&vt>tt){Se=3;break e}if(!n(et,ze,"VP8 ")||!n(et,ze,"VP8L")){Se=0;break e}if(tn[0]<Gt){Se=7;break e}n(et,ze,"ALPH")||(We[0]=et,He[0]=ze+8,st[0]=un),ze+=Gt,tn-=Gt}}if(D=D[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],Se!=0)break}D=[D],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(tt=v,Se=S,Ae=D,We=Ne.gb[0],He=Ne.Ja,st=Ne.xa,et=Se[0],ze=!n(tt,et,"VP8 "),vt=!n(tt,et,"VP8L"),e(tt!=null),e(Ae!=null),e(He!=null),e(st!=null),8>Ae[0])Se=7;else{if(ze||vt){if(tt=je(tt,et+4),12<=We&&tt>We-12){Se=3;break e}if(Pe&&tt>Ae[0]-8){Se=7;break e}He[0]=tt,Se[0]+=8,Ae[0]-=8,st[0]=vt}else st[0]=5<=Ae[0]&&tt[et+0]==47&&!(tt[et+4]>>5),He[0]=Ae[0];Se=0}if(D=D[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],S=S[0],Se!=0)break;if(4294967286<Ne.Ja)return 3;if(re==null||Fe||(re[0]=Ne.xa?2:1),ne=[ne],$e=[$e],Ne.xa){if(5>D){Se=7;break}re=ne,Pe=$e,Fe=ee,v==null||5>D?v=0:5<=D&&v[S+0]==47&&!(v[S+4]>>5)?(Ae=[0],tt=[0],We=[0],te(He=new k,v,S,D),gt(He,Ae,tt,We)?(re!=null&&(re[0]=Ae[0]),Pe!=null&&(Pe[0]=tt[0]),Fe!=null&&(Fe[0]=We[0]),v=1):v=0):v=0}else{if(10>D){Se=7;break}re=$e,v==null||10>D||!Ji(v,S+3,D-3)?v=0:(Pe=v[S+0]|v[S+1]<<8|v[S+2]<<16,Fe=16383&(v[S+7]<<8|v[S+6]),v=16383&(v[S+9]<<8|v[S+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=Ne.Ja||!Fe||!v?v=0:(ne&&(ne[0]=Fe),re&&(re[0]=v),v=1))}if(!v||(ne=ne[0],$e=$e[0],De&&(de[0]!=ne||be[0]!=$e)))return 3;se!=null&&(se[0]=Ne,se.offset=S-se.w,e(4294967286>S-se.w),e(se.offset==se.ha-D));break}return Se==0||Se==7&&De&&se==null?(ee!=null&&(ee[0]|=Ne.na!=null&&0<Ne.na.length),I!=null&&(I[0]=ne),W!=null&&(W[0]=$e),0):Se}function Ns(v,S,D){var I=S.width,W=S.height,ee=0,ne=0,re=I,se=W;if(S.Da=v!=null&&0<v.Da,S.Da&&(re=v.cd,se=v.bd,ee=v.v,ne=v.j,11>D||(ee&=-2,ne&=-2),0>ee||0>ne||0>=re||0>=se||ee+re>I||ne+se>W))return 0;if(S.v=ee,S.j=ne,S.va=ee+re,S.o=ne+se,S.U=re,S.T=se,S.da=v!=null&&0<v.da,S.da){if(!Ue(re,se,D=[v.ib],ee=[v.hb]))return 0;S.ib=D[0],S.hb=ee[0]}return S.ob=v!=null&&v.ob,S.Kb=v==null||!v.Sd,S.da&&(S.ob=S.ib<3*I/4&&S.hb<3*W/4,S.Kb=0),1}function ml(v){if(v==null)return 2;if(11>v.S){var S=v.f.RGBA;S.fb+=(v.height-1)*S.A,S.A=-S.A}else S=v.f.kb,v=v.height,S.O+=(v-1)*S.fa,S.fa=-S.fa,S.N+=(v-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(v-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(v-1)*S.lb,S.lb=-S.lb);return 0}function vo(v,S,D,I){if(I==null||0>=v||0>=S)return 2;if(D!=null){if(D.Da){var W=D.cd,ee=D.bd,ne=-2&D.v,re=-2&D.j;if(0>ne||0>re||0>=W||0>=ee||ne+W>v||re+ee>S)return 2;v=W,S=ee}if(D.da){if(!Ue(v,S,W=[D.ib],ee=[D.hb]))return 2;v=W[0],S=ee[0]}}I.width=v,I.height=S;e:{var se=I.width,de=I.height;if(v=I.S,0>=se||0>=de||!(v>=qi&&13>v))v=2;else{if(0>=I.Rd&&I.sd==null){ne=ee=W=S=0;var be=(re=se*Gh[v])*de;if(11>v||(ee=(de+1)/2*(S=(se+1)/2),v==12&&(ne=(W=se)*de)),(de=a(be+2*ee+ne))==null){v=1;break e}I.sd=de,11>v?((se=I.f.RGBA).eb=de,se.fb=0,se.A=re,se.size=be):((se=I.f.kb).y=de,se.O=0,se.fa=re,se.Fd=be,se.f=de,se.N=0+be,se.Ab=S,se.Cd=ee,se.ea=de,se.W=0+be+ee,se.Db=S,se.Ed=ee,v==12&&(se.F=de,se.J=0+be+2*ee),se.Tc=ne,se.lb=W)}if(S=1,W=I.S,ee=I.width,ne=I.height,W>=qi&&13>W)if(11>W)v=I.f.RGBA,S&=(re=Math.abs(v.A))*(ne-1)+ee<=v.size,S&=re>=ee*Gh[W],S&=v.eb!=null;else{v=I.f.kb,re=(ee+1)/2,be=(ne+1)/2,se=Math.abs(v.fa),de=Math.abs(v.Ab);var De=Math.abs(v.Db),Pe=Math.abs(v.lb),Ne=Pe*(ne-1)+ee;S&=se*(ne-1)+ee<=v.Fd,S&=de*(be-1)+re<=v.Cd,S=(S&=De*(be-1)+re<=v.Ed)&se>=ee&de>=re&De>=re,S&=v.y!=null,S&=v.f!=null,S&=v.ea!=null,W==12&&(S&=Pe>=ee,S&=Ne<=v.Tc,S&=v.F!=null)}else S=0;v=S?0:2}}return v!=0||D!=null&&D.fd&&(v=ml(I)),v}var hi=64,Es=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xo=24,bo=32,gl=8,sr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Xe("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(v){return v},V.Predictor2=function(v,S,D){return S[D+0]},V.Predictor3=function(v,S,D){return S[D+1]},V.Predictor4=function(v,S,D){return S[D-1]},V.Predictor5=function(v,S,D){return Ze(Ze(v,S[D+1]),S[D+0])},V.Predictor6=function(v,S,D){return Ze(v,S[D-1])},V.Predictor7=function(v,S,D){return Ze(v,S[D+0])},V.Predictor8=function(v,S,D){return Ze(S[D-1],S[D+0])},V.Predictor9=function(v,S,D){return Ze(S[D+0],S[D+1])},V.Predictor10=function(v,S,D){return Ze(Ze(v,S[D-1]),Ze(S[D+0],S[D+1]))},V.Predictor11=function(v,S,D){var I=S[D+0];return 0>=Rt(I>>24&255,v>>24&255,(S=S[D-1])>>24&255)+Rt(I>>16&255,v>>16&255,S>>16&255)+Rt(I>>8&255,v>>8&255,S>>8&255)+Rt(255&I,255&v,255&S)?I:v},V.Predictor12=function(v,S,D){var I=S[D+0];return(ft((v>>24&255)+(I>>24&255)-((S=S[D-1])>>24&255))<<24|ft((v>>16&255)+(I>>16&255)-(S>>16&255))<<16|ft((v>>8&255)+(I>>8&255)-(S>>8&255))<<8|ft((255&v)+(255&I)-(255&S)))>>>0},V.Predictor13=function(v,S,D){var I=S[D-1];return(Ct((v=Ze(v,S[D+0]))>>24&255,I>>24&255)<<24|Ct(v>>16&255,I>>16&255)<<16|Ct(v>>8&255,I>>8&255)<<8|Ct(v>>0&255,I>>0&255))>>>0};var ed=V.PredictorAdd0;V.PredictorAdd1=dt,Xe("Predictor2","PredictorAdd2"),Xe("Predictor3","PredictorAdd3"),Xe("Predictor4","PredictorAdd4"),Xe("Predictor5","PredictorAdd5"),Xe("Predictor6","PredictorAdd6"),Xe("Predictor7","PredictorAdd7"),Xe("Predictor8","PredictorAdd8"),Xe("Predictor9","PredictorAdd9"),Xe("Predictor10","PredictorAdd10"),Xe("Predictor11","PredictorAdd11"),Xe("Predictor12","PredictorAdd12"),Xe("Predictor13","PredictorAdd13");var Ec=V.PredictorAdd2;Ut("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),Ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var Ru,Ir=V.ColorIndexInverseTransform,Ai=V.MapARGB,Ms=V.VP8LColorIndexInverseTransformAlpha,Mc=V.MapAlpha,Ha=V.VP8LPredictorsAdd=[];Ha.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var Ps,Ki,Di,Ls,or,Zr,ga,ea,Gn,ta,ai,lr,wo,ya,yl,Ds,Rs,ks,_o,vl,Is,Ga,So,$n,Mr,$t,Wt,Cn,ei=a(511),Fr=a(2041),Fs=a(225),Os=a(767),$a=0,ku=Fr,Co=Fs,Ti=Os,Or=ei,qi=0,xl=1,va=2,Pc=3,Ao=4,Wa=5,Iu=6,Lc=7,js=8,Ya=9,bl=10,Fu=[2,3,7],jr=[3,3,11],Pr=[280,256,256,256,40],To=[0,1,1,1,0],Ja=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ka=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],No=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Bh=8,Dc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],pi=null,Wn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Us=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],xa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],td=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Eo=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],zh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xa=[],Xi=[],Lr=[],qh=1,wl=2,ba=[],Ni=[];Be("UpsampleRgbLinePair",Jt,3),Be("UpsampleBgrLinePair",Dn,3),Be("UpsampleRgbaLinePair",Xr,4),Be("UpsampleBgraLinePair",Ci,4),Be("UpsampleArgbLinePair",Zn,4),Be("UpsampleRgba4444LinePair",Qn,2),Be("UpsampleRgb565LinePair",jn,2);var Qa=V.UpsampleRgbLinePair,Bs=V.UpsampleBgrLinePair,wa=V.UpsampleRgbaLinePair,Ou=V.UpsampleBgraLinePair,ju=V.UpsampleArgbLinePair,_l=V.UpsampleRgba4444LinePair,Uu=V.UpsampleRgb565LinePair,_a=16,mi=1<<_a-1,zs=-227,Bu=482,ug=6,Vh=0,fg=a(256),gi=a(256),nd=a(256),kc=a(256),Ic=a(Bu-zs),id=a(Bu-zs);Qr("YuvToRgbRow",Jt,3),Qr("YuvToBgrRow",Dn,3),Qr("YuvToRgbaRow",Xr,4),Qr("YuvToBgraRow",Ci,4),Qr("YuvToArgbRow",Zn,4),Qr("YuvToRgba4444Row",Qn,2),Qr("YuvToRgb565Row",jn,2);var Mo=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Za=[0,2,8],dg=[8,7,6,4,4,2,2,2,1,1,1,1],Hh=1;this.WebPDecodeRGBA=function(v,S,D,I,W){var ee=xl,ne=new ul,re=new wr;ne.ba=re,re.S=ee,re.width=[re.width],re.height=[re.height];var se=re.width,de=re.height,be=new _r;if(be==null||v==null)var De=2;else e(be!=null),De=pl(v,S,D,be.width,be.height,be.Pd,be.Qd,be.format,null);if(De!=0?se=0:(se!=null&&(se[0]=be.width[0]),de!=null&&(de[0]=be.height[0]),se=1),se){re.width=re.width[0],re.height=re.height[0],I!=null&&(I[0]=re.width),W!=null&&(W[0]=re.height);e:{if(I=new vs,(W=new Cc).data=v,W.w=S,W.ha=D,W.kd=1,S=[0],e(W!=null),((v=pl(W.data,W.w,W.ha,null,null,null,S,null,W))==0||v==7)&&S[0]&&(v=4),(S=v)==0){if(e(ne!=null),I.data=W.data,I.w=W.w+W.offset,I.ha=W.ha-W.offset,I.put=Wr,I.ac=fi,I.bc=fa,I.ma=ne,W.xa){if((v=Li())==null){ne=1;break e}if(function(Pe,Ne){var $e=[0],Fe=[0],Se=[0];t:for(;;){if(Pe==null)return 0;if(Ne==null)return Pe.a=2,0;if(Pe.l=Ne,Pe.a=0,te(Pe.m,Ne.data,Ne.w,Ne.ha),!gt(Pe.m,$e,Fe,Se)){Pe.a=3;break t}if(Pe.xb=wl,Ne.width=$e[0],Ne.height=Fe[0],!gn($e[0],Fe[0],1,Pe,null))break t;return 1}return e(Pe.a!=0),0}(v,I)){if(I=(S=vo(I.width,I.height,ne.Oa,ne.ba))==0){t:{I=v;n:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((D=I.l)!=null),e((W=D.ma)!=null),I.xb!=0){if(I.ca=W.ba,I.tb=W.tb,e(I.ca!=null),!Ns(W.Oa,D,Pc)){I.a=2;break n}if(!ys(I,D.width)||D.da)break n;if((D.da||cn(I.ca.S))&&Me(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&Me()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!Ke(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!Bi(I,I.V,I.Ba,I.c,I.i,D.o,co))break n;W.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(S=v.a)}else S=v.a}else{if((v=new Jf)==null){ne=1;break e}if(v.Fa=W.na,v.P=W.P,v.qc=W.Sa,mc(v,I)){if((S=vo(I.width,I.height,ne.Oa,ne.ba))==0){if(v.Aa=0,D=ne.Oa,e((W=v)!=null),D!=null){if(0<(se=0>(se=D.Md)?0:100<se?255:255*se/100)){for(de=be=0;4>de;++de)12>(De=W.pb[de]).lc&&(De.ia=se*dg[0>De.lc?0:De.lc]>>3),be|=De.ia;be&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=D.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}Au(v,I)||(S=v.a)}}else S=v.a}S==0&&ne.Oa!=null&&ne.Oa.fd&&(S=ml(ne.ba))}ne=S}ee=ne!=0?null:11>ee?re.f.RGBA.eb:re.f.kb.y}else ee=null;return ee};var Gh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(V,X){for(var K="",O=0;O<4;O++)K+=String.fromCharCode(V[X++]);return K}function h(V,X){return(V[X+0]<<0|V[X+1]<<8|V[X+2]<<16)>>>0}function g(V,X){return(V[X+0]<<0|V[X+1]<<8|V[X+2]<<16|V[X+3]<<24)>>>0}new u;var x=[0],b=[0],A=[],C=new u,P=t,M=function(V,X){var K={},O=0,j=!1,Q=0,Z=0;if(K.frames=[],!function($,ie,ue,fe){for(var we=0;we<fe;we++)if($[ie+we]!=ue.charCodeAt(we))return!0;return!1}(V,X,"RIFF",4)){var me,z;for(g(V,X+=4),X+=8;X<V.length;){var G=f(V,X),te=g(V,X+=4);X+=4;var H=te+(1&te);switch(G){case"VP8 ":case"VP8L":K.frames[O]===void 0&&(K.frames[O]={}),(k=K.frames[O]).src_off=j?Z:X-8,k.src_size=Q+te+8,O++,j&&(j=!1,Q=0,Z=0);break;case"VP8X":(k=K.header={}).feature_flags=V[X];var U=X+4;k.canvas_width=1+h(V,U),U+=3,k.canvas_height=1+h(V,U),U+=3;break;case"ALPH":j=!0,Q=H+8,Z=X-8;break;case"ANIM":(k=K.header).bgcolor=g(V,X),U=X+4,k.loop_count=(me=V)[(z=U)+0]<<0|me[z+1]<<8,U+=2;break;case"ANMF":var le,k;(k=K.frames[O]={}).offset_x=2*h(V,X),X+=3,k.offset_y=2*h(V,X),X+=3,k.width=1+h(V,X),X+=3,k.height=1+h(V,X),X+=3,k.duration=h(V,X),X+=3,le=V[X++],k.dispose=1&le,k.blend=le>>1&1}G!="ANMF"&&(X+=H)}return K}}(P,0);M.response=P,M.rgbaoutput=!0,M.dataurl=!1;var L=M.header?M.header:null,N=M.frames?M.frames:null;if(L){L.loop_counter=L.loop_count,x=[L.canvas_height],b=[L.canvas_width];for(var R=0;R<N.length&&N[R].blend!=0;R++);}var F=N[0],Y=C.WebPDecodeRGBA(P,F.src_off,F.src_size,b,x);F.rgba=Y,F.imgwidth=b[0],F.imgheight=x[0];for(var B=0;B<b[0]*x[0]*4;B++)A[B]=Y[B];return this.width=b,this.height=x,this.data=A,this}(function(t){var e=function(){return typeof O1=="function"},n=function(x,b,A,C){var P=4,M=o;switch(C){case t.image_compression.FAST:P=1,M=a;break;case t.image_compression.MEDIUM:P=6,M=c;break;case t.image_compression.SLOW:P=9,M=u}x=i(x,b,A,M);var L=O1(x,{level:P});return t.__addimage__.arrayBufferToBinaryString(L)},i=function(x,b,A,C){for(var P,M,L,N=x.length/b,R=new Uint8Array(x.length+N),F=h(),Y=0;Y<N;Y+=1){if(L=Y*b,P=x.subarray(L,L+b),C)R.set(C(P,A,M),L+Y);else{for(var B,V=F.length,X=[];B<V;B+=1)X[B]=F[B](P,A,M);var K=g(X.concat());R.set(X[K],L+Y)}M=P}return R},r=function(x){var b=Array.apply([],x);return b.unshift(0),b},a=function(x,b){var A,C=[],P=x.length;C[0]=1;for(var M=0;M<P;M+=1)A=x[M-b]||0,C[M+1]=x[M]-A+256&255;return C},o=function(x,b,A){var C,P=[],M=x.length;P[0]=2;for(var L=0;L<M;L+=1)C=A&&A[L]||0,P[L+1]=x[L]-C+256&255;return P},c=function(x,b,A){var C,P,M=[],L=x.length;M[0]=3;for(var N=0;N<L;N+=1)C=x[N-b]||0,P=A&&A[N]||0,M[N+1]=x[N]+256-(C+P>>>1)&255;return M},u=function(x,b,A){var C,P,M,L,N=[],R=x.length;N[0]=4;for(var F=0;F<R;F+=1)C=x[F-b]||0,P=A&&A[F]||0,M=A&&A[F-b]||0,L=f(C,P,M),N[F+1]=x[F]-L+256&255;return N},f=function(x,b,A){if(x===b&&b===A)return x;var C=Math.abs(b-A),P=Math.abs(x-A),M=Math.abs(x+b-A-A);return C<=P&&C<=M?x:P<=M?b:A},h=function(){return[r,a,o,c,u]},g=function(x){var b=x.map(function(A){return A.reduce(function(C,P){return C+Math.abs(P)},0)});return b.indexOf(Math.min.apply(null,b))};t.processPNG=function(x,b,A,C){var P,M,L,N,R,F,Y,B,V,X,K,O,j,Q,Z,me=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(x)&&(x=new Uint8Array(x)),this.__addimage__.isArrayBufferView(x)){if(x=(L=new aO(x)).imgData,M=L.bits,P=L.colorSpace,R=L.colors,[4,6].indexOf(L.colorType)!==-1){if(L.bits===8){V=(B=L.pixelBitlength==32?new Uint32Array(L.decodePixels().buffer):L.pixelBitlength==16?new Uint16Array(L.decodePixels().buffer):new Uint8Array(L.decodePixels().buffer)).length,K=new Uint8Array(V*L.colors),X=new Uint8Array(V);var G,te=L.pixelBitlength-L.bits;for(Q=0,Z=0;Q<V;Q++){for(j=B[Q],G=0;G<te;)K[Z++]=j>>>G&255,G+=L.bits;X[Q]=j>>>G&255}}if(L.bits===16){V=(B=new Uint32Array(L.decodePixels().buffer)).length,K=new Uint8Array(V*(32/L.pixelBitlength)*L.colors),X=new Uint8Array(V*(32/L.pixelBitlength)),O=L.colors>1,Q=0,Z=0;for(var H=0;Q<V;)j=B[Q++],K[Z++]=j>>>0&255,O&&(K[Z++]=j>>>16&255,j=B[Q++],K[Z++]=j>>>0&255),X[H++]=j>>>16&255;M=8}C!==t.image_compression.NONE&&e()?(x=n(K,L.width*L.colors,L.colors,C),Y=n(X,L.width,1,C)):(x=K,Y=X,me=void 0)}if(L.colorType===3&&(P=this.color_spaces.INDEXED,F=L.palette,L.transparency.indexed)){var U=L.transparency.indexed,le=0;for(Q=0,V=U.length;Q<V;++Q)le+=U[Q];if((le/=255)===V-1&&U.indexOf(0)!==-1)N=[U.indexOf(0)];else if(le!==V){for(B=L.decodePixels(),X=new Uint8Array(B.length),Q=0,V=B.length;Q<V;Q++)X[Q]=U[B[Q]];Y=n(X,L.width,1)}}var k=function($){var ie;switch($){case t.image_compression.FAST:ie=11;break;case t.image_compression.MEDIUM:ie=13;break;case t.image_compression.SLOW:ie=14;break;default:ie=12}return ie}(C);return me===this.decode.FLATE_DECODE&&(z="/Predictor "+k+" "),z+="/Colors "+R+" /BitsPerComponent "+M+" /Columns "+L.width,(this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),(Y&&this.__addimage__.isArrayBuffer(Y)||this.__addimage__.isArrayBufferView(Y))&&(Y=this.__addimage__.arrayBufferToBinaryString(Y)),{alias:A,data:x,index:b,filter:me,decodeParameters:z,transparency:N,palette:F,sMask:Y,predictor:k,width:L.width,height:L.height,bitsPerComponent:M,colorSpace:P}}}})(_t.API),function(t){t.processGIF89A=function(e,n,i,r){var a=new sO(e),o=a.width,c=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:o,height:c},h=new K0(100).encode(f,100);return t.processJPEG.call(this,h,n,i,r)},t.processGIF87A=t.processGIF89A}(_t.API),os.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},os.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Mn.log("bit decode error:"+n)}},os.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<e;r++)for(var a=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,c=0;c<8&&8*r+c<this.width;c++){var u=this.palette[a>>7-c&1];this.data[o+4*c]=u.blue,this.data[o+4*c+1]=u.green,this.data[o+4*c+2]=u.red,this.data[o+4*c+3]=255}n!==0&&(this.pos+=4-n)}},os.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++){var a=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,c=a>>4,u=15&a,f=this.palette[c];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*r+1>=this.width)break;f=this.palette[u],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},os.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},os.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&e)/e*255|0,u=(a>>10&e)/e*255|0,f=a>>15?255:0,h=i*this.width*4+4*r;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=o,this.data[h+3]=f}this.pos+=t}},os.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,u=(o>>5&n)/n*255|0,f=(o>>11)/e*255|0,h=r*this.width*4+4*a;this.data[h]=f,this.data[h+1]=u,this.data[h+2]=c,this.data[h+3]=255}this.pos+=t}},os.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},os.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=a,this.data[c+1]=r,this.data[c+2]=i,this.data[c+3]=o}},os.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,i,r){var a=new os(e,!1),o=a.width,c=a.height,u={data:a.getData(),width:o,height:c},f=new K0(100).encode(u,100);return t.processJPEG.call(this,f,n,i,r)}}(_t.API),vw.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,i,r){var a=new vw(e),o=a.width,c=a.height,u={data:a.getData(),width:o,height:c},f=new K0(100).encode(u,100);return t.processJPEG.call(this,f,n,i,r)}}(_t.API),_t.API.processRGBA=function(t,e,n){for(var i=t.data,r=i.length,a=new Uint8Array(r/4*3),o=new Uint8Array(r/4),c=0,u=0,f=0;f<r;f+=4){var h=i[f],g=i[f+1],x=i[f+2],b=i[f+3];a[c++]=h,a[c++]=g,a[c++]=x,o[u++]=b}var A=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:A,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},_t.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},_f=_t.API,pm=_f.getCharWidthsArray=function(t,e){var n,i,r=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:r.metadata.Unicode.widths,u=c.fof?c.fof:1,f=e.kerning?e.kerning:r.metadata.Unicode.kerning,h=f.fof?f.fof:1,g=e.doKerning!==!1,x=0,b=t.length,A=0,C=c[0]||u,P=[];for(n=0;n<b;n++)i=t.charCodeAt(n),typeof r.metadata.widthOfString=="function"?P.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/a)||0)/1e3):(x=g&&wn(f[i])==="object"&&!isNaN(parseInt(f[i][A],10))?f[i][A]/h:0,P.push((c[i]||C)/u+x)),A=i;return P},pw=_f.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return _f.processArabic&&(t=_f.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,n,r)/n:pm.apply(this,arguments).reduce(function(a,o){return a+o},0)},mw=function(t,e,n,i){for(var r=[],a=0,o=t.length,c=0;a!==o&&c+e[a]<n;)c+=e[a],a++;r.push(t.slice(0,a));var u=a;for(c=0;a!==o;)c+e[a]>i&&(r.push(t.slice(u,a)),c=0,u=a),c+=e[a],a++;return u!==a&&r.push(t.slice(u,a)),r},gw=function(t,e,n){n||(n={});var i,r,a,o,c,u,f,h=[],g=[h],x=n.textIndent||0,b=0,A=0,C=t.split(" "),P=pm.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?C[0].length+2:n.lineIndent||0){var M=Array(u).join(" "),L=[];C.map(function(R){(R=R.split(/\s*\n/)).length>1?L=L.concat(R.map(function(F,Y){return(Y&&F.length?`
`:"")+F})):L.push(R[0])}),C=L,u=pw.apply(this,[M,n])}for(a=0,o=C.length;a<o;a++){var N=0;if(i=C[a],u&&i[0]==`
`&&(i=i.substr(1),N=1),x+b+(A=(r=pm.apply(this,[i,n])).reduce(function(R,F){return R+F},0))>e||N){if(A>e){for(c=mw.apply(this,[i,r,e-(x+b),e]),h.push(c.shift()),h=[c.pop()];c.length;)g.push([c.shift()]);A=r.slice(i.length-(h[0]?h[0].length:0)).reduce(function(R,F){return R+F},0)}else h=[i];g.push(h),x=A+u,b=P}else h.push(i),x+=b+A,b=P}return f=u?function(R,F){return(F?M:"")+R.join(" ")}:function(R){return R.join(" ")},g.map(f)},_f.splitTextToSize=function(t,e,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var g=this.internal.getFont(h.fontName,h.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/r;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=n.lineIndent;var c,u,f=[];for(c=0,u=i.length;c<u;c++)f=f.concat(gw.apply(this,[i[c],o,a]));return f},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},i={},r=0;r<e.length;r++)n[e[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=e[r];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var x,b,A,C,P=["{"];for(var M in g){if(x=g[M],isNaN(parseInt(M,10))?b="'"+M+"'":(M=parseInt(M,10),b=(b=a(M).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof x=="number")x<0?(A=a(x).slice(3),C="-"):(A=a(x).slice(2),C=""),A=C+A.slice(0,-1)+i[A.slice(-1)];else{if(wn(x)!=="object")throw new Error("Don't know what to do with value type "+wn(x)+".");A=o(x)}P.push(b+A)}return P.push("}"),P.join("")},c=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,b,A,C,P={},M=1,L=P,N=[],R="",F="",Y=g.length-1,B=1;B<Y;B+=1)(C=g[B])=="'"?x?(A=x.join(""),x=void 0):x=[]:x?x.push(C):C=="{"?(N.push([L,A]),L={},A=void 0):C=="}"?((b=N.pop())[0][b[1]]=L,A=void 0,L=b[0]):C=="-"?M=-1:A===void 0?n.hasOwnProperty(C)?(R+=n[C],A=parseInt(R,16)*M,M=1,R=""):R+=C:n.hasOwnProperty(C)?(F+=n[C],L[A]=parseInt(F,16)*M,M=1,A=void 0,F=""):F+=C;return P},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var x=g.font,b=h.Unicode[x.postScriptName];b&&(x.metadata.Unicode={},x.metadata.Unicode.widths=b.widths,x.metadata.Unicode.kerning=b.kerning);var A=f.Unicode[x.postScriptName];A&&(x.metadata.Unicode.encoding=A,x.encoding=A.codePages[0])}])}(_t.API),function(t){var e=function(n){for(var i=n.length,r=new Uint8Array(i),a=0;a<i;a++)r[a]=n.charCodeAt(a);return r};t.API.events.push(["addFont",function(n){var i=void 0,r=n.font,a=n.instance;if(!r.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=a.existsFileInVFS(r.postScriptName)===!1?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(yh(c)),o.metadata=t.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(_t),function(t){function e(){return(Pt.canvg?Promise.resolve(Pt.canvg):sc(()=>import("./index.es-7hZWe8PY.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}_t.API.addSvgAsImage=function(n,i,r,a,o,c,u,f){if(isNaN(i)||isNaN(r))throw Mn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Mn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=o;var g=h.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,h.width,h.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return e().then(function(A){return A.fromString(g,n,x)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(x)}).then(function(){b.addImage(h.toDataURL("image/jpeg",1),i,r,a,o,u,f)})}}(),_t.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,n);return this},_t.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,r,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),u=[],f=0,h=0,g=0;function x(A,C){var P,M=!1;for(P=0;P<A.length;P+=1)A[P]===C&&(M=!0);return M}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var b=c.length;for(g=0;g<b;g+=1)n[c[g]].value=n[c[g]].defaultValue,n[c[g]].explicitSet=!1}if(wn(t)==="object"){for(r in t)if(a=t[r],x(c,r)&&a!==void 0){if(n[r].type==="boolean"&&typeof a=="boolean")n[r].value=a;else if(n[r].type==="name"&&x(n[r].valueSet,a))n[r].value=a;else if(n[r].type==="integer"&&Number.isInteger(a))n[r].value=a;else if(n[r].type==="array"){for(f=0;f<a.length;f+=1)if(i=!0,a[f].length===1&&typeof a[f][0]=="number")u.push(String(a[f]-1));else if(a[f].length>1){for(h=0;h<a[f].length;h+=1)typeof a[f][h]!="number"&&(i=!1);i===!0&&u.push([a[f][0]-1,a[f][1]-1].join(" "))}n[r].value="["+u.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,C=[];for(A in n)n[A].explicitSet===!0&&(n[A].type==="name"?C.push("/"+A+" /"+n[A].value):C.push("/"+A+" "+n[A].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+o.length+c.length+r.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+a+o+c+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(_t.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,o){for(var c,u=o.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],g=0,x=a.length;g<x;++g){if(c=o.metadata.characterToGlyph(a.charCodeAt(g)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=a.charCodeAt(g),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return h.join("");c=c.toString(16),h.push(f[4-c.length],c)}return h.join("")},i=function(a){var o,c,u,f,h,g,x;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],g=0,x=(c=Object.keys(a).sort(function(b,A){return b-A})).length;g<x;g++)o=c[g],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(f=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+f+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var c=o.font,u=o.out,f=o.newObject,h=o.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var g=c.metadata.Unicode.widths,x=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",A=0;A<x.length;A++)b+=String.fromCharCode(x[A]);var C=f();h({data:b,addLength1:!0,objectId:C}),u("endobj");var P=f();h({data:i(c.metadata.toUnicode),addLength1:!0,objectId:P}),u("endobj");var M=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Tf(c.fontName)),u("/FontFile2 "+C+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var L=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+Tf(c.fontName)),u("/FontDescriptor "+M+" 0 R"),u("/W "+t.API.PDFObject.convert(g)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+P+" 0 R"),u("/BaseFont /"+Tf(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+L+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var c=o.font,u=o.out,f=o.newObject,h=o.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var g=c.metadata.rawData,x="",b=0;b<g.length;b++)x+=String.fromCharCode(g[b]);var A=f();h({data:x,addLength1:!0,objectId:A}),u("endobj");var C=f();h({data:i(c.metadata.toUnicode),addLength1:!0,objectId:C}),u("endobj");var P=f();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+A+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+Tf(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=f();for(var M=0;M<c.metadata.hmtx.widths.length;M++)c.metadata.hmtx.widths[M]=parseInt(c.metadata.hmtx.widths[M]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+Tf(c.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(a)}]);var r=function(a){var o,c=a.text||"",u=a.x,f=a.y,h=a.options||{},g=a.mutex||{},x=g.pdfEscape,b=g.activeFontKey,A=g.fonts,C=b,P="",M=0,L="",N=A[C].encoding;if(A[C].encoding!=="Identity-H")return{text:c,x:u,y:f,options:h,mutex:g};for(L=c,C=b,Array.isArray(c)&&(L=c[0]),M=0;M<L.length;M+=1)A[C].metadata.hasOwnProperty("cmap")&&(o=A[C].metadata.cmap.unicode.codeMap[L[M].charCodeAt(0)]),o||L[M].charCodeAt(0)<256&&A[C].metadata.hasOwnProperty("Unicode")?P+=L[M]:P+="";var R="";return parseInt(C.slice(1))<14||N==="WinAnsiEncoding"?R=x(P,C).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(R=n(P,A[C])),g.isHex=!0,{text:R,x:u,y:f,options:h,mutex:g}};e.events.push(["postProcessText",function(a){var o=a.text||"",c=[],u={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?c.push([r(Object.assign({},u,{text:o[f][0]})).text,o[f][1],o[f][2]]):c.push(r(Object.assign({},u,{text:o[f]})).text);a.text=c}else a.text=r(Object.assign({},u,{text:o})).text}])}(_t),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,i){return e.call(this),this.internal.vFS[n]=i,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(_t.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var r,a,o,c,u,f,h,g=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],M=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,N=0;this.__bidiEngine__={};var R=function(O){var j=O.charCodeAt(),Q=j>>8,Z=C[Q];return Z!==void 0?g[256*Z+(255&j)]:Q===252||Q===253?"AL":M.test(Q)?"L":Q===8?"R":"N"},F=function(O){for(var j,Q=0;Q<O.length;Q++){if((j=R(O.charAt(Q)))==="L")return!1;if(j==="R")return!0}return!1},Y=function(O,j,Q,Z){var me,z,G,te,H=j[Z];switch(H){case"L":case"R":L=!1;break;case"N":case"AN":break;case"EN":L&&(H="AN");break;case"AL":L=!0,H="R";break;case"WS":H="N";break;case"CS":Z<1||Z+1>=j.length||(me=Q[Z-1])!=="EN"&&me!=="AN"||(z=j[Z+1])!=="EN"&&z!=="AN"?H="N":L&&(z="AN"),H=z===me?z:"N";break;case"ES":H=(me=Z>0?Q[Z-1]:"B")==="EN"&&Z+1<j.length&&j[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&Q[Z-1]==="EN"){H="EN";break}if(L){H="N";break}for(G=Z+1,te=j.length;G<te&&j[G]==="ET";)G++;H=G<te&&j[G]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(te=j.length,G=Z+1;G<te&&j[G]==="NSM";)G++;if(G<te){var U=O[Z],le=U>=1425&&U<=2303||U===64286;if(me=j[G],le&&(me==="R"||me==="AL")){H="R";break}}}H=Z<1||(me=j[Z-1])==="B"?"N":Q[Z-1];break;case"B":L=!1,r=!0,H=N;break;case"S":a=!0,H="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"BN":H="N"}return H},B=function(O,j,Q){var Z=O.split("");return Q&&V(Z,Q,{hiLevel:N}),Z.reverse(),j&&j.reverse(),Z.join("")},V=function(O,j,Q){var Z,me,z,G,te,H=-1,U=O.length,le=0,k=[],$=N?b:x,ie=[];for(L=!1,r=!1,a=!1,me=0;me<U;me++)ie[me]=R(O[me]);for(z=0;z<U;z++){if(te=le,k[z]=Y(O,ie,k,z),Z=240&(le=$[te][A[k[z]]]),le&=15,j[z]=G=$[le][5],Z>0)if(Z===16){for(me=H;me<z;me++)j[me]=1;H=-1}else H=-1;if($[le][6])H===-1&&(H=z);else if(H>-1){for(me=H;me<z;me++)j[me]=G;H=-1}ie[z]==="B"&&(j[z]=0),Q.hiLevel|=G}a&&function(ue,fe,we){for(var ce=0;ce<we;ce++)if(ue[ce]==="S"){fe[ce]=N;for(var ve=ce-1;ve>=0&&ue[ve]==="WS";ve--)fe[ve]=N}}(ie,j,U)},X=function(O,j,Q,Z,me){if(!(me.hiLevel<O)){if(O===1&&N===1&&!r)return j.reverse(),void(Q&&Q.reverse());for(var z,G,te,H,U=j.length,le=0;le<U;){if(Z[le]>=O){for(te=le+1;te<U&&Z[te]>=O;)te++;for(H=le,G=te-1;H<G;H++,G--)z=j[H],j[H]=j[G],j[G]=z,Q&&(z=Q[H],Q[H]=Q[G],Q[G]=z);le=te}le++}}},K=function(O,j,Q){var Z=O.split(""),me={hiLevel:N};return Q||(Q=[]),V(Z,Q,me),function(z,G,te){if(te.hiLevel!==0&&h)for(var H,U=0;U<z.length;U++)G[U]===1&&(H=P.indexOf(z[U]))>=0&&(z[U]=P[H+1])}(Z,Q,me),X(2,Z,j,Q,me),X(1,Z,j,Q,me),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(O,j,Q){if(function(me,z){if(z)for(var G=0;G<me.length;G++)z[G]=G;c===void 0&&(c=F(me)),f===void 0&&(f=F(me))}(O,j),o||!u||f)if(o&&u&&c^f)N=c?1:0,O=B(O,j,Q);else if(!o&&u&&f)N=c?1:0,O=K(O,j,Q),O=B(O,j);else if(!o||c||u||f){if(o&&!u&&c^f)O=B(O,j),c?(N=0,O=K(O,j,Q)):(N=1,O=K(O,j,Q),O=B(O,j));else if(o&&c&&!u&&f)N=1,O=K(O,j,Q),O=B(O,j);else if(!o&&!u&&c^f){var Z=h;c?(N=1,O=K(O,j,Q),N=0,h=!1,O=K(O,j,Q),h=Z):(N=0,O=K(O,j,Q),O=B(O,j),N=1,h=!1,O=K(O,j,Q),h=Z,O=B(O,j))}}else N=0,O=K(O,j,Q);else N=c?1:0,O=K(O,j,Q);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,u=O.isOutputVisual,c=O.isInputRtl,f=O.isOutputRtl,h=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var r=i.text,a=(i.x,i.y,i.options||{}),o=(i.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(r)==="[object Array]"){var c=0;for(o=[],c=0;c<r.length;c+=1)Object.prototype.toString.call(r[c])==="[object Array]"?o.push([n.doBidiReorder(r[c][0]),r[c][1],r[c][2]]):o.push([n.doBidiReorder(r[c])]);i.text=o}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])}(_t),_t.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new uc(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new wO(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new oO(this.contents),this.head=new cO(this),this.name=new pO(this),this.cmap=new l3(this),this.toUnicode={},this.hhea=new uO(this),this.maxp=new mO(this),this.hmtx=new gO(this),this.post=new dO(this),this.os2=new fO(this),this.loca=new bO(this),this.glyf=new yO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,i,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,u,f;for(f=[],o=0,c=(u=this.bbox).length;o<c;o++)e=u[o],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),(32768&(n=r>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,i){var r,a,o,c;for(o=0,a=0,c=(e=""+e).length;0<=c?a<c:a>c;a=0<=c?++a:--a)r=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t}();var ms,uc=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,i;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var n,i,r;for(r=[],n=0,i=e.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(e.charCodeAt(n)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,i,r,a,o,c,u;return e=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^a)+65536*(255^o)+256*(255^c)+(255^u)+1):72057594037927940*e+281474976710656*n+1099511627776*i+4294967296*r+16777216*a+65536*o+256*c+u},t.prototype.writeLongLong=function(e){var n,i;return n=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,i;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push(this.readByte());return n},t.prototype.write=function(e){var n,i,r,a;for(a=[],i=0,r=e.length;i<r;i++)n=e[i],a.push(this.writeByte(n));return a},t}(),oO=function(){var t;function e(n){var i,r,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,a=this.tableCount;0<=a?r<a:r>a;r=0<=a?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(n){var i,r,a,o,c,u,f,h,g,x,b,A,C;for(C in b=Object.keys(n).length,u=Math.log(2),g=16*Math.floor(Math.log(b)/u),o=Math.floor(g/u),h=16*b-g,(r=new uc).writeInt(this.scalarType),r.writeShort(b),r.writeShort(g),r.writeShort(o),r.writeShort(h),a=16*b,f=r.pos+a,c=null,A=[],n)for(x=n[C],r.writeString(C),r.writeInt(t(x)),r.writeInt(f),r.writeInt(x.length),A=A.concat(x),C==="head"&&(c=f),f+=x.length;f%4;)A.push(0),f++;return r.write(A),i=2981146554-t(r.data),r.pos=c+8,r.writeUInt32(i),r.data},t=function(n){var i,r,a,o;for(n=c3.call(n);n.length%4;)n.push(0);for(a=new uc(n),r=0,i=0,o=n.length;i<o;i=i+=4)r+=a.readUInt32();return 4294967295&r},e}(),lO={}.hasOwnProperty,lo=function(t,e){for(var n in e)lO.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};ms=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var cO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return lo(e,ms),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var i;return(i=new uc).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(n),i.writeShort(this.glyphDataFormat),i.data},e}(),xw=function(){function t(e,n){var i,r,a,o,c,u,f,h,g,x,b,A,C,P,M,L,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(b=e.readUInt16(),x=b/2,e.pos+=6,a=function(){var R,F;for(F=[],u=R=0;0<=x?R<x:R>x;u=0<=x?++R:--R)F.push(e.readUInt16());return F}(),e.pos+=2,C=function(){var R,F;for(F=[],u=R=0;0<=x?R<x:R>x;u=0<=x?++R:--R)F.push(e.readUInt16());return F}(),f=function(){var R,F;for(F=[],u=R=0;0<=x?R<x:R>x;u=0<=x?++R:--R)F.push(e.readUInt16());return F}(),h=function(){var R,F;for(F=[],u=R=0;0<=x?R<x:R>x;u=0<=x?++R:--R)F.push(e.readUInt16());return F}(),r=(this.length-e.pos+this.offset)/2,c=function(){var R,F;for(F=[],u=R=0;0<=r?R<r:R>r;u=0<=r?++R:--R)F.push(e.readUInt16());return F}(),u=M=0,N=a.length;M<N;u=++M)for(P=a[u],i=L=A=C[u];A<=P?L<=P:L>=P;i=A<=P?++L:--L)h[u]===0?o=i+f[u]:(o=c[h[u]/2+(i-A)-(x-u)]||0)!==0&&(o+=f[u]),this.codeMap[i]=65535&o}e.pos=g}return t.encode=function(e,n){var i,r,a,o,c,u,f,h,g,x,b,A,C,P,M,L,N,R,F,Y,B,V,X,K,O,j,Q,Z,me,z,G,te,H,U,le,k,$,ie,ue,fe,we,ce,ve,_e,Te,Oe;switch(Z=new uc,o=Object.keys(e).sort(function(je,Ke){return je-Ke}),n){case"macroman":for(C=0,P=function(){var je=[];for(A=0;A<256;++A)je.push(0);return je}(),L={0:0},a={},me=0,H=o.length;me<H;me++)L[ve=e[r=o[me]]]==null&&(L[ve]=++C),a[r]={old:e[r],new:L[e[r]]},P[r]=L[e[r]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(P),{charMap:a,subtable:Z.data,maxGlyphID:C+1};case"unicode":for(j=[],g=[],N=0,L={},i={},M=f=null,z=0,U=o.length;z<U;z++)L[F=e[r=o[z]]]==null&&(L[F]=++N),i[r]={old:F,new:L[F]},c=L[F]-r,M!=null&&c===f||(M&&g.push(M),j.push(r),f=c),M=r;for(M&&g.push(M),g.push(65535),j.push(65535),K=2*(X=j.length),V=2*Math.pow(Math.log(X)/Math.LN2,2),x=Math.log(V/2)/Math.LN2,B=2*X-V,u=[],Y=[],b=[],A=G=0,le=j.length;G<le;A=++G){if(O=j[A],h=g[A],O===65535){u.push(0),Y.push(0);break}if(O-(Q=i[O].new)>=32768)for(u.push(0),Y.push(2*(b.length+X-A)),r=te=O;O<=h?te<=h:te>=h;r=O<=h?++te:--te)b.push(i[r].new);else u.push(Q-O),Y.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*X+2*b.length),Z.writeUInt16(0),Z.writeUInt16(K),Z.writeUInt16(V),Z.writeUInt16(x),Z.writeUInt16(B),we=0,k=g.length;we<k;we++)r=g[we],Z.writeUInt16(r);for(Z.writeUInt16(0),ce=0,$=j.length;ce<$;ce++)r=j[ce],Z.writeUInt16(r);for(_e=0,ie=u.length;_e<ie;_e++)c=u[_e],Z.writeUInt16(c);for(Te=0,ue=Y.length;Te<ue;Te++)R=Y[Te],Z.writeUInt16(R);for(Oe=0,fe=b.length;Oe<fe;Oe++)C=b[Oe],Z.writeUInt16(C);return{charMap:i,subtable:Z.data,maxGlyphID:N+1}}},t}(),l3=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return lo(e,ms),e.prototype.tag="cmap",e.prototype.parse=function(n){var i,r,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)i=new xw(n,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(n,i){var r,a;return i==null&&(i="macroman"),r=xw.encode(n,i),(a=new uc).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},e}(),uO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return lo(e,ms),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),fO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return lo(e,ms),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(n.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(n.readInt());return r}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(n.readInt());return r}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),dO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return lo(e,ms),e.prototype.tag="post",e.prototype.parse=function(n){var i,r,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(r=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)i=n.readByte(),a.push(this.names.push(n.readString(i)));return a;case 151552:return r=n.readUInt16(),this.offsets=n.read(r);case 196608:break;case 262144:return this.map=(function(){var c,u,f;for(f=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)f.push(n.readUInt32());return f}).call(this)}},e}(),hO=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return lo(e,ms),e.prototype.tag="name",e.prototype.parse=function(n){var i,r,a,o,c,u,f,h,g,x,b;for(n.pos=this.offset,n.readShort(),i=n.readShort(),u=n.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+u+n.readShort()});for(f={},o=g=0,x=r.length;g<x;o=++g)a=r[o],n.pos=a.offset,h=n.readString(a.length),c=new hO(h,a),f[b=a.nameID]==null&&(f[b]=[]),f[a.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e}(),mO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return lo(e,ms),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),gO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return lo(e,ms),e.prototype.tag="hmtx",e.prototype.parse=function(n){var i,r,a,o,c,u,f;for(n.pos=this.offset,this.metrics=[],i=0,u=this.file.hhea.numberOfMetrics;0<=u?i<u:i>u;i=0<=u?++i:--i)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,g;for(g=[],i=h=0;0<=a?h<a:h>a;i=0<=a?++h:--h)g.push(n.readInt16());return g}(),this.widths=(function(){var h,g,x,b;for(b=[],h=0,g=(x=this.metrics).length;h<g;h++)o=x[h],b.push(o.advance);return b}).call(this),r=this.widths[this.widths.length-1],f=[],i=c=0;0<=a?c<a:c>a;i=0<=a?++c:--c)f.push(this.widths.push(r));return f},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),c3=[].slice,yO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return lo(e,ms),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var i,r,a,o,c,u,f,h,g,x;return n in this.cache?this.cache[n]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(i.pos=this.offset+r,c=(u=new uc(i.read(a))).readShort(),h=u.readShort(),x=u.readShort(),f=u.readShort(),g=u.readShort(),this.cache[n]=c===-1?new xO(u,h,x,f,g):new vO(u,c,h,x,f,g),this.cache[n]))},e.prototype.encode=function(n,i,r){var a,o,c,u,f;for(c=[],o=[],u=0,f=i.length;u<f;u++)a=n[i[u]],o.push(c.length),a&&(c=c.concat(a.encode(r)));return o.push(c.length),{table:c,offsets:o}},e}(),vO=function(){function t(e,n,i,r,a,o){this.raw=e,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),xO=function(){function t(e,n,i,r,a){var o,c;for(this.raw=e,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,i;for(n=new uc(c3.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),bO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return lo(e,ms),e.prototype.tag="loca",e.prototype.parse=function(n){var i,r;return n.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,i){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<r.length;++c)if(r[c]=a,o<i.length&&i[o]==c){++o,r[c]=a;var u=this.offsets[c],f=this.offsets[c+1]-u;f>0&&(a+=f)}for(var h=new Array(4*r.length),g=0;g<r.length;++g)h[4*g+3]=255&r[g],h[4*g+2]=(65280&r[g])>>8,h[4*g+1]=(16711680&r[g])>>16,h[4*g]=(4278190080&r[g])>>24;return h},e}(),wO=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,i,r,a;for(n in r=this.font.cmap.tables[0].codeMap,e={},a=this.subset)i=a[n],e[n]=r[i];return e},t.prototype.glyphsFor=function(e){var n,i,r,a,o,c,u;for(r={},o=0,c=e.length;o<c;o++)r[a=e[o]]=this.font.glyf.glyphFor(a);for(a in n=[],r)(i=r[a])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(a in u=this.glyphsFor(n))i=u[a],r[a]=i;return r},t.prototype.encode=function(e,n){var i,r,a,o,c,u,f,h,g,x,b,A,C,P,M;for(r in i=l3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),b={0:0},M=i.charMap)b[(u=M[r]).old]=u.new;for(A in x=i.maxGlyphID,o)A in b||(b[A]=x++);return h=function(L){var N,R;for(N in R={},L)R[L[N]]=N;return R}(b),g=Object.keys(h).sort(function(L,N){return L-N}),C=function(){var L,N,R;for(R=[],L=0,N=g.length;L<N;L++)c=g[L],R.push(h[c]);return R}(),a=this.font.glyf.encode(o,C,b),f=this.font.loca.encode(a.offsets,C),P={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},t}();_t.API.PDFObject=function(){var t;function e(){}return t=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},e.convert=function(n){var i,r,a,o;if(Array.isArray(n))return"["+function(){var c,u,f;for(f=[],c=0,u=n.length;c<u;c++)i=n[c],f.push(e.convert(i));return f}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in a=["<<"],n)o=n[r],a.push("/"+r+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+n},e}();const _O=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:ZF,AcroFormAppearance:ht,AcroFormButton:Ii,AcroFormCheckBox:bh,AcroFormChoiceField:cu,AcroFormComboBox:fu,AcroFormEditBox:vh,AcroFormListBox:uu,AcroFormPasswordField:wh,AcroFormPushButton:xh,AcroFormRadioButton:du,AcroFormTextField:ac,GState:Dh,ShadingPattern:Ql,TilingPattern:su,default:_t,jsPDF:_t},Symbol.toStringTag,{value:"Module"}));var Tm={exports:{}};const SO=Tw(_O);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var bw=Tm.exports,ww;function CO(){return ww||(ww=1,function(t,e){(function(i,r){t.exports=r(function(){try{return SO}catch{}}())})(typeof globalThis<"u"?globalThis:typeof bw<"u"?bw:typeof window<"u"?window:typeof self<"u"?self:y4,function(n){return function(){var i={172:function(c,u){var f=this&&this.__extends||function(){var x=function(b,A){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,P){C.__proto__=P}||function(C,P){for(var M in P)Object.prototype.hasOwnProperty.call(P,M)&&(C[M]=P[M])},x(b,A)};return function(b,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");x(b,A);function C(){this.constructor=b}b.prototype=A===null?Object.create(A):(C.prototype=A.prototype,new C)}}();Object.defineProperty(u,"__esModule",{value:!0}),u.CellHookData=u.HookData=void 0;var h=function(){function x(b,A,C){this.table=A,this.pageNumber=A.pageNumber,this.pageCount=this.pageNumber,this.settings=A.settings,this.cursor=C,this.doc=b.getDocument()}return x}();u.HookData=h;var g=function(x){f(b,x);function b(A,C,P,M,L,N){var R=x.call(this,A,C,N)||this;return R.cell=P,R.row=M,R.column=L,R.section=M.section,R}return b}(h);u.CellHookData=g},340:function(c,u,f){Object.defineProperty(u,"__esModule",{value:!0});var h=f(4),g=f(136),x=f(744),b=f(776),A=f(664),C=f(972);function P(M){M.API.autoTable=function(){for(var L=[],N=0;N<arguments.length;N++)L[N]=arguments[N];var R;L.length===1?R=L[0]:(console.error("Use of deprecated autoTable initiation"),R=L[2]||{},R.columns=L[0],R.body=L[1]);var F=(0,b.parseInput)(this,R),Y=(0,C.createTable)(this,F);return(0,A.drawTable)(this,Y),this},M.API.lastAutoTable=!1,M.API.previousAutoTable=!1,M.API.autoTable.previous=!1,M.API.autoTableText=function(L,N,R,F){(0,g.default)(L,N,R,F,this)},M.API.autoTableSetDefaults=function(L){return x.DocHandler.setDefaults(L,this),this},M.autoTableSetDefaults=function(L,N){x.DocHandler.setDefaults(L,N)},M.API.autoTableHtmlToJson=function(L,N){var R;if(N===void 0&&(N=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var F=new x.DocHandler(this),Y=(0,h.parseHtml)(F,L,window,N,!1),B=Y.head,V=Y.body,X=((R=B[0])===null||R===void 0?void 0:R.map(function(K){return K.content}))||[];return{columns:X,rows:V,data:V}},M.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var L=this.lastAutoTable;return L&&L.finalY?L.finalY:0},M.API.autoTableAddPageContent=function(L){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),M.API.autoTable.globalDefaults||(M.API.autoTable.globalDefaults={}),M.API.autoTable.globalDefaults.addPageContent=L,this},M.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}u.default=P},136:function(c,u){Object.defineProperty(u,"__esModule",{value:!0});function f(h,g,x,b,A){b=b||{};var C=1.15,P=A.internal.scaleFactor,M=A.internal.getFontSize()/P,L=A.getLineHeightFactor?A.getLineHeightFactor():C,N=M*L,R=/\r\n|\r|\n/g,F="",Y=1;if((b.valign==="middle"||b.valign==="bottom"||b.halign==="center"||b.halign==="right")&&(F=typeof h=="string"?h.split(R):h,Y=F.length||1),x+=M*(2-C),b.valign==="middle"?x-=Y/2*N:b.valign==="bottom"&&(x-=Y*N),b.halign==="center"||b.halign==="right"){var B=M;if(b.halign==="center"&&(B*=.5),F&&Y>=1){for(var V=0;V<F.length;V++)A.text(F[V],g-A.getStringUnitWidth(F[V])*B,x),x+=N;return A}g-=A.getStringUnitWidth(h)*B}return b.halign==="justify"?A.text(h,g,x,{maxWidth:b.maxWidth||100,align:"justify"}):A.text(h,g,x),A}u.default=f},420:function(c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.getPageAvailableWidth=u.parseSpacing=u.getFillStyle=u.addTableBorder=u.getStringWidth=void 0;function f(A,C,P){P.applyStyles(C,!0);var M=Array.isArray(A)?A:[A],L=M.map(function(N){return P.getTextWidth(N)}).reduce(function(N,R){return Math.max(N,R)},0);return L}u.getStringWidth=f;function h(A,C,P,M){var L=C.settings.tableLineWidth,N=C.settings.tableLineColor;A.applyStyles({lineWidth:L,lineColor:N});var R=g(L,!1);R&&A.rect(P.x,P.y,C.getWidth(A.pageSize().width),M.y-P.y,R)}u.addTableBorder=h;function g(A,C){var P=A>0,M=C||C===0;return P&&M?"DF":P?"S":M?"F":null}u.getFillStyle=g;function x(A,C){var P,M,L,N;if(A=A||C,Array.isArray(A)){if(A.length>=4)return{top:A[0],right:A[1],bottom:A[2],left:A[3]};if(A.length===3)return{top:A[0],right:A[1],bottom:A[2],left:A[1]};if(A.length===2)return{top:A[0],right:A[1],bottom:A[0],left:A[1]};A.length===1?A=A[0]:A=C}return typeof A=="object"?(typeof A.vertical=="number"&&(A.top=A.vertical,A.bottom=A.vertical),typeof A.horizontal=="number"&&(A.right=A.horizontal,A.left=A.horizontal),{left:(P=A.left)!==null&&P!==void 0?P:C,top:(M=A.top)!==null&&M!==void 0?M:C,right:(L=A.right)!==null&&L!==void 0?L:C,bottom:(N=A.bottom)!==null&&N!==void 0?N:C}):(typeof A!="number"&&(A=C),{top:A,right:A,bottom:A,left:A})}u.parseSpacing=x;function b(A,C){var P=x(C.settings.margin,0);return A.pageSize().width-(P.left+P.right)}u.getPageAvailableWidth=b},796:function(c,u){var f=this&&this.__extends||function(){var b=function(A,C){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,M){P.__proto__=M}||function(P,M){for(var L in M)Object.prototype.hasOwnProperty.call(M,L)&&(P[L]=M[L])},b(A,C)};return function(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");b(A,C);function P(){this.constructor=A}A.prototype=C===null?Object.create(C):(P.prototype=C.prototype,new P)}}();Object.defineProperty(u,"__esModule",{value:!0}),u.getTheme=u.defaultStyles=u.HtmlRowInput=void 0;var h=function(b){f(A,b);function A(C){var P=b.call(this)||this;return P._element=C,P}return A}(Array);u.HtmlRowInput=h;function g(b){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/b,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}u.defaultStyles=g;function x(b){var A={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return A[b]}u.getTheme=x},903:function(c,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.parseCss=void 0;var h=f(420);function g(P,M,L,N,R){var F={},Y=1.3333333333333333,B=b(M,function(H){return R.getComputedStyle(H).backgroundColor});B!=null&&(F.fillColor=B);var V=b(M,function(H){return R.getComputedStyle(H).color});V!=null&&(F.textColor=V);var X=C(N,L);X&&(F.cellPadding=X);var K="borderTopColor",O=Y*L,j=N.borderTopWidth;if(N.borderBottomWidth===j&&N.borderRightWidth===j&&N.borderLeftWidth===j){var Q=(parseFloat(j)||0)/O;Q&&(F.lineWidth=Q)}else F.lineWidth={top:(parseFloat(N.borderTopWidth)||0)/O,right:(parseFloat(N.borderRightWidth)||0)/O,bottom:(parseFloat(N.borderBottomWidth)||0)/O,left:(parseFloat(N.borderLeftWidth)||0)/O},F.lineWidth.top||(F.lineWidth.right?K="borderRightColor":F.lineWidth.bottom?K="borderBottomColor":F.lineWidth.left&&(K="borderLeftColor"));var Z=b(M,function(H){return R.getComputedStyle(H)[K]});Z!=null&&(F.lineColor=Z);var me=["left","right","center","justify"];me.indexOf(N.textAlign)!==-1&&(F.halign=N.textAlign),me=["middle","bottom","top"],me.indexOf(N.verticalAlign)!==-1&&(F.valign=N.verticalAlign);var z=parseInt(N.fontSize||"");isNaN(z)||(F.fontSize=z/Y);var G=x(N);G&&(F.fontStyle=G);var te=(N.fontFamily||"").toLowerCase();return P.indexOf(te)!==-1&&(F.font=te),F}u.parseCss=g;function x(P){var M="";return(P.fontWeight==="bold"||P.fontWeight==="bolder"||parseInt(P.fontWeight)>=700)&&(M="bold"),(P.fontStyle==="italic"||P.fontStyle==="oblique")&&(M+="italic"),M}function b(P,M){var L=A(P,M);if(!L)return null;var N=L.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!N||!Array.isArray(N))return null;var R=[parseInt(N[1]),parseInt(N[2]),parseInt(N[3])],F=parseInt(N[4]);return F===0||isNaN(R[0])||isNaN(R[1])||isNaN(R[2])?null:R}function A(P,M){var L=M(P);return L==="rgba(0, 0, 0, 0)"||L==="transparent"||L==="initial"||L==="inherit"?P.parentElement==null?null:A(P.parentElement,M):L}function C(P,M){var L=[P.paddingTop,P.paddingRight,P.paddingBottom,P.paddingLeft],N=96/(72/M),R=(parseInt(P.lineHeight)-parseInt(P.fontSize))/M/2,F=L.map(function(B){return parseInt(B||"0")/N}),Y=(0,h.parseSpacing)(F,0);return R>Y.top&&(Y.top=R),R>Y.bottom&&(Y.bottom=R),Y}},744:function(c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.DocHandler=void 0;var f={},h=function(){function g(x){this.jsPDFDocument=x,this.userStyles={textColor:x.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:x.internal.getFontSize(),fontStyle:x.internal.getFont().fontStyle,font:x.internal.getFont().fontName,lineWidth:x.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:x.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return g.setDefaults=function(x,b){b===void 0&&(b=null),b?b.__autoTableDocumentDefaults=x:f=x},g.unifyColor=function(x){return Array.isArray(x)?x:typeof x=="number"?[x,x,x]:typeof x=="string"?[x]:null},g.prototype.applyStyles=function(x,b){var A,C,P;b===void 0&&(b=!1),x.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(x.fontStyle);var M=this.jsPDFDocument.internal.getFont(),L=M.fontStyle,N=M.fontName;if(x.font&&(N=x.font),x.fontStyle){L=x.fontStyle;var R=this.getFontList()[N];R&&R.indexOf(L)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(R[0]),L=R[0])}if(this.jsPDFDocument.setFont(N,L),x.fontSize&&this.jsPDFDocument.setFontSize(x.fontSize),!b){var F=g.unifyColor(x.fillColor);F&&(A=this.jsPDFDocument).setFillColor.apply(A,F),F=g.unifyColor(x.textColor),F&&(C=this.jsPDFDocument).setTextColor.apply(C,F),F=g.unifyColor(x.lineColor),F&&(P=this.jsPDFDocument).setDrawColor.apply(P,F),typeof x.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(x.lineWidth)}},g.prototype.splitTextToSize=function(x,b,A){return this.jsPDFDocument.splitTextToSize(x,b,A)},g.prototype.rect=function(x,b,A,C,P){return this.jsPDFDocument.rect(x,b,A,C,P)},g.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},g.prototype.getTextWidth=function(x){return this.jsPDFDocument.getTextWidth(x)},g.prototype.getDocument=function(){return this.jsPDFDocument},g.prototype.setPage=function(x){this.jsPDFDocument.setPage(x)},g.prototype.addPage=function(){return this.jsPDFDocument.addPage()},g.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},g.prototype.getGlobalOptions=function(){return f||{}},g.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},g.prototype.pageSize=function(){var x=this.jsPDFDocument.internal.pageSize;return x.width==null&&(x={width:x.getWidth(),height:x.getHeight()}),x},g.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},g.prototype.getLineHeightFactor=function(){var x=this.jsPDFDocument;return x.getLineHeightFactor?x.getLineHeightFactor():1.15},g.prototype.getLineHeight=function(x){return x/this.scaleFactor()*this.getLineHeightFactor()},g.prototype.pageNumber=function(){var x=this.jsPDFDocument.internal.getCurrentPageInfo();return x?x.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},g}();u.DocHandler=h},4:function(c,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.parseHtml=void 0;var h=f(903),g=f(796);function x(C,P,M,L,N){var R,F;L===void 0&&(L=!1),N===void 0&&(N=!1);var Y;typeof P=="string"?Y=M.document.querySelector(P):Y=P;var B=Object.keys(C.getFontList()),V=C.scaleFactor(),X=[],K=[],O=[];if(!Y)return console.error("Html table could not be found with input: ",P),{head:X,body:K,foot:O};for(var j=0;j<Y.rows.length;j++){var Q=Y.rows[j],Z=(F=(R=Q==null?void 0:Q.parentElement)===null||R===void 0?void 0:R.tagName)===null||F===void 0?void 0:F.toLowerCase(),me=b(B,V,M,Q,L,N);me&&(Z==="thead"?X.push(me):Z==="tfoot"?O.push(me):K.push(me))}return{head:X,body:K,foot:O}}u.parseHtml=x;function b(C,P,M,L,N,R){for(var F=new g.HtmlRowInput(L),Y=0;Y<L.cells.length;Y++){var B=L.cells[Y],V=M.getComputedStyle(B);if(N||V.display!=="none"){var X=void 0;R&&(X=(0,h.parseCss)(C,B,P,V,M)),F.push({rowSpan:B.rowSpan,colSpan:B.colSpan,styles:X,_element:B,content:A(B)})}}var K=M.getComputedStyle(L);if(F.length>0&&(N||K.display!=="none"))return F}function A(C){var P=C.cloneNode(!0);return P.innerHTML=P.innerHTML.replace(/\n/g,"").replace(/ +/g," "),P.innerHTML=P.innerHTML.split(/<br.*?>/).map(function(M){return M.trim()}).join(`
`),P.innerText||P.textContent||""}},776:function(c,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.parseInput=void 0;var h=f(4),g=f(356),x=f(420),b=f(744),A=f(792);function C(Y,B){var V=new b.DocHandler(Y),X=V.getDocumentOptions(),K=V.getGlobalOptions();(0,A.default)(V,K,X,B);var O=(0,g.assign)({},K,X,B),j;typeof window<"u"&&(j=window);var Q=P(K,X,B),Z=M(K,X,B),me=L(V,O),z=R(V,O,j);return{id:B.tableId,content:z,hooks:Z,styles:Q,settings:me}}u.parseInput=C;function P(Y,B,V){for(var X={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},K=function(Z){if(Z==="columnStyles"){var me=Y[Z],z=B[Z],G=V[Z];X.columnStyles=(0,g.assign)({},me,z,G)}else{var te=[Y,B,V],H=te.map(function(U){return U[Z]||{}});X[Z]=(0,g.assign)({},H[0],H[1],H[2])}},O=0,j=Object.keys(X);O<j.length;O++){var Q=j[O];K(Q)}return X}function M(Y,B,V){for(var X=[Y,B,V],K={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,j=X;O<j.length;O++){var Q=j[O];Q.didParseCell&&K.didParseCell.push(Q.didParseCell),Q.willDrawCell&&K.willDrawCell.push(Q.willDrawCell),Q.didDrawCell&&K.didDrawCell.push(Q.didDrawCell),Q.willDrawPage&&K.willDrawPage.push(Q.willDrawPage),Q.didDrawPage&&K.didDrawPage.push(Q.didDrawPage)}return K}function L(Y,B){var V,X,K,O,j,Q,Z,me,z,G,te,H,U=(0,x.parseSpacing)(B.margin,40/Y.scaleFactor()),le=(V=N(Y,B.startY))!==null&&V!==void 0?V:U.top,k;B.showFoot===!0?k="everyPage":B.showFoot===!1?k="never":k=(X=B.showFoot)!==null&&X!==void 0?X:"everyPage";var $;B.showHead===!0?$="everyPage":B.showHead===!1?$="never":$=(K=B.showHead)!==null&&K!==void 0?K:"everyPage";var ie=(O=B.useCss)!==null&&O!==void 0?O:!1,ue=B.theme||(ie?"plain":"striped"),fe=!!B.horizontalPageBreak,we=(j=B.horizontalPageBreakRepeat)!==null&&j!==void 0?j:null;return{includeHiddenHtml:(Q=B.includeHiddenHtml)!==null&&Q!==void 0?Q:!1,useCss:ie,theme:ue,startY:le,margin:U,pageBreak:(Z=B.pageBreak)!==null&&Z!==void 0?Z:"auto",rowPageBreak:(me=B.rowPageBreak)!==null&&me!==void 0?me:"auto",tableWidth:(z=B.tableWidth)!==null&&z!==void 0?z:"auto",showHead:$,showFoot:k,tableLineWidth:(G=B.tableLineWidth)!==null&&G!==void 0?G:0,tableLineColor:(te=B.tableLineColor)!==null&&te!==void 0?te:200,horizontalPageBreak:fe,horizontalPageBreakRepeat:we,horizontalPageBreakBehaviour:(H=B.horizontalPageBreakBehaviour)!==null&&H!==void 0?H:"afterAllRows"}}function N(Y,B){var V=Y.getLastAutoTable(),X=Y.scaleFactor(),K=Y.pageNumber(),O=!1;if(V&&V.startPageNumber){var j=V.startPageNumber+V.pageNumber-1;O=j===K}return typeof B=="number"?B:(B==null||B===!1)&&O&&(V==null?void 0:V.finalY)!=null?V.finalY+20/X:null}function R(Y,B,V){var X=B.head||[],K=B.body||[],O=B.foot||[];if(B.html){var j=B.includeHiddenHtml;if(V){var Q=(0,h.parseHtml)(Y,B.html,V,j,B.useCss)||{};X=Q.head||X,K=Q.body||X,O=Q.foot||X}else console.error("Cannot parse html in non browser environment")}var Z=B.columns||F(X,K,O);return{columns:Z,head:X,body:K,foot:O}}function F(Y,B,V){var X=Y[0]||B[0]||V[0]||[],K=[];return Object.keys(X).filter(function(O){return O!=="_element"}).forEach(function(O){var j=1,Q;Array.isArray(X)?Q=X[parseInt(O)]:Q=X[O],typeof Q=="object"&&!Array.isArray(Q)&&(j=(Q==null?void 0:Q.colSpan)||1);for(var Z=0;Z<j;Z++){var me=void 0;Array.isArray(X)?me=K.length:me=O+(Z>0?"_".concat(Z):"");var z={dataKey:me};K.push(z)}}),K}},792:function(c,u){Object.defineProperty(u,"__esModule",{value:!0});function f(g,x,b,A){for(var C=function(N){N&&typeof N!="object"&&console.error("The options parameter should be of type object, is: "+typeof N),typeof N.extendWidth<"u"&&(N.tableWidth=N.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof N.margins<"u"&&(typeof N.margin>"u"&&(N.margin=N.margins),console.error("Use of deprecated option: margins, use margin instead.")),N.startY&&typeof N.startY!="number"&&(console.error("Invalid value for startY option",N.startY),delete N.startY),!N.didDrawPage&&(N.afterPageContent||N.beforePageContent||N.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),N.didDrawPage=function(O){g.applyStyles(g.userStyles),N.beforePageContent&&N.beforePageContent(O),g.applyStyles(g.userStyles),N.afterPageContent&&N.afterPageContent(O),g.applyStyles(g.userStyles),N.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),g.applyStyles(g.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){N[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var j=O[0],Q=O[1];N[Q]&&(console.error("Use of deprecated option ".concat(Q,". Use ").concat(j," instead")),N[j]=N[Q])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var j=typeof O=="string"?O:O[0],Q=typeof O=="string"?O:O[1];typeof N[j]<"u"&&(typeof N.styles[Q]>"u"&&(N.styles[Q]=N[j]),console.error("Use of deprecated option: "+j+", use the style "+Q+" instead."))});for(var R=0,F=["styles","bodyStyles","headStyles","footStyles"];R<F.length;R++){var Y=F[R];h(N[Y]||{})}for(var B=N.columnStyles||{},V=0,X=Object.keys(B);V<X.length;V++){var K=X[V];h(B[K]||{})}},P=0,M=[x,b,A];P<M.length;P++){var L=M[P];C(L)}}u.default=f;function h(g){g.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),g.minCellHeight||(g.minCellHeight=g.rowHeight)):g.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),g.cellWidth||(g.cellWidth=g.columnWidth))}},260:function(c,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.Column=u.Cell=u.Row=u.Table=void 0;var h=f(796),g=f(172),x=f(420),b=function(){function M(L,N){this.pageNumber=1,this.pageCount=1,this.id=L.id,this.settings=L.settings,this.styles=L.styles,this.hooks=L.hooks,this.columns=N.columns,this.head=N.head,this.body=N.body,this.foot=N.foot}return M.prototype.getHeadHeight=function(L){return this.head.reduce(function(N,R){return N+R.getMaxCellHeight(L)},0)},M.prototype.getFootHeight=function(L){return this.foot.reduce(function(N,R){return N+R.getMaxCellHeight(L)},0)},M.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},M.prototype.callCellHooks=function(L,N,R,F,Y,B){for(var V=0,X=N;V<X.length;V++){var K=X[V],O=new g.CellHookData(L,this,R,F,Y,B),j=K(O)===!1;if(R.text=Array.isArray(R.text)?R.text:[R.text],j)return!1}return!0},M.prototype.callEndPageHooks=function(L,N){L.applyStyles(L.userStyles);for(var R=0,F=this.hooks.didDrawPage;R<F.length;R++){var Y=F[R];Y(new g.HookData(L,this,N))}},M.prototype.callWillDrawPageHooks=function(L,N){for(var R=0,F=this.hooks.willDrawPage;R<F.length;R++){var Y=F[R];Y(new g.HookData(L,this,N))}},M.prototype.getWidth=function(L){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var N=this.columns.reduce(function(F,Y){return F+Y.wrappedWidth},0);return N}else{var R=this.settings.margin;return L-R.left-R.right}},M}();u.Table=b;var A=function(){function M(L,N,R,F,Y){Y===void 0&&(Y=!1),this.height=0,this.raw=L,L instanceof h.HtmlRowInput&&(this.raw=L._element,this.element=L._element),this.index=N,this.section=R,this.cells=F,this.spansMultiplePages=Y}return M.prototype.getMaxCellHeight=function(L){var N=this;return L.reduce(function(R,F){var Y;return Math.max(R,((Y=N.cells[F.index])===null||Y===void 0?void 0:Y.height)||0)},0)},M.prototype.hasRowSpan=function(L){var N=this;return L.filter(function(R){var F=N.cells[R.index];return F?F.rowSpan>1:!1}).length>0},M.prototype.canEntireRowFit=function(L,N){return this.getMaxCellHeight(N)<=L},M.prototype.getMinimumRowHeight=function(L,N){var R=this;return L.reduce(function(F,Y){var B=R.cells[Y.index];if(!B)return 0;var V=N.getLineHeight(B.styles.fontSize),X=B.padding("vertical"),K=X+V;return K>F?K:F},0)},M}();u.Row=A;var C=function(){function M(L,N,R){var F,Y;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=N,this.section=R,this.raw=L;var B=L;L!=null&&typeof L=="object"&&!Array.isArray(L)?(this.rowSpan=L.rowSpan||1,this.colSpan=L.colSpan||1,B=(Y=(F=L.content)!==null&&F!==void 0?F:L.title)!==null&&Y!==void 0?Y:L,L._element&&(this.raw=L._element)):(this.rowSpan=1,this.colSpan=1);var V=B!=null?""+B:"",X=/\r\n|\r|\n/g;this.text=V.split(X)}return M.prototype.getTextPos=function(){var L;if(this.styles.valign==="top")L=this.y+this.padding("top");else if(this.styles.valign==="bottom")L=this.y+this.height-this.padding("bottom");else{var N=this.height-this.padding("vertical");L=this.y+N/2+this.padding("top")}var R;if(this.styles.halign==="right")R=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var F=this.width-this.padding("horizontal");R=this.x+F/2+this.padding("left")}else R=this.x+this.padding("left");return{x:R,y:L}},M.prototype.getContentHeight=function(L,N){N===void 0&&(N=1.15);var R=Array.isArray(this.text)?this.text.length:1,F=this.styles.fontSize/L*N,Y=R*F+this.padding("vertical");return Math.max(Y,this.styles.minCellHeight)},M.prototype.padding=function(L){var N=(0,x.parseSpacing)(this.styles.cellPadding,0);return L==="vertical"?N.top+N.bottom:L==="horizontal"?N.left+N.right:N[L]},M}();u.Cell=C;var P=function(){function M(L,N,R){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=L,this.raw=N,this.index=R}return M.prototype.getMaxCustomCellWidth=function(L){for(var N=0,R=0,F=L.allRows();R<F.length;R++){var Y=F[R],B=Y.cells[this.index];B&&typeof B.styles.cellWidth=="number"&&(N=Math.max(N,B.styles.cellWidth))}return N},M}();u.Column=P},356:function(c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.assign=void 0;function f(h,g,x,b,A){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var C=Object(h),P=1;P<arguments.length;P++){var M=arguments[P];if(M!=null)for(var L in M)Object.prototype.hasOwnProperty.call(M,L)&&(C[L]=M[L])}return C}u.assign=f},972:function(c,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.createTable=void 0;var h=f(744),g=f(260),x=f(324),b=f(796),A=f(356);function C(Y,B){var V=new h.DocHandler(Y),X=P(B,V.scaleFactor()),K=new g.Table(B,X);return(0,x.calculateWidths)(V,K),V.applyStyles(V.userStyles),K}u.createTable=C;function P(Y,B){var V=Y.content,X=R(V.columns);if(V.head.length===0){var K=L(X,"head");K&&V.head.push(K)}if(V.foot.length===0){var K=L(X,"foot");K&&V.foot.push(K)}var O=Y.settings.theme,j=Y.styles;return{columns:X,head:M("head",V.head,X,j,O,B),body:M("body",V.body,X,j,O,B),foot:M("foot",V.foot,X,j,O,B)}}function M(Y,B,V,X,K,O){var j={},Q=B.map(function(Z,me){for(var z=0,G={},te=0,H=0,U=0,le=V;U<le.length;U++){var k=le[U];if(j[k.index]==null||j[k.index].left===0)if(H===0){var $=void 0;Array.isArray(Z)?$=Z[k.index-te-z]:$=Z[k.dataKey];var ie={};typeof $=="object"&&!Array.isArray($)&&(ie=($==null?void 0:$.styles)||{});var ue=F(Y,k,me,K,X,O,ie),fe=new g.Cell($,ue,Y);G[k.dataKey]=fe,G[k.index]=fe,H=fe.colSpan-1,j[k.index]={left:fe.rowSpan-1,times:H}}else H--,te++;else j[k.index].left--,H=j[k.index].times,z++}return new g.Row(Z,me,Y,G)});return Q}function L(Y,B){var V={};return Y.forEach(function(X){if(X.raw!=null){var K=N(B,X.raw);K!=null&&(V[X.dataKey]=K)}}),Object.keys(V).length>0?V:null}function N(Y,B){if(Y==="head"){if(typeof B=="object")return B.header||B.title||null;if(typeof B=="string"||typeof B=="number")return B}else if(Y==="foot"&&typeof B=="object")return B.footer;return null}function R(Y){return Y.map(function(B,V){var X,K,O;return typeof B=="object"?O=(K=(X=B.dataKey)!==null&&X!==void 0?X:B.key)!==null&&K!==void 0?K:V:O=V,new g.Column(O,B,V)})}function F(Y,B,V,X,K,O,j){var Q=(0,b.getTheme)(X),Z;Y==="head"?Z=K.headStyles:Y==="body"?Z=K.bodyStyles:Y==="foot"&&(Z=K.footStyles);var me=(0,A.assign)({},Q.table,Q[Y],K.styles,Z),z=K.columnStyles[B.dataKey]||K.columnStyles[B.index]||{},G=Y==="body"?z:{},te=Y==="body"&&V%2===0?(0,A.assign)({},Q.alternateRow,K.alternateRowStyles):{},H=(0,b.defaultStyles)(O),U=(0,A.assign)({},H,me,te,G);return(0,A.assign)(U,j)}},664:function(c,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.addPage=u.drawTable=void 0;var h=f(420),g=f(260),x=f(744),b=f(356),A=f(136),C=f(224);function P(z,G){var te=G.settings,H=te.startY,U=te.margin,le={x:U.left,y:H},k=G.getHeadHeight(G.columns)+G.getFootHeight(G.columns),$=H+U.bottom+k;if(te.pageBreak==="avoid"){var ie=G.body,ue=ie.reduce(function(ce,ve){return ce+ve.height},0);$+=ue}var fe=new x.DocHandler(z);(te.pageBreak==="always"||te.startY!=null&&$>fe.pageSize().height)&&(me(fe),le.y=U.top),G.callWillDrawPageHooks(fe,le);var we=(0,b.assign)({},le);G.startPageNumber=fe.pageNumber(),te.horizontalPageBreak?M(fe,G,we,le):(fe.applyStyles(fe.userStyles),(te.showHead==="firstPage"||te.showHead==="everyPage")&&G.head.forEach(function(ce){return K(fe,G,ce,le,G.columns)}),fe.applyStyles(fe.userStyles),G.body.forEach(function(ce,ve){var _e=ve===G.body.length-1;X(fe,G,ce,_e,we,le,G.columns)}),fe.applyStyles(fe.userStyles),(te.showFoot==="lastPage"||te.showFoot==="everyPage")&&G.foot.forEach(function(ce){return K(fe,G,ce,le,G.columns)})),(0,h.addTableBorder)(fe,G,we,le),G.callEndPageHooks(fe,le),G.finalY=le.y,z.lastAutoTable=G,z.previousAutoTable=G,z.autoTable&&(z.autoTable.previous=G),fe.applyStyles(fe.userStyles)}u.drawTable=P;function M(z,G,te,H){var U=(0,C.calculateAllColumnsCanFitInPage)(z,G),le=G.settings;if(le.horizontalPageBreakBehaviour==="afterAllRows")U.forEach(function(ue,fe){z.applyStyles(z.userStyles),fe>0?Z(z,G,te,H,ue.columns,!0):L(z,G,H,ue.columns),N(z,G,te,H,ue.columns),F(z,G,H,ue.columns)});else for(var k=-1,$=U[0],ie=function(){var ue=k;if($){z.applyStyles(z.userStyles);var fe=$.columns;k>=0?Z(z,G,te,H,fe,!0):L(z,G,H,fe),ue=R(z,G,k+1,H,fe),F(z,G,H,fe)}var we=ue-k;U.slice(1).forEach(function(ce){z.applyStyles(z.userStyles),Z(z,G,te,H,ce.columns,!0),R(z,G,k+1,H,ce.columns,we),F(z,G,H,ce.columns)}),k=ue};k<G.body.length-1;)ie()}function L(z,G,te,H){var U=G.settings;z.applyStyles(z.userStyles),(U.showHead==="firstPage"||U.showHead==="everyPage")&&G.head.forEach(function(le){return K(z,G,le,te,H)})}function N(z,G,te,H,U){z.applyStyles(z.userStyles),G.body.forEach(function(le,k){var $=k===G.body.length-1;X(z,G,le,$,te,H,U)})}function R(z,G,te,H,U,le){z.applyStyles(z.userStyles),le=le??G.body.length;var k=Math.min(te+le,G.body.length),$=-1;return G.body.slice(te,k).forEach(function(ie,ue){var fe=te+ue===G.body.length-1,we=Q(z,G,fe,H);ie.canEntireRowFit(we,U)&&(K(z,G,ie,H,U),$=te+ue)}),$}function F(z,G,te,H){var U=G.settings;z.applyStyles(z.userStyles),(U.showFoot==="lastPage"||U.showFoot==="everyPage")&&G.foot.forEach(function(le){return K(z,G,le,te,H)})}function Y(z,G,te){var H=te.getLineHeight(z.styles.fontSize),U=z.padding("vertical"),le=Math.floor((G-U)/H);return Math.max(0,le)}function B(z,G,te,H){var U={};z.spansMultiplePages=!0,z.height=0;for(var le=0,k=0,$=te.columns;k<$.length;k++){var ie=$[k],ue=z.cells[ie.index];if(ue){Array.isArray(ue.text)||(ue.text=[ue.text]);var fe=new g.Cell(ue.raw,ue.styles,ue.section);fe=(0,b.assign)(fe,ue),fe.text=[];var we=Y(ue,G,H);ue.text.length>we&&(fe.text=ue.text.splice(we,ue.text.length));var ce=H.scaleFactor(),ve=H.getLineHeightFactor();ue.contentHeight=ue.getContentHeight(ce,ve),ue.contentHeight>=G&&(ue.contentHeight=G,fe.styles.minCellHeight-=G),ue.contentHeight>z.height&&(z.height=ue.contentHeight),fe.contentHeight=fe.getContentHeight(ce,ve),fe.contentHeight>le&&(le=fe.contentHeight),U[ie.index]=fe}}var _e=new g.Row(z.raw,-1,z.section,U,!0);_e.height=le;for(var Te=0,Oe=te.columns;Te<Oe.length;Te++){var ie=Oe[Te],fe=_e.cells[ie.index];fe&&(fe.height=_e.height);var ue=z.cells[ie.index];ue&&(ue.height=z.height)}return _e}function V(z,G,te,H){var U=z.pageSize().height,le=H.settings.margin,k=le.top+le.bottom,$=U-k;G.section==="body"&&($-=H.getHeadHeight(H.columns)+H.getFootHeight(H.columns));var ie=G.getMinimumRowHeight(H.columns,z),ue=ie<te;if(ie>$)return console.error("Will not be able to print row ".concat(G.index," correctly since it's minimum height is larger than page height")),!0;if(!ue)return!1;var fe=G.hasRowSpan(H.columns),we=G.getMaxCellHeight(H.columns)>$;return we?(fe&&console.error("The content of row ".concat(G.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(fe||H.settings.rowPageBreak==="avoid")}function X(z,G,te,H,U,le,k){var $=Q(z,G,H,le);if(te.canEntireRowFit($,k))K(z,G,te,le,k);else if(V(z,te,$,G)){var ie=B(te,$,G,z);K(z,G,te,le,k),Z(z,G,U,le,k),X(z,G,ie,H,U,le,k)}else Z(z,G,U,le,k),X(z,G,te,H,U,le,k)}function K(z,G,te,H,U){H.x=G.settings.margin.left;for(var le=0,k=U;le<k.length;le++){var $=k[le],ie=te.cells[$.index];if(!ie){H.x+=$.width;continue}z.applyStyles(ie.styles),ie.x=H.x,ie.y=H.y;var ue=G.callCellHooks(z,G.hooks.willDrawCell,ie,te,$,H);if(ue===!1){H.x+=$.width;continue}O(z,ie,H);var fe=ie.getTextPos();(0,A.default)(ie.text,fe.x,fe.y,{halign:ie.styles.halign,valign:ie.styles.valign,maxWidth:Math.ceil(ie.width-ie.padding("left")-ie.padding("right"))},z.getDocument()),G.callCellHooks(z,G.hooks.didDrawCell,ie,te,$,H),H.x+=$.width}H.y+=te.height}function O(z,G,te){var H=G.styles;if(z.getDocument().setFillColor(z.getDocument().getFillColor()),typeof H.lineWidth=="number"){var U=(0,h.getFillStyle)(H.lineWidth,H.fillColor);U&&z.rect(G.x,te.y,G.width,G.height,U)}else typeof H.lineWidth=="object"&&(H.fillColor&&z.rect(G.x,te.y,G.width,G.height,"F"),j(z,G,te,H.lineWidth))}function j(z,G,te,H){var U,le,k,$;H.top&&(U=te.x,le=te.y,k=te.x+G.width,$=te.y,H.right&&(k+=.5*H.right),H.left&&(U-=.5*H.left),ie(H.top,U,le,k,$)),H.bottom&&(U=te.x,le=te.y+G.height,k=te.x+G.width,$=te.y+G.height,H.right&&(k+=.5*H.right),H.left&&(U-=.5*H.left),ie(H.bottom,U,le,k,$)),H.left&&(U=te.x,le=te.y,k=te.x,$=te.y+G.height,H.top&&(le-=.5*H.top),H.bottom&&($+=.5*H.bottom),ie(H.left,U,le,k,$)),H.right&&(U=te.x+G.width,le=te.y,k=te.x+G.width,$=te.y+G.height,H.top&&(le-=.5*H.top),H.bottom&&($+=.5*H.bottom),ie(H.right,U,le,k,$));function ie(ue,fe,we,ce,ve){z.getDocument().setLineWidth(ue),z.getDocument().line(fe,we,ce,ve,"S")}}function Q(z,G,te,H){var U=G.settings.margin.bottom,le=G.settings.showFoot;return(le==="everyPage"||le==="lastPage"&&te)&&(U+=G.getFootHeight(G.columns)),z.pageSize().height-H.y-U}function Z(z,G,te,H,U,le){U===void 0&&(U=[]),le===void 0&&(le=!1),z.applyStyles(z.userStyles),G.settings.showFoot==="everyPage"&&!le&&G.foot.forEach(function($){return K(z,G,$,H,U)}),G.callEndPageHooks(z,H);var k=G.settings.margin;(0,h.addTableBorder)(z,G,te,H),me(z),G.pageNumber++,G.pageCount++,H.x=k.left,H.y=k.top,te.y=k.top,G.callWillDrawPageHooks(z,H),G.settings.showHead==="everyPage"&&(G.head.forEach(function($){return K(z,G,$,H,U)}),z.applyStyles(z.userStyles))}u.addPage=Z;function me(z){var G=z.pageNumber();z.setPage(G+1);var te=z.pageNumber();return te===G?(z.addPage(),!0):!1}},224:function(c,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.calculateAllColumnsCanFitInPage=void 0;var h=f(420);function g(b,A,C){var P;C===void 0&&(C={});var M=(0,h.getPageAvailableWidth)(b,A),L=new Map,N=[],R=[],F=[];A.settings.horizontalPageBreakRepeat,Array.isArray(A.settings.horizontalPageBreakRepeat)?F=A.settings.horizontalPageBreakRepeat:(typeof A.settings.horizontalPageBreakRepeat=="string"||typeof A.settings.horizontalPageBreakRepeat=="number")&&(F=[A.settings.horizontalPageBreakRepeat]),F.forEach(function(X){var K=A.columns.find(function(O){return O.dataKey===X||O.index===X});K&&!L.has(K.index)&&(L.set(K.index,!0),N.push(K.index),R.push(A.columns[K.index]),M-=K.wrappedWidth)});for(var Y=!0,B=(P=C==null?void 0:C.start)!==null&&P!==void 0?P:0;B<A.columns.length;){if(L.has(B)){B++;continue}var V=A.columns[B].wrappedWidth;if(Y||M>=V)Y=!1,N.push(B),R.push(A.columns[B]),M-=V;else break;B++}return{colIndexes:N,columns:R,lastIndex:B-1}}function x(b,A){for(var C=[],P=0;P<A.columns.length;P++){var M=g(b,A,{start:P});M.columns.length&&(C.push(M),P=M.lastIndex)}return C}u.calculateAllColumnsCanFitInPage=x},324:function(c,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.ellipsize=u.resizeColumns=u.calculateWidths=void 0;var h=f(420);function g(N,R){x(N,R);var F=[],Y=0;R.columns.forEach(function(V){var X=V.getMaxCustomCellWidth(R);X?V.width=X:(V.width=V.wrappedWidth,F.push(V)),Y+=V.width});var B=R.getWidth(N.pageSize().width)-Y;B&&(B=b(F,B,function(V){return Math.max(V.minReadableWidth,V.minWidth)})),B&&(B=b(F,B,function(V){return V.minWidth})),B=Math.abs(B),!R.settings.horizontalPageBreak&&B>.1/N.scaleFactor()&&(B=B<1?B:Math.round(B),console.warn("Of the table content, ".concat(B," units width could not fit page"))),C(R),P(R,N),A(R)}u.calculateWidths=g;function x(N,R){var F=N.scaleFactor(),Y=R.settings.horizontalPageBreak,B=(0,h.getPageAvailableWidth)(N,R);R.allRows().forEach(function(V){for(var X=0,K=R.columns;X<K.length;X++){var O=K[X],j=V.cells[O.index];if(j){var Q=R.hooks.didParseCell;R.callCellHooks(N,Q,j,V,O,null);var Z=j.padding("horizontal");j.contentWidth=(0,h.getStringWidth)(j.text,j.styles,N)+Z;var me=(0,h.getStringWidth)(j.text.join(" ").split(/[^\S\u00A0]+/),j.styles,N);if(j.minReadableWidth=me+j.padding("horizontal"),typeof j.styles.cellWidth=="number")j.minWidth=j.styles.cellWidth,j.wrappedWidth=j.styles.cellWidth;else if(j.styles.cellWidth==="wrap"||Y===!0)j.contentWidth>B?(j.minWidth=B,j.wrappedWidth=B):(j.minWidth=j.contentWidth,j.wrappedWidth=j.contentWidth);else{var z=10/F;j.minWidth=j.styles.minCellWidth||z,j.wrappedWidth=j.contentWidth,j.minWidth>j.wrappedWidth&&(j.wrappedWidth=j.minWidth)}}}}),R.allRows().forEach(function(V){for(var X=0,K=R.columns;X<K.length;X++){var O=K[X],j=V.cells[O.index];if(j&&j.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,j.wrappedWidth),O.minWidth=Math.max(O.minWidth,j.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,j.minReadableWidth);else{var Q=R.styles.columnStyles[O.dataKey]||R.styles.columnStyles[O.index]||{},Z=Q.cellWidth||Q.minCellWidth;Z&&typeof Z=="number"&&(O.minWidth=Z,O.wrappedWidth=Z)}j&&(j.colSpan>1&&!O.minWidth&&(O.minWidth=j.minWidth),j.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=j.minWidth))}})}function b(N,R,F){for(var Y=R,B=N.reduce(function(z,G){return z+G.wrappedWidth},0),V=0;V<N.length;V++){var X=N[V],K=X.wrappedWidth/B,O=Y*K,j=X.width+O,Q=F(X),Z=j<Q?Q:j;R-=Z-X.width,X.width=Z}if(R=Math.round(R*1e10)/1e10,R){var me=N.filter(function(z){return R<0?z.width>F(z):!0});me.length&&(R=b(me,R,F))}return R}u.resizeColumns=b;function A(N){for(var R={},F=1,Y=N.allRows(),B=0;B<Y.length;B++)for(var V=Y[B],X=0,K=N.columns;X<K.length;X++){var O=K[X],j=R[O.index];if(F>1)F--,delete V.cells[O.index];else if(j)j.cell.height+=V.height,F=j.cell.colSpan,delete V.cells[O.index],j.left--,j.left<=1&&delete R[O.index];else{var Q=V.cells[O.index];if(!Q)continue;if(Q.height=V.height,Q.rowSpan>1){var Z=Y.length-B,me=Q.rowSpan>Z?Z:Q.rowSpan;R[O.index]={cell:Q,left:me,row:V}}}}}function C(N){for(var R=N.allRows(),F=0;F<R.length;F++)for(var Y=R[F],B=null,V=0,X=0,K=0;K<N.columns.length;K++){var O=N.columns[K];if(X-=1,X>1&&N.columns[K+1])V+=O.width,delete Y.cells[O.index];else if(B){var j=B;delete Y.cells[O.index],B=null,j.width=O.width+V}else{var j=Y.cells[O.index];if(!j)continue;if(X=j.colSpan,V=0,j.colSpan>1){B=j,V+=O.width;continue}j.width=O.width+V}}}function P(N,R){for(var F={count:0,height:0},Y=0,B=N.allRows();Y<B.length;Y++){for(var V=B[Y],X=0,K=N.columns;X<K.length;X++){var O=K[X],j=V.cells[O.index];if(j){R.applyStyles(j.styles,!0);var Q=j.width-j.padding("horizontal");if(j.styles.overflow==="linebreak")j.text=R.splitTextToSize(j.text,Q+1/R.scaleFactor(),{fontSize:j.styles.fontSize});else if(j.styles.overflow==="ellipsize")j.text=M(j.text,Q,j.styles,R,"...");else if(j.styles.overflow==="hidden")j.text=M(j.text,Q,j.styles,R,"");else if(typeof j.styles.overflow=="function"){var Z=j.styles.overflow(j.text,Q);typeof Z=="string"?j.text=[Z]:j.text=Z}j.contentHeight=j.getContentHeight(R.scaleFactor(),R.getLineHeightFactor());var me=j.contentHeight/j.rowSpan;j.rowSpan>1&&F.count*F.height<me*j.rowSpan?F={height:me,count:j.rowSpan}:F&&F.count>0&&F.height>me&&(me=F.height),me>V.height&&(V.height=me)}}F.count--}}function M(N,R,F,Y,B){return N.map(function(V){return L(V,R,F,Y,B)})}u.ellipsize=M;function L(N,R,F,Y,B){var V=1e4*Y.scaleFactor();if(R=Math.ceil(R*V)/V,R>=(0,h.getStringWidth)(N,F,Y))return N;for(;R<(0,h.getStringWidth)(N+B,F,Y)&&!(N.length<=1);)N=N.substring(0,N.length-1);return N.trim()+B}},964:function(c){if(typeof n>"u"){var u=new Error("Cannot find module 'undefined'");throw u.code="MODULE_NOT_FOUND",u}c.exports=n}},r={};function a(c){var u=r[c];if(u!==void 0)return u.exports;var f=r[c]={exports:{}};return i[c].call(f.exports,f,f.exports,a),f.exports}var o={};return function(){var c=o;Object.defineProperty(c,"__esModule",{value:!0}),c.Cell=c.Column=c.Row=c.Table=c.CellHookData=c.__drawTable=c.__createTable=c.applyPlugin=void 0;var u=a(340),f=a(776),h=a(664),g=a(972),x=a(260);Object.defineProperty(c,"Table",{enumerable:!0,get:function(){return x.Table}});var b=a(172);Object.defineProperty(c,"CellHookData",{enumerable:!0,get:function(){return b.CellHookData}});var A=a(260);Object.defineProperty(c,"Cell",{enumerable:!0,get:function(){return A.Cell}}),Object.defineProperty(c,"Column",{enumerable:!0,get:function(){return A.Column}}),Object.defineProperty(c,"Row",{enumerable:!0,get:function(){return A.Row}});function C(R){(0,u.default)(R)}c.applyPlugin=C;function P(R,F){var Y=(0,f.parseInput)(R,F),B=(0,g.createTable)(R,Y);(0,h.drawTable)(R,B)}function M(R,F){var Y=(0,f.parseInput)(R,F);return(0,g.createTable)(R,Y)}c.__createTable=M;function L(R,F){(0,h.drawTable)(R,F)}c.__drawTable=L;try{var N=a(964);N.jsPDF&&(N=N.jsPDF),C(N)}catch{}c.default=P}(),o}()})}(Tm)),Tm.exports}var AO=CO();const Uh=Wm(AO),X0={id:"",name:"",description:"",pricingModel:ci.PER_UNIT,basePrice:0,unit:"un",categoryId:""},TO=()=>{const{products:t,loading:e,createProduct:n,updateProduct:i,deleteProduct:r}=Cy(),{categories:a,loading:o}=fS(),{company:c}=Vf(),[u,f]=pe.useState(!1),[h,g]=pe.useState(X0),[x,b]=pe.useState(!1),[A,C]=pe.useState(!1),[P,M]=pe.useState(!1),[L,N]=pe.useState(""),[R,F]=pe.useState(""),[Y,B]=pe.useState(new Set),[V,X]=pe.useState(!1),[K,O]=pe.useState("both"),j=pe.useRef(null);Of.useEffect(()=>{const ge=oe=>{j.current&&!j.current.contains(oe.target)&&X(!1)};return document.addEventListener("mousedown",ge),()=>{document.removeEventListener("mousedown",ge)}},[]);const Q=ge=>{const{name:oe,value:Ue}=ge.target;g(ot=>({...ot,[oe]:oe==="basePrice"||oe==="customCashPrice"||oe==="customCardPrice"?parseFloat(Ue)||0:Ue}))},Z=ge=>{const oe=ge.target.value;g(Ue=>({...Ue,pricingModel:oe,unit:oe===ci.PER_SQUARE_METER?"m²":Ue.unit==="m²"?"un":Ue.unit||"un"}))},me=()=>{g(X0),b(!1),f(!0)},z=ge=>{g(ge),b(!0),f(!0)},G=()=>{f(!1),g(X0)},te=async ge=>{ge.preventDefault(),C(!0);try{const oe={...h,categoryId:h.categoryId===""?void 0:h.categoryId};x?await i(oe):await n(oe),G()}catch(oe){console.error("Erro ao salvar produto:",oe),alert("Erro ao salvar produto. Tente novamente.")}C(!1)},H=async ge=>{if(window.confirm("Tem certeza que deseja excluir este produto?"))try{await r(ge),B(oe=>{const Ue=new Set(oe);return Ue.delete(ge),Ue})}catch(oe){console.error("Erro ao excluir produto:",oe),alert("Erro ao excluir produto. Tente novamente.")}},U=async()=>{if(!h.name||!h.pricingModel){alert("Por favor, insira o nome e o tipo do produto primeiro.");return}M(!0);try{const ge=await SF(h.name,h.pricingModel);g(oe=>({...oe,description:ge}))}catch(ge){console.error("Failed to generate description:",ge),alert("Falha ao gerar descrição. Verifique o console para mais detalhes.")}finally{M(!1)}},le=ge=>ge*(1+ru/100),k=ge=>{const oe=ge.customCashPrice??ge.basePrice,Ue=ge.customCardPrice??le(oe);return{cashPrice:oe,cardPrice:Ue}},$=[{value:ci.PER_UNIT,label:"Por Unidade/Pacote"},{value:ci.PER_SQUARE_METER,label:"Por Metro Quadrado (m²)"}],ie=h.pricingModel===ci.PER_SQUARE_METER?"m²":h.unit||"unidade de venda",ue=[{value:"",label:"Nenhuma categoria"},...a.map(ge=>({value:ge.id,label:ge.name}))],fe=[{value:"",label:"Todas as Categorias"},...a.map(ge=>({value:ge.id,label:ge.name}))],we=ge=>{if(!ge)return"-";const oe=a.find(Ue=>Ue.id===ge);return oe?oe.name:"-"},ce=t.filter(ge=>{const oe=ge.name.toLowerCase().includes(L.toLowerCase()),Ue=R?ge.categoryId===R:!0;return oe&&Ue}),ve=()=>{const ge=we(R);return L&&R?`Nenhum produto encontrado com o termo "${L}" na categoria "${ge}".`:L?`Nenhum produto encontrado com o termo "${L}".`:R?`Nenhum produto encontrado na categoria "${ge}".`:"Nenhum produto cadastrado."},_e=ge=>{B(oe=>{const Ue=new Set(oe);return Ue.has(ge)?Ue.delete(ge):Ue.add(ge),Ue})},Te=()=>{const ge=new Set(ce.map(Ue=>Ue.id));new Set(Array.from(Y).filter(Ue=>ge.has(Ue))).size===ce.length&&ce.length>0?B(Ue=>{const ot=new Set(Ue);return ge.forEach(qe=>ot.delete(qe)),ot}):B(Ue=>new Set([...Array.from(Ue),...Array.from(ge)]))},Oe=ce.length>0&&ce.every(ge=>Y.has(ge.id)),je=(ge,oe)=>{var Rt;const Ue=new _t,ot=Ue.internal.pageSize.height||Ue.internal.pageSize.getHeight(),qe=Ue.internal.pageSize.width||Ue.internal.pageSize.getWidth(),Xe=10;let Qe=15;const Ze=4.5;if(c){let dt=Xe,yt=0;const kt=c.logoUrlLightBg;if(kt&&kt.startsWith("data:image"))try{const Kn=(Rt=kt.substring(kt.indexOf(":")+1,kt.indexOf(";")).split("/")[1])==null?void 0:Rt.toUpperCase();Kn&&(Kn==="PNG"||Kn==="JPEG"||Kn==="JPG")?(Ue.addImage(kt,Kn,Xe,Qe,35,20),dt=Xe+35+5,yt=20):console.warn(`Formato de logo (PDF) não suportado: ${Kn}. Apenas PNG, JPEG/JPG são bem suportados. Logo não adicionado.`)}catch(zt){console.error("Error adding logo to PDF:",zt)}let nt=Qe;if(Ue.setFontSize(12),Ue.setFont("helvetica","bold"),Ue.setTextColor(0,0,0),Ue.text(c.name,dt,nt),nt+=Ze+1.5,Ue.setFontSize(9),Ue.setFont("helvetica","normal"),c.address){const zt=Ue.splitTextToSize(c.address,qe-dt-Xe);Ue.text(zt,dt,nt),nt+=zt.length*Ze}let Ut="";c.phone&&(Ut+=`Tel: ${c.phone}`),c.email&&(Ut+=`${c.phone?" | ":""}Email: ${c.email}`),Ut&&(Ue.text(Ut,dt,nt),nt+=Ze),c.cnpj&&(Ue.text(`CNPJ: ${c.cnpj}`,dt,nt),nt+=Ze);let rt="";c.website&&(rt+=`Site: ${c.website}`),c.instagram&&(rt+=`${c.website?" | ":""}Instagram: ${c.instagram}`),rt&&(Ue.text(rt,dt,nt),nt+=Ze),Qe=Math.max(nt,Qe+yt)+8}else Qe=Xe+5;Ue.setFontSize(14),Ue.setFont("helvetica","bold"),Ue.setTextColor(0,0,0),Ue.text("Tabela de Preços de Produtos",qe/2,Qe,{align:"center"}),Qe+=7,Ue.setFontSize(9),Ue.setFont("helvetica","normal"),Ue.setTextColor(50,50,50),Ue.text(`Gerado em: ${new Date().toLocaleDateString("pt-BR")}`,qe-Xe,Qe,{align:"right"}),Qe+=10;const ft=[[]];ft[0].push("Produto"),ft[0].push("Unidade"),(oe==="cash"||oe==="both")&&ft[0].push("Preço à Vista (R$)"),(oe==="card"||oe==="both")&&ft[0].push("Preço Cartão (R$)");const Ct=ge.map(dt=>{const{cashPrice:yt,cardPrice:kt}=k(dt),nt=[];return nt.push(dt.name),nt.push(dt.pricingModel===ci.PER_SQUARE_METER?"m²":dt.unit||"un"),(oe==="cash"||oe==="both")&&nt.push(ct(yt)),(oe==="card"||oe==="both")&&nt.push(ct(kt)),nt});Uh(Ue,{startY:Qe,head:ft,body:Ct,theme:"striped",headStyles:{fillColor:[40,40,40],textColor:[255,255,255],fontStyle:"bold"},bodyStyles:{textColor:[0,0,0],cellPadding:1.5,fontSize:8},alternateRowStyles:{fillColor:[240,240,240]},margin:{left:Xe,right:Xe},tableWidth:"auto",styles:{cellWidth:"wrap",font:"helvetica",fontSize:8},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:30},2:{cellWidth:40,halign:"right"},3:{cellWidth:40,halign:"right"}},didDrawPage:dt=>{Ue.setFontSize(8),Ue.setTextColor(100,100,100),Ue.text(`Página ${dt.pageNumber}`,dt.settings.margin.left,ot-Xe/2)}}),Ue.save(`Tabela_Produtos_${new Date().toISOString().slice(0,10)}.pdf`),X(!1)},Ke=ge=>{let oe=[];if(ge==="selected"){if(Y.size===0){alert("Nenhum produto selecionado para exportar.");return}oe=t.filter(Ue=>Y.has(Ue.id))}else{if(ce.length===0){alert("Nenhum produto na lista atual para exportar.");return}oe=ce}if(oe.length===0){alert("Nenhum produto para exportar.");return}je(oe,K)};return e||o?w.jsxs("div",{className:"p-6 text-white flex items-center justify-center",children:[w.jsx(oo,{size:"lg"}),w.jsx("span",{className:"ml-3",children:"Carregando produtos..."})]}):w.jsxs("div",{className:"p-6 text-white",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[w.jsxs("div",{className:"flex items-center w-full md:w-auto",children:[w.jsx(fh,{className:"h-8 w-8 text-yellow-500 mr-3 hidden sm:block"}),w.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Gerenciamento de Produtos"})]}),w.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full md:w-auto",children:[w.jsx(bt,{id:"productSearch",type:"text",placeholder:"Pesquisar por nome...",value:L,onChange:ge=>N(ge.target.value),className:"w-full sm:w-40"}),w.jsx(Yi,{id:"categoryFilter",options:fe,value:R,onChange:ge=>F(ge.target.value),className:"w-full sm:w-40"}),w.jsxs("div",{className:"relative",ref:j,children:[w.jsxs(lt,{onClick:()=>X(!V),variant:"secondary",size:"sm",iconRight:w.jsx(c_,{className:"w-4 h-4"}),className:"w-full sm:w-auto",title:"Exportar para PDF",children:[w.jsx(ro,{className:"w-4 h-4"}),w.jsx("span",{className:"hidden sm:inline ml-2",children:"Exportar para PDF"})]}),V&&w.jsxs("div",{className:"absolute right-0 mt-2 w-64 sm:w-72 bg-black border border-[#282828] rounded-md shadow-lg z-20 p-4 space-y-3",children:[w.jsx(Yi,{label:"Incluir Preços:",options:[{value:"both",label:"Ambos (À Vista e Cartão)"},{value:"cash",label:"Apenas Preço à Vista"},{value:"card",label:"Apenas Preço Cartão"}],value:K,onChange:ge=>O(ge.target.value)}),w.jsxs(lt,{onClick:()=>Ke("selected"),variant:"primary",className:"w-full",disabled:Y.size===0,children:["Exportar ",Y.size," Selecionado(s)"]}),w.jsxs(lt,{onClick:()=>Ke("all_filtered"),variant:"outline",className:"w-full",children:["Exportar Lista Atual (",ce.length,")"]})]})]}),w.jsxs(lt,{onClick:me,variant:"primary",size:"sm",className:"w-full sm:w-auto",title:"Adicionar Produto",children:[w.jsx(ua,{className:"w-4 h-4"}),w.jsx("span",{className:"hidden sm:inline ml-2",children:"Adicionar Produto"})]})]})]}),t.length===0?w.jsxs("div",{className:"text-center py-10 bg-[#1d1d1d] shadow-xl rounded-lg",children:[w.jsx(fh,{className:"mx-auto h-12 w-12 text-gray-500"}),w.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"Nenhum produto cadastrado"}),w.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Comece adicionando um novo produto."}),w.jsx("div",{className:"mt-6",children:w.jsx(lt,{onClick:me,variant:"primary",iconLeft:w.jsx(ua,{className:"w-4 h-4"}),children:"Adicionar Produto"})})]}):ce.length===0?w.jsxs("div",{className:"text-center py-10 bg-[#1d1d1d] shadow-xl rounded-lg",children:[w.jsx(fh,{className:"mx-auto h-12 w-12 text-gray-500"}),w.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"Nenhum produto encontrado"}),w.jsxs("p",{className:"mt-1 text-sm text-gray-400",children:[ve()," Limpe a busca/filtro ou tente um termo diferente."]})]}):w.jsx("div",{className:"bg-[#1d1d1d] shadow-xl rounded-lg overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-[#282828]",children:[w.jsx("thead",{className:"bg-[#282828]",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:w.jsx(bt,{type:"checkbox",className:"form-checkbox h-4 w-4 text-yellow-500 bg-[#282828] border-gray-600 rounded focus:ring-yellow-400",checked:Oe,onChange:Te,"aria-label":"Selecionar todos os produtos visíveis",title:Oe?"Desmarcar todos os visíveis":"Marcar todos os visíveis"})}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Nome"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Categoria"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Modelo Preço"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Preço Base (À Vista)"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Preço Cartão (Calc.)"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Ações"})]})}),w.jsx("tbody",{className:"bg-[#1F1F1F] divide-y divide-[#282828]",children:ce.map(ge=>{const{cashPrice:oe,cardPrice:Ue}=k(ge);return w.jsxs("tr",{className:`hover:bg-[#2A2A2A] ${Y.has(ge.id)?"bg-[#282828]":""}`,children:[w.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:w.jsx(bt,{type:"checkbox",className:"form-checkbox h-4 w-4 text-yellow-500 bg-[#282828] border-gray-600 rounded focus:ring-yellow-400",checked:Y.has(ge.id),onChange:()=>_e(ge.id),"aria-label":`Selecionar produto ${ge.name}`})}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[w.jsx("div",{className:"text-sm font-medium text-white",children:ge.name}),w.jsx("div",{className:"text-xs text-gray-400 truncate max-w-xs",children:ge.description})]}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:we(ge.categoryId)}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:ge.pricingModel===ci.PER_UNIT?`Por Unidade/Pacote (${ge.unit||"un"})`:"Por m²"}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-200",children:["R$ ",oe.toFixed(2)," ",ge.pricingModel===ci.PER_SQUARE_METER?"/m²":`/ ${ge.unit||"un"}`,ge.customCashPrice&&w.jsx("span",{className:"text-xs text-yellow-400 ml-1",children:"(Manual)"})]}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-200",children:["R$ ",Ue.toFixed(2)," ",ge.pricingModel===ci.PER_SQUARE_METER?"/m²":`/ ${ge.unit||"un"}`,ge.customCardPrice&&w.jsx("span",{className:"text-xs text-yellow-400 ml-1",children:"(Manual)"})]}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsxs(lt,{onClick:()=>z(ge),variant:"secondary",size:"sm",title:"Editar",children:[w.jsx(oc,{className:"w-4 h-4"}),w.jsx("span",{className:"hidden md:inline ml-2",children:"Editar"})]}),w.jsxs(lt,{onClick:()=>H(ge.id),variant:"danger",size:"sm",title:"Excluir",children:[w.jsx(so,{className:"w-4 h-4"}),w.jsx("span",{className:"hidden md:inline ml-2",children:"Excluir"})]})]})})]},ge.id)})})]})}),u&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-black p-6 md:p-8 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto text-white border border-[#282828]",children:[w.jsx("h3",{className:"text-xl font-semibold mb-6 text-white",children:x?"Editar Produto":"Adicionar Novo Produto"}),w.jsxs("form",{onSubmit:te,className:"space-y-4",children:[w.jsx(bt,{label:"Nome do Produto",name:"name",value:h.name,onChange:Q,placeholder:h.pricingModel===ci.PER_UNIT?"Ex: Cartão de Visita Pacote 500un":"Ex: Lona Fosca",required:!0}),w.jsxs("div",{className:"relative",children:[w.jsx(ao,{label:"Descrição",name:"description",value:h.description,onChange:Q,rows:3}),w.jsx(lt,{type:"button",onClick:U,isLoading:P,disabled:P,variant:"secondary",size:"xs",className:"absolute bottom-3 right-3",iconLeft:w.jsx(mM,{className:"w-4 h-4"}),children:P?"Gerando...":"Sugerir (IA)"})]}),w.jsx(Yi,{label:"Categoria",name:"categoryId",value:h.categoryId||"",onChange:Q,options:ue,placeholder:"Selecione uma categoria"}),w.jsx(Yi,{label:"Modelo de Precificação",name:"pricingModel",value:h.pricingModel,onChange:Z,options:$,required:!0}),w.jsx(bt,{label:h.pricingModel===ci.PER_SQUARE_METER?"Unidade de Medida (m²)":"Unidade de Venda",name:"unit",value:h.unit,onChange:Q,placeholder:h.pricingModel===ci.PER_SQUARE_METER?"m²":"ex: pacote c/ 500, unidade, pç",disabled:h.pricingModel===ci.PER_SQUARE_METER&&h.unit==="m²"}),w.jsx(bt,{label:`Preço Base (para cálculo à vista, por ${ie})`,name:"basePrice",type:"number",step:"0.01",value:h.basePrice,onChange:Q,required:!0}),w.jsxs("div",{className:"p-3 bg-[#1d1d1d] rounded-md mt-2",children:[w.jsxs("p",{className:"text-sm font-medium text-gray-200",children:["Preços Calculados (por $",ie,"):"]}),w.jsxs("p",{className:"text-xs text-gray-300",children:["À Vista (Base): R$ ",h.basePrice.toFixed(2)]}),w.jsxs("p",{className:"text-xs text-gray-300",children:["Cartão (Base + ",ru,"%): R$ ",le(h.basePrice).toFixed(2)]})]}),w.jsx(bt,{label:`Preço Manual à Vista (Opcional, por ${ie})`,name:"customCashPrice",type:"number",step:"0.01",value:h.customCashPrice??"",onChange:Q,placeholder:"Deixe em branco para usar o preço base"}),w.jsx(bt,{label:`Preço Manual Cartão (Opcional, por ${ie})`,name:"customCardPrice",type:"number",step:"0.01",value:h.customCardPrice??"",onChange:Q,placeholder:"Deixe em branco para usar o cálculo automático"}),w.jsxs("div",{className:"flex flex-wrap justify-end gap-3 pt-4",children:[w.jsx(lt,{type:"button",variant:"secondary",onClick:G,children:"Cancelar"}),w.jsx(lt,{type:"submit",variant:"primary",isLoading:A,children:A?"Salvando...":x?"Salvar Alterações":"Adicionar Produto"})]})]})]})})]})},Q0={id:"",name:""},NO=()=>{const{categories:t,loading:e,createCategory:n,updateCategory:i,deleteCategory:r}=fS(),[a,o]=pe.useState(!1),[c,u]=pe.useState(Q0),[f,h]=pe.useState(!1),[g,x]=pe.useState(!1),b=N=>{const{name:R,value:F}=N.target;u(Y=>({...Y,[R]:F}))},A=()=>{u(Q0),h(!1),o(!0)},C=N=>{u(N),h(!0),o(!0)},P=()=>{o(!1),u(Q0)},M=async N=>{if(N.preventDefault(),!c.name.trim()){alert("O nome da categoria não pode ser vazio.");return}x(!0);try{f?await i(c):await n(c),P()}catch(R){console.error("Erro ao salvar categoria:",R),alert("Erro ao salvar categoria. Tente novamente.")}x(!1)},L=async N=>{if(window.confirm("Tem certeza que deseja excluir esta categoria? Os produtos associados não serão removidos, mas perderão esta categorização."))try{await r(N)}catch(R){console.error("Erro ao excluir categoria:",R),alert("Erro ao excluir categoria. Tente novamente.")}};return e?w.jsxs("div",{className:"p-6 text-white flex items-center justify-center",children:[w.jsx(oo,{size:"lg"}),w.jsx("span",{className:"ml-3",children:"Carregando categorias..."})]}):w.jsxs("div",{className:"p-6 text-white",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx(u1,{className:"h-8 w-8 text-yellow-500 mr-3"}),w.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Gerenciamento de Categorias de Produtos"})]}),w.jsx(lt,{onClick:A,variant:"primary",iconLeft:w.jsx(ua,{className:"w-5 h-5"}),children:"Adicionar Categoria"})]}),t.length===0?w.jsxs("div",{className:"text-center py-10 bg-[#1d1d1d] shadow-xl rounded-lg",children:[w.jsx(u1,{className:"mx-auto h-12 w-12 text-gray-500"}),w.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"Nenhuma categoria cadastrada"}),w.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Comece adicionando uma nova categoria para organizar seus produtos."}),w.jsx("div",{className:"mt-6",children:w.jsx(lt,{onClick:A,variant:"primary",iconLeft:w.jsx(ua,{className:"w-4 h-4"}),children:"Adicionar Categoria"})})]}):w.jsx("div",{className:"bg-[#1F1F1F] shadow-xl rounded-lg overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-[#282828]",children:[w.jsx("thead",{className:"bg-[#1F1F1F]",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Nome da Categoria"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Ações"})]})}),w.jsx("tbody",{className:"bg-[#1F1F1F] divide-y divide-[#1F1F1F]",children:t.map(N=>w.jsxs("tr",{className:"hover:bg-[#2A2A2A]",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:N.name}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx(lt,{onClick:()=>C(N),variant:"secondary",size:"sm",iconLeft:w.jsx(oc,{className:"w-4 h-4"}),children:"Editar"}),w.jsx(lt,{onClick:()=>L(N.id),variant:"danger",size:"sm",iconLeft:w.jsx(so,{className:"w-4 h-4"}),children:"Excluir"})]})})]},N.id))})]})}),a&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-[#282828] p-6 md:p-8 rounded-lg shadow-xl w-full max-w-lg text-gray-300",children:[w.jsx("h3",{className:"text-xl font-semibold mb-6 text-white",children:f?"Editar Categoria":"Adicionar Nova Categoria"}),w.jsxs("form",{onSubmit:M,className:"space-y-4",children:[w.jsx(bt,{label:"Nome da Categoria",name:"name",value:c.name,onChange:b,required:!0}),w.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[w.jsx(lt,{type:"button",variant:"secondary",onClick:P,children:"Cancelar"}),w.jsx(lt,{type:"submit",variant:"primary",isLoading:g,children:g?"Salvando...":f?"Salvar Alterações":"Adicionar Categoria"})]})]})]})})]})},_w=({currentUser:t})=>{var te;const e=Bf(),{quoteId:n}=aC(),i=!!n,{products:r,loading:a}=Cy(),{customers:o,loading:c}=dS(),{company:u,loading:f}=Vf(),{quotes:h,createQuote:g,updateQuote:x}=Oh(),[b,A]=pe.useState(!1),[C,P]=pe.useState({quoteNumber:"",customerId:"",clientName:"",clientContact:"",items:[],subtotal:0,discountType:"none",discountValue:0,discountAmountCalculated:0,subtotalAfterDiscount:0,totalCash:0,totalCard:0,downPaymentApplied:0,selectedPaymentMethod:"",paymentDate:mu(new Date),deliveryDeadline:mu(new Date(Date.now()+9*24*60*60*1e3)),status:"draft",notes:"",salespersonUsername:t.username,salespersonFullName:t.fullName||t.username}),[M,L]=pe.useState({productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0,pricingModel:ci.PER_UNIT,width:void 0,height:void 0,itemCountForAreaCalc:void 0}),[N,R]=pe.useState(null),[F,Y]=pe.useState(!1);pe.useEffect(()=>{if(i&&n&&h.length>0){const H=h.find(U=>U.id===n);if(H&&(P(H),H.customerId)){const U=o.find(le=>le.id===H.customerId);R(U||null)}}},[i,n,h,o]),pe.useEffect(()=>{if(!i&&!C.quoteNumber){const H=new Date,U=H.getFullYear(),le=(H.getMonth()+1).toString().padStart(2,"0"),k=H.getDate().toString().padStart(2,"0"),$=H.getHours().toString().padStart(2,"0")+H.getMinutes().toString().padStart(2,"0"),ie=`ORC-${U}${le}${k}-${$}`;P(ue=>({...ue,quoteNumber:ie}))}},[i,C.quoteNumber]);const B=H=>{const U=o.find(le=>le.id===H);R(U||null),P(le=>({...le,customerId:H||void 0,clientName:(U==null?void 0:U.name)||"",clientContact:(U==null?void 0:U.phone)||""}))},V=()=>{if(!M.productId||!M.quantity||M.quantity<=0){alert("Por favor, selecione um produto e informe uma quantidade válida.");return}const H=r.find(ue=>ue.id===M.productId);if(!H)return;let U=M.quantity,le=0;if(H.pricingModel===ci.PER_SQUARE_METER){if(!M.width||!M.height||!M.itemCountForAreaCalc){alert("Para produtos por m², informe largura, altura e quantidade de peças.");return}U=M.width*M.height*M.itemCountForAreaCalc}const k=H.customCashPrice??H.basePrice,$=H.customCardPrice??k*(1+ru/100);le=F?$:k;const ie={productId:H.id,productName:H.name,quantity:U,unitPrice:le,totalPrice:U*le,pricingModel:H.pricingModel,width:M.width,height:M.height,itemCountForAreaCalc:M.itemCountForAreaCalc};P(ue=>({...ue,items:[...ue.items||[],ie]})),L({productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0,pricingModel:ci.PER_UNIT,width:void 0,height:void 0,itemCountForAreaCalc:void 0})},X=H=>{P(U=>{var le;return{...U,items:((le=U.items)==null?void 0:le.filter((k,$)=>$!==H))||[]}})},K=H=>{const U=r.find(le=>le.id===H);if(U){const le=U.customCashPrice??U.basePrice,k=U.customCardPrice??le*(1+ru/100);L($=>({...$,productId:U.id,productName:U.name,unitPrice:F?k:le,pricingModel:U.pricingModel}))}},O=pe.useMemo(()=>{const U=(C.items||[]).reduce((ue,fe)=>ue+fe.totalPrice,0);let le=0;C.discountType==="percentage"?le=U*((C.discountValue||0)/100):C.discountType==="fixed"&&(le=C.discountValue||0);const k=U-le,$=k,ie=k*(1+ru/100);return{subtotal:U,discountAmount:le,subtotalAfterDiscount:k,totalCash:$,totalCard:ie}},[C.items,C.discountType,C.discountValue]);pe.useEffect(()=>{P(H=>({...H,subtotal:O.subtotal,discountAmountCalculated:O.discountAmount,subtotalAfterDiscount:O.subtotalAfterDiscount,totalCash:O.totalCash,totalCard:O.totalCard}))},[O]);const j=async()=>{var H,U;if(!((H=C.clientName)!=null&&H.trim())){alert("Por favor, informe o nome do cliente.");return}if(!((U=C.items)!=null&&U.length)){alert("Por favor, adicione pelo menos um item ao orçamento.");return}if(!u){alert("Informações da empresa não encontradas. Configure a empresa primeiro.");return}A(!0);try{const le={quoteNumber:C.quoteNumber,customerId:C.customerId,clientName:C.clientName,clientContact:C.clientContact||"",items:C.items,subtotal:C.subtotal,discountType:C.discountType,discountValue:C.discountValue,discountAmountCalculated:C.discountAmountCalculated,subtotalAfterDiscount:C.subtotalAfterDiscount,totalCash:C.totalCash,totalCard:C.totalCard,downPaymentApplied:C.downPaymentApplied||0,selectedPaymentMethod:C.selectedPaymentMethod,paymentDate:C.paymentDate,deliveryDeadline:C.deliveryDeadline,status:C.status,companyInfoSnapshot:u,notes:C.notes||"",salespersonUsername:t.username,salespersonFullName:t.fullName||t.username,paymentDate:C.paymentDate||null,deliveryDeadline:C.deliveryDeadline||null,createdAt:new Date().toISOString()};i&&n?(await x({...le,id:n}),alert("Orçamento atualizado com sucesso!")):(await g(le),alert("Orçamento criado com sucesso!")),e("/")}catch(le){console.error("Erro ao salvar orçamento:",le),alert("Erro ao salvar orçamento. Tente novamente.")}finally{A(!1)}},Q=async()=>{var Oe,je,Ke;if(!((Oe=C.items)!=null&&Oe.length)){alert("Adicione itens ao orçamento antes de gerar o PDF.");return}if(!u){alert("Informações da empresa não encontradas. Configure a empresa primeiro.");return}if(!i){if(!((je=C.clientName)!=null&&je.trim())){alert("Por favor, informe o nome do cliente antes de gerar o PDF.");return}A(!0);try{const ge={quoteNumber:C.quoteNumber,customerId:C.customerId,clientName:C.clientName,clientContact:C.clientContact||"",items:C.items,subtotal:C.subtotal,discountType:C.discountType,discountValue:C.discountValue,discountAmountCalculated:C.discountAmountCalculated,subtotalAfterDiscount:C.subtotalAfterDiscount,totalCash:C.totalCash,totalCard:C.totalCard,downPaymentApplied:C.downPaymentApplied||0,selectedPaymentMethod:C.selectedPaymentMethod,paymentDate:C.paymentDate||null,deliveryDeadline:C.deliveryDeadline||null,status:C.status||"sent",companyInfoSnapshot:u,notes:C.notes||"",salespersonUsername:t.username,salespersonFullName:t.fullName||t.username,createdAt:new Date().toISOString()},oe=await g(ge);P(Ue=>({...Ue,...oe}))}catch(ge){console.error("Erro ao salvar orçamento:",ge),alert("Erro ao salvar orçamento. Tente novamente."),A(!1);return}finally{A(!1)}}const H=new _t,U=H.internal.pageSize.width,le=10;let k=15;const $=4.5;let ie=le,ue=0;const fe=u.logoUrlLightBg;if(fe&&fe.startsWith("data:image"))try{const oe=(Ke=fe.substring(fe.indexOf(":")+1,fe.indexOf(";")).split("/")[1])==null?void 0:Ke.toUpperCase();oe&&(oe==="PNG"||oe==="JPEG"||oe==="JPG")?(H.addImage(fe,oe,le,k,35,20),ie=le+35+5,ue=20):console.warn(`Formato de logo (PDF) não suportado: ${oe}. Apenas PNG, JPEG/JPG são bem suportados. Logo não adicionado.`)}catch(ge){console.error("Error adding logo to PDF:",ge)}let we=k;if(H.setFontSize(12),H.setFont("helvetica","bold"),H.setTextColor(0,0,0),H.text(u.name,ie,we),we+=$+1.5,H.setFontSize(9),H.setFont("helvetica","normal"),u.address){const ge=H.splitTextToSize(u.address,U-ie-le);H.text(ge,ie,we),we+=ge.length*$}let ce="";u.phone&&(ce+=`Tel: ${u.phone}`),u.email&&(ce+=`${u.phone?" | ":""}Email: ${u.email}`),ce&&(H.text(ce,ie,we),we+=$),u.cnpj&&(H.text(`CNPJ: ${u.cnpj}`,ie,we),we+=$);let ve="";u.website&&(ve+=`Site: ${u.website}`),u.instagram&&(ve+=`${u.website?" | ":""}Instagram: ${u.instagram}`),ve&&(H.text(ve,ie,we),we+=$),k=Math.max(we,k+ue)+8,H.setFontSize(14),H.setFont("helvetica","bold"),H.text("ORÇAMENTO",U-le,k,{align:"right"}),H.setFontSize(10),H.setFont("helvetica","normal"),H.text(`Número: ${C.quoteNumber}`,U-le,k+6,{align:"right"}),H.text(`Data: ${new Date().toLocaleDateString("pt-BR")}`,U-le,k+12,{align:"right"}),k+=25,H.text(`Cliente: ${C.clientName}`,le,k),C.clientContact&&(H.text(`Contato: ${C.clientContact}`,le,k+5),k+=5),C.salespersonFullName&&(H.text(`Vendedor: ${C.salespersonFullName}`,le,k+5),k+=5),k+=15;const Te=C.items.map(ge=>[ge.productName,ge.pricingModel===ci.PER_SQUARE_METER?`${ge.quantity.toFixed(2)} m²`:`${ge.quantity} un`,ct(ge.unitPrice*(1+ru/100)),ct(ge.totalPrice*(1+ru/100))]);if(Uh(H,{startY:k,head:[["Produto/Serviço","Quantidade","Preço Unit.","Total"]],body:Te,theme:"striped",headStyles:{fillColor:[40,40,40]},margin:{left:le,right:le}}),k=H.lastAutoTable.finalY+10,C.discountAmountCalculated>0&&(H.text(`Desconto: ${ct(C.discountAmountCalculated)}`,U-le,k,{align:"right"}),k+=6),H.text(`Subtotal com Desconto: ${ct(C.subtotalAfterDiscount)}`,U-le,k,{align:"right"}),k+=8,H.setFont("helvetica","bold"),H.text(`Total: ${ct(C.totalCard)}`,U-le,k,{align:"right"}),k+=6,H.setFont("helvetica","normal"),H.text(`Total à Vista com Desconto: ${ct(C.totalCash)}`,U-le,k,{align:"right"}),C.selectedPaymentMethod&&(k+=8,H.setFont("helvetica","bold"),H.text(`Forma de Pagamento: ${C.selectedPaymentMethod}`,le,k),C.selectedPaymentMethod.toLowerCase().includes("cartão de crédito")&&C.selectedPaymentMethod.includes("x"))){const ge=C.selectedPaymentMethod.match(/(\d+)x/);if(ge&&ge[1]){const oe=parseInt(ge[1],10);if(oe>1){const Ue=C.totalCard/oe;k+=5,H.setFont("helvetica","normal"),H.text(`(${oe}x de ${ct(Ue)} no cartão)`,le,k)}}}if(C.deliveryDeadline&&(k+=8,H.setFont("helvetica","normal"),H.text(`Prazo de Entrega: ${new Date(C.deliveryDeadline+"T00:00:00").toLocaleDateString("pt-BR")}`,le,k)),C.notes){k+=8,H.setFont("helvetica","italic"),H.text("Observações:",le,k),k+=5;const ge=H.splitTextToSize(C.notes,U-2*le);H.text(ge,le,k)}H.save(`Orcamento-${C.quoteNumber}.pdf`)},Z=async()=>{if(!C.id&&!n){alert("Salve o orçamento primeiro antes de fechá-lo.");return}if(window.confirm("Tem certeza que deseja fechar este orçamento? Esta ação marcará o orçamento como aceito.")){A(!0);try{const H={...C,id:n||C.id,status:"accepted"};await x(H),P(U=>({...U,status:"accepted"})),alert("Orçamento fechado com sucesso!")}catch(H){console.error("Erro ao fechar orçamento:",H),alert("Erro ao fechar orçamento. Tente novamente.")}finally{A(!1)}}};if(a||c||f)return w.jsxs("div",{className:"p-6 text-white flex items-center justify-center",children:[w.jsx(oo,{size:"lg"}),w.jsx("span",{className:"ml-3",children:"Carregando dados..."})]});const me=[{value:"",label:"Selecione um cliente ou digite manualmente"},...o.map(H=>({value:H.id,label:H.name}))],z=[{value:"",label:"Selecione um produto"},...r.map(H=>({value:H.id,label:H.name}))],G=r.find(H=>H.id===M.productId);return w.jsxs("div",{className:"p-6 text-white",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx(ro,{className:"h-8 w-8 text-yellow-500 mr-3"}),w.jsx("h2",{className:"text-2xl font-semibold text-white",children:i?"Editar Orçamento":"Criar Novo Orçamento"}),C.status&&w.jsx("span",{className:`ml-4 px-3 py-1 text-xs rounded-full font-medium ${C.status==="accepted"?"bg-green-600 text-white":C.status==="sent"?"bg-blue-600 text-white":"bg-yellow-600 text-black"}`,children:C.status==="accepted"?"Aceito":C.status==="sent"?"Enviado":"Rascunho"})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx(lt,{onClick:()=>e("/"),variant:"secondary",children:"Cancelar"}),w.jsx(lt,{onClick:Q,variant:"outline",disabled:!((te=C.items)!=null&&te.length),children:i?"Gerar PDF":"Enviar Orçamento (PDF)"}),(i||C.status==="sent")&&C.status!=="accepted"&&w.jsx(lt,{onClick:Z,variant:"success",isLoading:b,iconLeft:w.jsx(p1,{className:"w-5 h-5"}),children:"Fechar Orçamento"}),w.jsxs(lt,{onClick:j,variant:"primary",isLoading:b,iconLeft:w.jsx(p1,{className:"w-5 h-5"}),children:[b?"Salvando...":i?"Atualizar":"Salvar"," Orçamento"]})]})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[w.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[w.jsxs("div",{className:"bg-[#1d1d1d] p-6 rounded-lg shadow-lg",children:[w.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Informações do Orçamento"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsx(bt,{label:"Número do Orçamento",value:C.quoteNumber||"",onChange:H=>P(U=>({...U,quoteNumber:H.target.value})),disabled:i}),w.jsx(Yi,{label:"Cliente",options:me,value:C.customerId||"",onChange:H=>B(H.target.value)}),w.jsx(bt,{label:"Nome do Cliente",value:C.clientName||"",onChange:H=>P(U=>({...U,clientName:H.target.value})),required:!0}),w.jsx(bt,{label:"Contato do Cliente",value:C.clientContact||"",onChange:H=>P(U=>({...U,clientContact:uS(H.target.value)}))})]})]}),w.jsxs("div",{className:"bg-[#1d1d1d] p-6 rounded-lg shadow-lg",children:[w.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Adicionar Item"}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("div",{className:"flex items-center gap-4 mb-4",children:w.jsxs("label",{className:"flex items-center text-sm text-gray-300",children:[w.jsx("input",{type:"checkbox",checked:F,onChange:H=>Y(H.target.checked),className:"mr-2"}),"Usar preços de cartão"]})}),w.jsx(Yi,{label:"Produto",options:z,value:M.productId||"",onChange:H=>K(H.target.value)}),(G==null?void 0:G.pricingModel)===ci.PER_SQUARE_METER?w.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[w.jsx(bt,{label:"Largura (m)",type:"number",step:"0.01",value:M.width||"",onChange:H=>L(U=>({...U,width:parseFloat(H.target.value)||void 0}))}),w.jsx(bt,{label:"Altura (m)",type:"number",step:"0.01",value:M.height||"",onChange:H=>L(U=>({...U,height:parseFloat(H.target.value)||void 0}))}),w.jsx(bt,{label:"Quantidade de Peças",type:"number",value:M.itemCountForAreaCalc||"",onChange:H=>L(U=>({...U,itemCountForAreaCalc:parseInt(H.target.value)||void 0}))})]}):w.jsx(bt,{label:"Quantidade",type:"number",value:M.quantity||"",onChange:H=>L(U=>({...U,quantity:parseFloat(H.target.value)||1}))}),w.jsx(lt,{onClick:V,variant:"primary",iconLeft:w.jsx(ua,{className:"w-4 h-4"}),children:"Adicionar Item"})]})]}),C.items&&C.items.length>0&&w.jsxs("div",{className:"bg-[#1d1d1d] p-6 rounded-lg shadow-lg",children:[w.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Itens do Orçamento"}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase",children:"Produto"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase",children:"Qtd"}),w.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-400 uppercase",children:"Preço Unit."}),w.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-400 uppercase",children:"Total"}),w.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-400 uppercase",children:"Ação"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-700",children:C.items.map((H,U)=>w.jsxs("tr",{children:[w.jsx("td",{className:"px-4 py-2 text-sm text-white",children:H.productName}),w.jsx("td",{className:"px-4 py-2 text-sm text-gray-300",children:H.pricingModel===ci.PER_SQUARE_METER?`${H.quantity.toFixed(2)} m²`:`${H.quantity} un`}),w.jsx("td",{className:"px-4 py-2 text-sm text-gray-300 text-right",children:ct(H.unitPrice)}),w.jsx("td",{className:"px-4 py-2 text-sm text-gray-300 text-right",children:ct(H.totalPrice)}),w.jsx("td",{className:"px-4 py-2 text-center",children:w.jsx(lt,{onClick:()=>X(U),variant:"danger",size:"xs",iconLeft:w.jsx(so,{className:"w-4 h-4"}),children:"Remover"})})]},U))})]})})]})]}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"bg-[#1d1d1d] p-6 rounded-lg shadow-lg",children:[w.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Resumo"}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{className:"text-gray-300",children:"Subtotal:"}),w.jsx("span",{className:"text-white",children:ct(O.subtotal)})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(Yi,{label:"Tipo de Desconto",options:[{value:"none",label:"Sem desconto"},{value:"percentage",label:"Percentual"},{value:"fixed",label:"Valor fixo"}],value:C.discountType||"none",onChange:H=>P(U=>({...U,discountType:H.target.value}))}),C.discountType!=="none"&&w.jsx(bt,{label:C.discountType==="percentage"?"Desconto (%)":"Desconto (R$)",type:"number",step:"0.01",value:C.discountValue||"",onChange:H=>P(U=>({...U,discountValue:parseFloat(H.target.value)||0}))})]}),O.discountAmount>0&&w.jsxs("div",{className:"flex justify-between text-red-400",children:[w.jsx("span",{children:"Desconto:"}),w.jsxs("span",{children:["-",ct(O.discountAmount)]})]}),w.jsx("hr",{className:"border-gray-600"}),w.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[w.jsx("span",{className:"text-white",children:"Total (À Vista):"}),w.jsx("span",{className:"text-yellow-400",children:ct(O.totalCash)})]}),w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{className:"text-gray-300",children:"Total (Cartão):"}),w.jsx("span",{className:"text-gray-300",children:ct(O.totalCard)})]})]})]}),w.jsxs("div",{className:"bg-[#1d1d1d] p-6 rounded-lg shadow-lg",children:[w.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Detalhes Adicionais"}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Status do Orçamento"}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[w.jsx("button",{type:"button",onClick:()=>P(H=>({...H,status:"draft"})),className:`p-3 rounded-lg border-2 transition-all duration-200 flex items-center justify-center ${C.status==="draft"?"border-yellow-500 bg-yellow-500/20 text-yellow-300":"border-gray-600 bg-gray-700/50 text-gray-400 hover:border-yellow-500/50"}`,children:w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),w.jsx("span",{className:"text-sm font-medium",children:"Rascunho"})]})}),w.jsx("button",{type:"button",onClick:()=>P(H=>({...H,status:"sent"})),className:`p-3 rounded-lg border-2 transition-all duration-200 flex items-center justify-center ${C.status==="sent"?"border-blue-500 bg-blue-500/20 text-blue-300":"border-gray-600 bg-gray-700/50 text-gray-400 hover:border-blue-500/50"}`,children:w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),w.jsx("span",{className:"text-sm font-medium",children:"Enviado"})]})}),w.jsx("button",{type:"button",onClick:()=>P(H=>({...H,status:"accepted"})),className:`p-3 rounded-lg border-2 transition-all duration-200 flex items-center justify-center ${C.status==="accepted"?"border-green-500 bg-green-500/20 text-green-300":"border-gray-600 bg-gray-700/50 text-gray-400 hover:border-green-500/50"}`,children:w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),w.jsx("span",{className:"text-sm font-medium",children:"Aceito"})]})})]})]}),w.jsx(bt,{label:"Forma de Pagamento",value:C.selectedPaymentMethod||"",onChange:H=>P(U=>({...U,selectedPaymentMethod:H.target.value})),placeholder:"Ex: PIX, Cartão 2x, Dinheiro"}),w.jsx(Yi,{label:"Forma de Pagamento",options:[{value:"",label:"Selecione a forma de pagamento"},{value:"PIX",label:"PIX"},{value:"Cartão de Débito",label:"Cartão de Débito"},{value:"Cartão de Crédito 1x",label:"Cartão de Crédito 1x"},{value:"Cartão de Crédito 2x",label:"Cartão de Crédito 2x"},{value:"Cartão de Crédito 3x",label:"Cartão de Crédito 3x"},{value:"Cartão de Crédito 4x",label:"Cartão de Crédito 4x"},{value:"Cartão de Crédito 5x",label:"Cartão de Crédito 5x"},{value:"Cartão de Crédito 6x",label:"Cartão de Crédito 6x"},{value:"Cartão de Crédito 7x",label:"Cartão de Crédito 7x"},{value:"Cartão de Crédito 8x",label:"Cartão de Crédito 8x"},{value:"Cartão de Crédito 9x",label:"Cartão de Crédito 9x"},{value:"Cartão de Crédito 10x",label:"Cartão de Crédito 10x"}],value:C.selectedPaymentMethod||"",onChange:H=>P(U=>({...U,selectedPaymentMethod:H.target.value}))}),w.jsx(bt,{label:"Data de Pagamento",type:"date",value:C.paymentDate||"",onChange:H=>P(U=>({...U,paymentDate:H.target.value}))}),w.jsx(bt,{label:"Prazo de Entrega",type:"date",value:C.deliveryDeadline||"",onChange:H=>P(U=>({...U,deliveryDeadline:H.target.value}))}),w.jsx(ao,{label:"Observações",value:C.notes||"",onChange:H=>P(U=>({...U,notes:H.target.value})),rows:3,placeholder:"Observações adicionais..."})]})]})]})]})]})},EO=()=>{const{company:t,loading:e,saveCompany:n}=Vf(),[i,r]=pe.useState(null),[a,o]=pe.useState(!1),[c,u]=pe.useState(!1);Of.useEffect(()=>{t&&!i?r({name:t.name||"",logoUrlDarkBg:t.logoUrlDarkBg||"",logoUrlLightBg:t.logoUrlLightBg||"",address:t.address||"",phone:t.phone||"",email:t.email||"",cnpj:t.cnpj||"",instagram:t.instagram||"",website:t.website||""}):!t&&!e&&!i&&r({name:"",logoUrlDarkBg:"",logoUrlLightBg:"",address:"",phone:"",email:"",cnpj:"",instagram:"",website:""})},[t,e,i]);const f=x=>{if(!i)return;const{name:b,value:A}=x.target;r(b==="phone"?{...i,[b]:formatPhoneNumber(A)}:{...i,[b]:A}),u(!1)},h=(x,b)=>{if(i&&x.target.files&&x.target.files[0]){const A=new FileReader;A.onloadend=()=>{r({...i,[b==="dark"?"logoUrlDarkBg":"logoUrlLightBg"]:A.result}),u(!1)},A.readAsDataURL(x.target.files[0])}},g=async x=>{if(x.preventDefault(),!!i){o(!0);try{await n(i),u(!0),setTimeout(()=>u(!1),3e3)}catch(b){console.error("Erro ao salvar informações da empresa:",b),alert("Erro ao salvar informações da empresa. Tente novamente.")}finally{o(!1)}}};return e||!i?w.jsxs("div",{className:"p-6 text-white flex items-center justify-center",children:[w.jsx(oo,{size:"lg"}),w.jsx("span",{className:"ml-3",children:e?"Carregando informações da empresa...":"Inicializando formulário..."})]}):w.jsxs("div",{className:"p-6 bg-[#1d1d1d] shadow-xl rounded-lg text-white",children:[w.jsxs("div",{className:"flex items-center mb-6",children:[w.jsx(ry,{className:"h-8 w-8 text-yellow-500 mr-3"}),w.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Informações da Empresa"})]}),c&&w.jsx("div",{className:"mb-4 p-3 bg-green-600 border border-green-700 text-white rounded-md",children:"Informações salvas com sucesso!"}),w.jsxs("form",{onSubmit:g,className:"space-y-6",children:[w.jsx(bt,{label:"Nome da Empresa",id:"name",name:"name",type:"text",value:i.name,onChange:f,required:!0,placeholder:"Digite o nome da sua empresa"}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"logoUrlDarkBg",className:"block text-sm font-medium text-gray-200 mb-1",children:"Logo para Fundo Escuro (Topo do Site)"}),i.logoUrlDarkBg&&w.jsx("img",{src:i.logoUrlDarkBg,alt:"Logo Dark Preview",className:"h-20 mb-2 border border-[#282828] rounded p-1 bg-black"}),w.jsx(bt,{id:"logoUrlDarkBg",name:"logoUrlDarkBg",type:"file",accept:"image/*",onChange:x=>h(x,"dark"),className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-yellow-500 file:text-black hover:file:bg-yellow-600"}),w.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Ideal para o cabeçalho do site. PNG, JPG, GIF até 1MB. Recomendado: logo claro ou com contorno para boa visualização em fundos escuros."})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"logoUrlLightBg",className:"block text-sm font-medium text-gray-200 mb-1",children:"Logo para Fundo Claro (PDFs)"}),i.logoUrlLightBg&&w.jsx("img",{src:i.logoUrlLightBg,alt:"Logo Light Preview",className:"h-20 mb-2 border border-gray-600 rounded p-1 bg-white"}),w.jsx(bt,{id:"logoUrlLightBg",name:"logoUrlLightBg",type:"file",accept:"image/*",onChange:x=>h(x,"light"),className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-yellow-500 file:text-black hover:file:bg-yellow-600"}),w.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Ideal para orçamentos e recibos em PDF. PNG, JPG, GIF até 1MB. Recomendado: logo escuro ou colorido para boa visualização em fundos claros."})]})]}),w.jsx(ao,{label:"Endereço",id:"address",name:"address",value:i.address,onChange:f,rows:3,placeholder:"Rua, número, bairro, cidade, estado, CEP"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsx(bt,{label:"Telefone",id:"phone",name:"phone",type:"tel",value:i.phone,onChange:f,placeholder:"(11) 99999-9999"}),w.jsx(bt,{label:"Email",id:"email",name:"email",type:"email",value:i.email,onChange:f,placeholder:"contato@suaempresa.com.br"})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsx(bt,{label:"Instagram (Opcional)",id:"instagram",name:"instagram",type:"text",value:i.instagram||"",onChange:f,placeholder:"Ex: @suaempresa ou https://instagram.com/suaempresa"}),w.jsx(bt,{label:"Website (Opcional)",id:"website",name:"website",type:"url",value:i.website||"",onChange:f,placeholder:"Ex: https://www.suaempresa.com.br"})]}),w.jsx(bt,{label:"CNPJ (Opcional)",id:"cnpj",name:"cnpj",type:"text",value:i.cnpj||"",onChange:f,placeholder:"00.000.000/0001-00"}),w.jsx("div",{className:"pt-4",children:w.jsx(lt,{type:"submit",variant:"primary",size:"lg",isLoading:a,disabled:a,children:a?"Salvando...":"Salvar Informações"})})]})]})},MO=()=>w.jsxs("div",{className:"p-6 bg-[#1d1d1d] shadow-xl rounded-lg text-center text-white",children:[w.jsx(ro,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),w.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Ordens de Serviço (OS)"}),w.jsx("p",{className:"text-gray-300 mt-2",children:"Esta seção está em desenvolvimento."}),w.jsx("p",{className:"text-gray-400 mt-1",children:"Aqui você poderá gerenciar suas ordens de serviço, converter orçamentos em OS e acompanhar o status."})]}),PO=()=>w.jsxs("div",{className:"p-6 bg-[#1d1d1d] shadow-xl rounded-lg text-center text-white",children:[w.jsx(oy,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),w.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Fluxo de Caixa"}),w.jsx("p",{className:"text-gray-300 mt-2",children:"Esta seção está em desenvolvimento."}),w.jsx("p",{className:"text-gray-400 mt-1",children:"Futuramente, você poderá registrar entradas, saídas e visualizar relatórios financeiros."})]}),u3=({title:t,...e})=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:[t&&w.jsx("title",{children:t}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.75h16.5m-16.5 0A2.25 2.25 0 0 1 6 7.5h12a2.25 2.25 0 0 1 2.25 2.25m-16.5 0v1.875c0 .621.504 1.125 1.125 1.125h14.25c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5A2.25 2.25 0 0 0 18 18.75V12.75a2.25 2.25 0 0 0-2.25-2.25H8.25A2.25 2.25 0 0 0 6 12.75v6A2.25 2.25 0 0 0 8.25 21Z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15.75v-3.75"})]}),Sw=(t,e)=>{if(!t||!t.toLowerCase().includes("cartão de crédito")||!t.includes("x")||e<=0)return"";const n=t.match(/(\d+)x/);if(n&&n[1]){const i=parseInt(n[1],10);if(i>0){const r=e/i;return` (Em ${i}x de ${ct(r)})`}}return""},f3=({isOpen:t,onClose:e,quote:n})=>{if(!t||!n)return null;const{quoteNumber:i,status:r,createdAt:a,companyInfoSnapshot:o,clientName:c,clientContact:u,items:f,subtotal:h,discountType:g,discountValue:x,discountAmountCalculated:b,subtotalAfterDiscount:A,totalCash:C,totalCard:P,downPaymentApplied:M,selectedPaymentMethod:L,paymentDate:N,deliveryDeadline:R,notes:F,salespersonFullName:Y}=n,B=ig(r),V=L&&L.toLowerCase().includes("cartão")?P:C,X=M||0,K=V-X,O=Sw(L,K),j=Q=>{var _e,Te,Oe;if(!Q.companyInfoSnapshot||Q.items.length===0||!Q.clientName){alert("Informações incompletas para gerar Ordem de Serviço. Verifique dados da empresa, cliente e itens.");return}const Z=new _t,me=Z.internal.pageSize.height||Z.internal.pageSize.getHeight(),z=Z.internal.pageSize.width||Z.internal.pageSize.getWidth(),G=10;let te=15;const H=4;let U=G,le=0;const k=(_e=Q.companyInfoSnapshot)==null?void 0:_e.logoUrlLightBg;if(k&&k.startsWith("data:image"))try{const Ke=(Te=k.substring(k.indexOf(":")+1,k.indexOf(";")).split("/")[1])==null?void 0:Te.toUpperCase();Ke&&(Ke==="PNG"||Ke==="JPEG"||Ke==="JPG")?(Z.addImage(k,Ke,G,te,30,20),U=G+30+5,le=20):console.warn(`Formato de logo (OS PDF) não suportado: ${Ke}. Apenas PNG, JPEG/JPG são bem suportados. Logo não adicionado.`)}catch(je){console.error("Erro ao adicionar logo (OS PDF):",je)}let $=te;if(Q.companyInfoSnapshot){if(Z.setFontSize(12),Z.setFont("helvetica","bold"),Z.setTextColor(0,0,0),Z.text(Q.companyInfoSnapshot.name,U,$),$+=H+2,Z.setFontSize(9),Z.setFont("helvetica","normal"),Q.companyInfoSnapshot.address){const ge=Z.splitTextToSize(Q.companyInfoSnapshot.address,z-U-G);Z.text(ge,U,$),$+=ge.length*H}let je="";Q.companyInfoSnapshot.phone&&(je+=`Tel: ${Q.companyInfoSnapshot.phone}`),Q.companyInfoSnapshot.email&&(je+=`${Q.companyInfoSnapshot.phone?" | ":""}Email: ${Q.companyInfoSnapshot.email}`),je&&(Z.text(je,U,$),$+=H),Q.companyInfoSnapshot.cnpj&&(Z.text(`CNPJ: ${Q.companyInfoSnapshot.cnpj}`,U,$),$+=H);let Ke="";Q.companyInfoSnapshot.instagram&&(Ke+=`Instagram: ${Q.companyInfoSnapshot.instagram}`),Q.companyInfoSnapshot.website&&(Ke+=`${Q.companyInfoSnapshot.instagram?" | ":""}Site: ${Q.companyInfoSnapshot.website}`),Ke&&(Z.text(Ke,U,$),$+=H)}te=Math.max($,te+le)+5,Z.setFontSize(14),Z.setFont("helvetica","bold"),Z.setTextColor(0,0,0),Z.text("ORDEM DE SERVIÇO",z-G,te,{align:"right"}),Z.setFontSize(10),Z.setFont("helvetica","normal"),Z.text(`Número OS: ${Q.quoteNumber}`,z-G,te+6,{align:"right"}),Z.text(`Data Emissão: ${new Date(Q.createdAt).toLocaleDateString("pt-BR")}`,z-G,te+11,{align:"right"}),te+=18,Z.text(`Cliente: ${Q.clientName}`,G,te),te+=5,Q.clientContact&&(Z.text(`Contato: ${Q.clientContact}`,G,te),te+=5),Q.salespersonFullName&&(Z.text(`Atendente: ${Q.salespersonFullName}`,G,te),te+=5),te+=5;const ue=Q.items.map(je=>{let Ke="";if(je.pricingModel===ci.PER_SQUARE_METER)Ke=`${je.quantity.toFixed(2)} m²`,je.width&&je.height&&je.itemCountForAreaCalc&&(Ke+=` (${je.width}m x ${je.height}m x ${je.itemCountForAreaCalc}pç)`);else{const ge=je.productName.toLowerCase();let oe="un";ge.includes("pacote")||ge.includes("pct")||ge.includes("kit")?oe="pct":ge.includes("bloco")&&(oe="bloco"),Ke=`${je.quantity} ${oe}`}return[je.productName,Ke,ct(je.unitPrice),ct(je.totalPrice)]});Uh(Z,{startY:te,head:[["Serviço/Produto","Qtd./Detalhes","Preço Unit. (Base)","Total Item (Base)"]],body:ue,theme:"striped",headStyles:{fillColor:[40,40,40]},bodyStyles:{textColor:[0,0,0]},alternateRowStyles:{textColor:[0,0,0]},margin:{left:G,right:G}}),te=Z.lastAutoTable.finalY+10,Z.setTextColor(0,0,0),Z.setFontSize(10),Z.setFont("helvetica","normal"),Z.text(`Subtotal: ${ct(Q.subtotal)}`,z-G,te,{align:"right"}),te+=6,Q.discountAmountCalculated>0&&(Z.text(`Desconto Aplicado: ${ct(Q.discountAmountCalculated)}`,z-G,te,{align:"right"}),te+=6),Z.setFontSize(10),Z.setFont("helvetica","bold"),Z.text(`Subtotal com Desconto: ${ct(Q.subtotalAfterDiscount)}`,z-G,te,{align:"right"}),te+=6,Z.setFontSize(10),Z.setFont("helvetica","normal");const fe=Q.selectedPaymentMethod&&Q.selectedPaymentMethod.toLowerCase().includes("cartão")?Q.totalCard:Q.totalCash,we=Q.downPaymentApplied||0,ce=fe-we,ve=Sw(Q.selectedPaymentMethod,ce);if((Oe=Q.selectedPaymentMethod)!=null&&Oe.toLowerCase().includes("cartão")?(Z.text(`Total (Cartão - Antes do Sinal): ${ct(Q.totalCard)}`,z-G,te,{align:"right"}),te+=6):(Z.text(`Total (À Vista - Antes do Sinal): ${ct(Q.totalCash)}`,z-G,te,{align:"right"}),te+=6),we>0&&(Z.text(`Sinal/Haver Utilizado: - ${ct(we)}`,z-G,te,{align:"right"}),te+=6),Z.setFontSize(12),Z.setFont("helvetica","bold"),Z.text(`VALOR FINAL PAGO/A PAGAR: ${ct(ce)}`,z-G,te,{align:"right"}),te+=8,ve&&(Z.setFontSize(9),Z.text(`${ve}`,z-G,te,{align:"right"}),te+=6),te+=2,Q.selectedPaymentMethod&&(Z.text(`Forma de Pagamento: ${Q.selectedPaymentMethod}${ve}`,G,te),te+=5),Q.paymentDate&&(Z.text(`Data do Pagamento: ${new Date(Q.paymentDate+"T00:00:00").toLocaleDateString("pt-BR")}`,G,te),te+=5),Q.deliveryDeadline&&(Z.text(`Prazo de Entrega: ${new Date(Q.deliveryDeadline+"T00:00:00").toLocaleDateString("pt-BR")}`,G,te),te+=5),Q.notes){Z.setFontSize(9),Z.setFont("helvetica","italic"),Z.text("Observações Adicionais:",G,te),te+=4;const je=Z.splitTextToSize(Q.notes,z-2*G);Z.text(je,G,te),te+=je.length*4+5}te+=Math.max(10,me-te-50),te>me-40&&(Z.addPage(),te=G+10),Z.line(G,te,G+70,te),te+=5,Z.text("Assinatura Cliente",G,te),te-=5,Z.line(z-G-70,te,z-G,te),te+=5,Z.text("Assinatura Empresa",z-G-70,te),te+=15,te>me-20&&(Z.addPage(),te=G),Z.setFontSize(8),Z.setFont("helvetica","italic"),Z.text("Agradecemos a sua confiança e preferência!",z/2,me-G-5,{align:"center"}),Z.save(`Ordem_Servico-${Q.quoteNumber}.pdf`)};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 overflow-y-auto h-full w-full z-[60] flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-black p-6 md:p-8 rounded-lg shadow-2xl w-full max-w-3xl max-h-[95vh] overflow-y-auto text-white border border-[#282828]",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx(ro,{className:"h-7 w-7 text-yellow-500 mr-3"}),w.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-white",children:"Detalhes do Orçamento/Pedido"})]}),w.jsx(lt,{onClick:e,variant:"secondary",size:"sm",children:"× Fechar"})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6 text-sm",children:[w.jsxs("div",{className:"bg-[#1d1d1d] p-4 rounded-md",children:[w.jsxs("p",{className:"font-semibold text-white",children:["Número: ",w.jsx("span",{className:"text-yellow-400",children:i})]}),w.jsxs("p",{children:["Status: ",w.jsx("span",{className:`font-semibold ${r==="accepted"||r==="converted_to_order"?"text-green-400":r==="draft"?"text-yellow-400":"text-gray-400"}`,children:B})]}),w.jsxs("p",{children:["Criado em: ",new Date(a).toLocaleString("pt-BR")]}),Y&&w.jsxs("p",{children:["Vendedor: ",Y]})]}),w.jsxs("div",{className:"bg-[#1d1d1d] p-4 rounded-md",children:[w.jsx("p",{className:"font-semibold text-white",children:o.name}),w.jsxs("p",{children:[o.phone," | ",o.email]}),w.jsx("p",{children:o.address}),o.cnpj&&w.jsxs("p",{children:["CNPJ: ",o.cnpj]})]})]}),w.jsxs("div",{className:"mb-6 bg-[#1d1d1d] p-4 rounded-md text-sm",children:[w.jsx("h4",{className:"font-semibold text-lg text-white mb-2",children:"Cliente"}),w.jsxs("p",{children:["Nome: ",c]}),u&&w.jsxs("p",{children:["Contato: ",u]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("h4",{className:"font-semibold text-lg text-white mb-2",children:"Itens"}),w.jsx("div",{className:"overflow-x-auto border border-[#282828] rounded-md",children:w.jsxs("table",{className:"min-w-full divide-y divide-[#282828]",children:[w.jsx("thead",{className:"bg-[#282828]",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-400 uppercase",children:"Produto"}),w.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-400 uppercase",children:"Qtd./Detalhes"}),w.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-400 uppercase",children:"Preço Unit."}),w.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-400 uppercase",children:"Total Item"})]})}),w.jsx("tbody",{className:"bg-black divide-y divide-[#282828]",children:f.map((Q,Z)=>{let me="";if(Q.pricingModel===ci.PER_SQUARE_METER)me=`${Q.quantity.toFixed(2)} m²`,Q.width&&Q.height&&Q.itemCountForAreaCalc&&(me+=` (${Q.width}m x ${Q.height}m x ${Q.itemCountForAreaCalc}pç)`);else{const z=Q.productName.toLowerCase();let G="un";z.includes("pacote")||z.includes("pct")||z.includes("kit")?G="pct":z.includes("bloco")&&(G="bloco"),me=`${Q.quantity} ${G}`}return w.jsxs("tr",{children:[w.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-white",children:Q.productName}),w.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-200",children:me}),w.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-200 text-right",children:ct(Q.unitPrice)}),w.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-200 text-right",children:ct(Q.totalPrice)})]},Z)})})]})})]}),w.jsxs("div",{className:"mb-6 bg-[#1d1d1d] p-4 rounded-md text-sm",children:[w.jsx("h4",{className:"font-semibold text-lg text-white mb-2",children:"Totais"}),w.jsxs("div",{className:"space-y-1",children:[w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{children:"Subtotal (base):"}),w.jsx("span",{children:ct(h)})]}),b>0&&w.jsx(w.Fragment,{children:w.jsxs("div",{className:"flex justify-between",children:[w.jsxs("span",{children:["Desconto (",g==="percentage"?`${x}%`:`${ct(x)}`,"):"]}),w.jsxs("span",{className:"text-red-400",children:["- ",ct(b)]})]})}),w.jsxs("div",{className:"flex justify-between font-semibold",children:[w.jsx("span",{children:"Subtotal com Desconto:"}),w.jsx("span",{children:ct(A)})]}),w.jsx("hr",{className:"my-1 border-gray-600"}),w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{className:"text-gray-400",children:"Total (À Vista - antes do sinal):"}),w.jsx("span",{className:"text-gray-400",children:ct(C)})]}),w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{className:"text-gray-400",children:"Total (Cartão - antes do sinal):"}),w.jsx("span",{className:"text-gray-400",children:ct(P)})]}),X>0&&w.jsxs("div",{className:"flex justify-between text-green-400",children:[w.jsx("span",{children:"Sinal/Haver Utilizado:"}),w.jsxs("span",{children:["- ",ct(X)]})]}),w.jsx("hr",{className:"my-1 border-gray-600"}),w.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[w.jsx("span",{className:"text-white",children:"VALOR FINAL PAGO/A PAGAR:"}),w.jsx("span",{className:"text-yellow-400",children:ct(K)})]}),(L==null?void 0:L.toLowerCase().includes("cartão"))&&O&&w.jsx("div",{className:"flex justify-end text-sm text-yellow-300",children:w.jsx("span",{children:O})})]})]}),(L||N||R||F)&&w.jsxs("div",{className:"mb-6 bg-[#1d1d1d] p-4 rounded-md text-sm",children:[w.jsx("h4",{className:"font-semibold text-lg text-white mb-2",children:"Pagamento e Entrega"}),L&&w.jsxs("p",{children:["Forma de Pagamento: ",L,O]}),N&&w.jsxs("p",{children:["Data de Pagamento: ",new Date(N+"T00:00:00").toLocaleDateString("pt-BR")]}),R&&w.jsxs("p",{children:["Prazo de Entrega: ",new Date(R+"T00:00:00").toLocaleDateString("pt-BR")]}),F&&w.jsxs("div",{className:"mt-2",children:[w.jsx("p",{className:"font-semibold text-white",children:"Observações:"}),w.jsx("p",{className:"whitespace-pre-wrap text-gray-200",children:F})]})]}),w.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-end items-center gap-3",children:[(r==="accepted"||r==="converted_to_order")&&w.jsx(lt,{onClick:()=>j(n),variant:"success",size:"md",iconLeft:w.jsx(ro,{className:"w-4 h-4"}),children:"Imprimir OS"}),w.jsx(lt,{onClick:e,variant:"primary",size:"md",children:"Fechar Visualização"})]})]})})},LO=({isOpen:t,onClose:e,quotes:n,onViewDetails:i,modalTitle:r})=>{if(!t)return null;const a=[...n].sort((o,c)=>new Date(c.createdAt).getTime()-new Date(o.createdAt).getTime());return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 overflow-y-auto h-full w-full z-[70] flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-black p-6 md:p-8 rounded-lg shadow-2xl w-full max-w-4xl max-h-[95vh] text-white border border-[#282828] flex flex-col",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx(u3,{className:"h-7 w-7 text-yellow-500 mr-3"}),w.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-white",children:r})]}),w.jsx(lt,{onClick:e,variant:"secondary",size:"sm",children:"× Fechar"})]}),a.length===0?w.jsx("div",{className:"flex-grow flex items-center justify-center",children:w.jsx("p",{className:"text-gray-400 text-lg",children:"Nenhum item encontrado para exibir."})}):w.jsx("div",{className:"overflow-y-auto flex-grow",children:w.jsx("ul",{className:"space-y-3",children:a.map(o=>w.jsx("li",{className:"p-4 border border-[#282828] bg-[#1d1d1d] rounded-md hover:bg-[#3a3a3a] transition-colors duration-150",children:w.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[w.jsxs("div",{className:"mb-2 sm:mb-0",children:[w.jsx("p",{className:"font-semibold text-yellow-400 text-lg",children:o.quoteNumber}),w.jsxs("p",{className:"text-sm text-white",children:["Cliente: ",o.clientName]})]}),w.jsxs("div",{className:"flex flex-col sm:items-end items-start mb-2 sm:mb-0",children:[w.jsxs("p",{className:"text-sm text-gray-300",children:["Data: ",new Date(o.createdAt).toLocaleDateString("pt-BR")]}),w.jsxs("p",{className:"text-sm text-gray-200",children:["Total: ",w.jsx("span",{className:"font-medium",children:ct(o.totalCash)})]})]}),w.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto justify-end",children:[w.jsx("span",{className:`px-2.5 py-1 text-xs rounded-full font-medium ${o.status==="accepted"?"bg-green-500 text-white":o.status==="draft"?"bg-yellow-600 text-black":"bg-gray-700 text-white"}`,children:ig(o.status)}),w.jsx(lt,{variant:"outline",size:"sm",onClick:()=>i(o),children:"Ver Detalhes"})]})]})},o.id))})}),w.jsx("div",{className:"mt-6 text-right border-t border-[#282828] pt-4",children:w.jsx(lt,{onClick:e,variant:"primary",children:"Fechar Histórico"})})]})})},mm={id:"",name:"",documentType:"CPF",documentNumber:"",phone:"",email:"",address:"",city:"",postalCode:"",downPayments:[]},eh={amount:0,date:mu(new Date),description:""},DO=({openGlobalViewDetailsModal:t})=>{const{customers:e,loading:n,createCustomer:i,updateCustomer:r,deleteCustomer:a}=dS(),{quotes:o,loading:c}=Oh(),[u,f]=pe.useState(""),[h,g]=pe.useState(!1),[x,b]=pe.useState(mm),[A,C]=pe.useState(!1),[P,M]=pe.useState(!1),[L,N]=pe.useState([]),[R,F]=pe.useState(!1),[Y,B]=pe.useState(null),[V,X]=pe.useState(!1),[K,O]=pe.useState([]),[j,Q]=pe.useState(""),[Z,me]=pe.useState(eh),z=_e=>{const{name:Te,value:Oe}=_e.target;b(Te==="phone"?je=>({...je,[Te]:formatPhoneNumber(Oe)}):je=>({...je,[Te]:Oe}))},G=_e=>{const{name:Te,value:Oe}=_e.target;me(je=>({...je,[Te]:Te==="amount"?parseFloat(Oe)||0:Oe}))},te=()=>{if(Z.amount<=0){alert("O valor do sinal deve ser maior que zero.");return}if(!Z.date){alert("A data do sinal é obrigatória.");return}const _e={id:`dp-${Date.now()}`,...Z};b(Te=>({...Te,downPayments:[...Te.downPayments||[],_e]})),me(eh)},H=_e=>{window.confirm("Tem certeza que deseja remover este sinal?")&&b(Te=>({...Te,downPayments:Te.downPayments.filter(Oe=>Oe.id!==_e)}))},U=()=>{b(mm),me(eh),N([]),C(!1),g(!0)},le=_e=>{b({...mm,..._e,downPayments:_e.downPayments||[]}),me(eh);const Te=o.filter(Oe=>Oe.customerId===_e.id).sort((Oe,je)=>new Date(je.createdAt).getTime()-new Date(Oe.createdAt).getTime());N(Te),C(!0),g(!0)},k=()=>{g(!1),b(mm),me(eh),N([])},$=async _e=>{_e.preventDefault(),M(!0);try{const Te={...x,downPayments:x.downPayments||[]};A?await r(Te):await i(Te),k()}catch(Te){console.error("Erro ao salvar cliente:",Te),alert("Erro ao salvar cliente. Tente novamente.")}M(!1)},ie=async _e=>{const Te=o.filter(je=>je.customerId===_e).length;let Oe="Tem certeza que deseja excluir este cliente?";if(Te>0&&(Oe+=`

ATENÇÃO: Este cliente possui ${Te} orçamento(s) associado(s). A exclusão do cliente NÃO excluirá os orçamentos, mas eles perderão o vínculo com este cliente.`),window.confirm(Oe))try{await a(_e)}catch(je){console.error("Erro ao excluir cliente:",je),alert("Erro ao excluir cliente. Tente novamente.")}},ue=_e=>{B(_e),F(!0)},fe=_e=>{const Te=o.filter(Oe=>Oe.customerId===_e.id).sort((Oe,je)=>new Date(je.createdAt).getTime()-new Date(Oe.createdAt).getTime());O(Te),Q(_e.name),X(!0)},we=[{value:"CPF",label:"CPF"},{value:"CNPJ",label:"CNPJ"},{value:"N/A",label:"Não Aplicável / Outro"}],ce=_e=>_e.reduce((Te,Oe)=>Te+Oe.amount,0),ve=e.filter(_e=>_e.name.toLowerCase().includes(u.toLowerCase()));return n||c?w.jsxs("div",{className:"p-6 text-white flex items-center justify-center",children:[w.jsx(oo,{size:"lg"}),w.jsx("span",{className:"ml-3",children:"Carregando clientes..."})]}):w.jsxs("div",{className:"p-6 text-white",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx(ou,{className:"h-8 w-8 text-yellow-500 mr-3"}),w.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Gerenciamento de Clientes"})]}),w.jsx(lt,{onClick:U,variant:"primary",iconLeft:w.jsx(ua,{className:"w-5 h-5"}),children:"Adicionar Cliente"})]}),w.jsx("div",{className:"mb-6",children:w.jsx(bt,{id:"customerSearch",type:"text",placeholder:"Pesquisar por nome ou razão social...",value:u,onChange:_e=>f(_e.target.value),className:"max-w-md",label:"Pesquisar Cliente"})}),e.length===0?w.jsxs("div",{className:"text-center py-10 bg-[#1d1d1d] shadow-xl rounded-lg",children:[w.jsx(ou,{className:"mx-auto h-12 w-12 text-gray-500"}),w.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"Nenhum cliente cadastrado"}),w.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Comece adicionando um novo cliente."}),w.jsx("div",{className:"mt-6",children:w.jsx(lt,{onClick:U,variant:"primary",iconLeft:w.jsx(ua,{className:"w-4 h-4"}),children:"Adicionar Cliente"})})]}):ve.length===0?w.jsxs("div",{className:"text-center py-10 bg-[#1d1d1d] shadow-xl rounded-lg",children:[w.jsx(ou,{className:"mx-auto h-12 w-12 text-gray-500"}),w.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"Nenhum cliente encontrado"}),w.jsxs("p",{className:"mt-1 text-sm text-gray-400",children:['Nenhum cliente encontrado com o termo "',u,'". Tente uma busca diferente.']})]}):w.jsx("div",{className:"bg-gray-800 shadow-xl rounded-lg overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-[#282828]",children:[w.jsx("thead",{className:"bg-[#282828]",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Pedidos"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Sinal?"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Nome / Razão Social"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Documento"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Telefone"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Email"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Ações"})]})}),w.jsx("tbody",{className:"bg-[#1F1F1F] divide-y divide-[#282828]",children:ve.map(_e=>{const Te=ce(_e.downPayments),Oe=Te>0;return w.jsxs("tr",{className:"hover:bg-[#2A2A2A]",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx(lt,{onClick:()=>fe(_e),variant:"outline",size:"xs",iconLeft:w.jsx(u3,{className:"w-4 h-4"}),title:"Ver Histórico de Pedidos"})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:Oe?w.jsx(oy,{className:"w-5 h-5 text-green-500 mx-auto",title:`Total Sinal: ${ct(Te)} (${_e.downPayments.length} entrada${_e.downPayments.length!==1?"s":""})`}):w.jsx("span",{className:"text-gray-500",children:"-"})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:_e.name}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-200",children:_e.documentType!=="N/A"?`${_e.documentType}: ${_e.documentNumber||""}`:"N/A"}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-200",children:_e.phone}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-200",children:_e.email||"-"}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[w.jsx(lt,{onClick:()=>le(_e),variant:"secondary",size:"xs",iconLeft:w.jsx(oc,{className:"w-4 h-4"}),title:"Editar Cliente"}),w.jsx(lt,{onClick:()=>ie(_e.id),variant:"danger",size:"xs",iconLeft:w.jsx(so,{className:"w-4 h-4"}),title:"Excluir Cliente"})]})]},_e.id)})})]})}),h&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-black p-6 md:p-8 rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto text-white border border-[#282828]",children:[w.jsx("h3",{className:"text-xl font-semibold mb-6 text-white",children:A?"Editar Cliente":"Adicionar Novo Cliente"}),w.jsxs("form",{onSubmit:$,className:"space-y-4",children:[w.jsx(bt,{label:"Nome / Razão Social",name:"name",value:x.name,onChange:z,required:!0}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsx(Yi,{label:"Tipo de Documento",name:"documentType",value:x.documentType,onChange:z,options:we}),w.jsx(bt,{label:"Número do Documento",name:"documentNumber",value:x.documentNumber||"",onChange:z,disabled:x.documentType==="N/A"})]}),w.jsx(bt,{label:"Telefone",name:"phone",type:"tel",value:x.phone,onChange:z,required:!0}),w.jsx(bt,{label:"Email (Opcional)",name:"email",type:"email",value:x.email||"",onChange:z}),w.jsx(ao,{label:"Endereço (Rua, Nº, Bairro)",name:"address",value:x.address||"",onChange:z,rows:2}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsx(bt,{label:"Cidade (Opcional)",name:"city",value:x.city||"",onChange:z}),w.jsx(bt,{label:"CEP (Opcional)",name:"postalCode",value:x.postalCode||"",onChange:z,placeholder:"Ex: 00000-000"})]}),w.jsxs("div",{className:"pt-4 border-t border-gray-700 mt-6",children:[w.jsx("h4",{className:"text-lg font-semibold text-gray-100 mb-3",children:"Sinais / Adiantamentos"}),x.downPayments&&x.downPayments.length>0&&w.jsx("div",{className:"mb-4 max-h-40 overflow-y-auto pr-2 space-y-2",children:x.downPayments.map(_e=>w.jsxs("div",{className:"p-3 bg-[#282828] rounded-md flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-medium text-white",children:ct(_e.amount)}),w.jsxs("p",{className:"text-xs text-gray-300",children:["Data: ",new Date(_e.date+"T00:00:00").toLocaleDateString("pt-BR")]}),_e.description&&w.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Descrição: ",_e.description]})]}),w.jsx(lt,{onClick:()=>H(_e.id),variant:"danger",size:"xs",iconLeft:w.jsx(so,{className:"w-3 h-3"}),className:"ml-2 flex-shrink-0",children:"Excluir"})]},_e.id))}),x.downPayments&&x.downPayments.length===0&&w.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Nenhum sinal registrado."}),w.jsxs("div",{className:"p-3 border border-[#1F1F1F] rounded-md space-y-3",children:[w.jsx("h5",{className:"text-md font-medium text-gray-200",children:"Adicionar Novo Sinal"}),w.jsx(bt,{label:"Valor do Sinal (R$)",name:"amount",type:"number",step:"0.01",value:Z.amount===0?"":Z.amount,onChange:G,placeholder:"Ex: 50.00"}),w.jsx(bt,{label:"Data do Sinal",name:"date",type:"date",value:Z.date,onChange:G,className:"text-white",style:{colorScheme:"dark"}}),w.jsx(ao,{label:"Descrição do Sinal (Opcional)",name:"description",value:Z.description,onChange:G,rows:2,placeholder:"Ex: Adiantamento para material X"}),w.jsx(lt,{type:"button",onClick:te,variant:"success",size:"sm",iconLeft:w.jsx(ua,{className:"w-4 h-4"}),children:"Adicionar Sinal à Lista"})]})]}),A&&w.jsxs("div",{className:"mt-6 pt-4 border-t border-[#1F1F1F]",children:[w.jsx("div",{className:"flex justify-between items-center mb-2",children:w.jsxs("h4",{className:"text-md font-semibold text-gray-100",children:["Histórico de Orçamentos/Pedidos (",L.length,")"]})}),L.length===0?w.jsx("p",{className:"text-sm text-gray-400",children:"Nenhum orçamento/pedido encontrado para este cliente."}):w.jsx("ul",{className:"space-y-2 max-h-48 overflow-y-auto",children:L.map(_e=>w.jsxs("li",{className:"p-3 border border-[#282828] rounded-md text-sm hover:bg-[#3a3a3a]",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("span",{className:"font-medium text-yellow-400",children:_e.quoteNumber}),w.jsx("span",{className:"ml-2 text-xs text-gray-500",children:new Date(_e.createdAt).toLocaleDateString("pt-BR")})]}),w.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${_e.status==="accepted"?"bg-green-600 text-white":_e.status==="draft"?"bg-yellow-600 text-black":"bg-gray-600 text-gray-200"}`,children:ig(_e.status)})]}),w.jsxs("div",{className:"flex justify-between items-center mt-1",children:[w.jsxs("span",{className:"text-gray-300",children:["Total: ",ct(_e.totalCash)]}),w.jsx(lt,{variant:"outline",size:"xs",onClick:()=>ue(_e),children:"Ver Detalhes"})]})]},_e.id))})]}),w.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-6",children:[w.jsx(lt,{type:"button",variant:"secondary",onClick:k,className:"w-full sm:w-auto",children:"Cancelar"}),w.jsx(lt,{type:"submit",variant:"primary",isLoading:P,className:"w-full sm:w-auto",children:P?"Salvando...":A?"Salvar Alterações do Cliente":"Adicionar Cliente"})]})]})]})}),w.jsx(f3,{isOpen:R,onClose:()=>F(!1),quote:Y}),w.jsx(LO,{isOpen:V,onClose:()=>X(!1),quotes:K,onViewDetails:t,modalTitle:`Histórico de Orçamentos/Pedidos de ${j}`})]})},RO=()=>{const[t,e]=pe.useState([]),[n,i]=pe.useState(!0),[r,a]=pe.useState(!1),[o,c]=pe.useState(null),[u,f]=pe.useState({username:"",full_name:"",password:"",role:Et.SALES}),[h,g]=pe.useState({});pe.useEffect(()=>{x()},[]);const x=async()=>{try{i(!0);const N=await Ea.getUsers();console.log("🔍 Debug users data:",N);const R=N.map(F=>({...F,created_at:new Date().toISOString()}));e(R)}catch(N){console.error("Error loading users:",N)}finally{i(!1)}},b=()=>{const N={};return u.username.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.username)||(N.username="Email deve ter um formato válido"):N.username="Email é obrigatório",u.full_name.trim()||(N.full_name="Nome completo é obrigatório"),!o&&!u.password.trim()&&(N.password="Senha é obrigatória"),u.password&&u.password.length<6&&(N.password="Senha deve ter pelo menos 6 caracteres"),g(N),Object.keys(N).length===0},A=async N=>{if(N.preventDefault(),!!b())try{if(o){if(!o.id){g({submit:"Erro: ID do usuário não encontrado."});return}const R={id:o.id,username:u.username,fullName:u.full_name,role:u.role};u.password&&(R.password=u.password),await Ea.updateUser(R)}else await Ea.createUser({username:u.username,fullName:u.full_name,password:u.password,role:u.role});await x(),M()}catch(R){console.error("Error saving user:",R),R instanceof Error&&R.message.includes("already exists")?g({submit:"Este email já está em uso por outro usuário."}):g({submit:"Erro ao salvar usuário. Tente novamente."})}},C=N=>{c(N),f({username:N.username,full_name:N.fullName||"",password:"",role:N.role}),a(!0)},P=async N=>{if(window.confirm("Tem certeza que deseja excluir este usuário?"))try{await Ea.deleteUser(N),await x()}catch(R){console.error("Error deleting user:",R)}},M=()=>{a(!1),c(null),f({username:"",full_name:"",password:"",role:Et.SALES}),g({})},L=N=>{switch(N){case Et.ADMIN:return"Administrador";case Et.SALES:return"Vendas";default:return N}};return n?w.jsx("div",{className:"flex items-center justify-center h-64",children:w.jsx("div",{className:"text-lg",children:"Carregando usuários..."})}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx(ou,{className:"h-8 w-8 text-yellow-500 mr-3"}),w.jsx("h1",{className:"text-2xl font-bold text-white",children:"Gerenciamento de Usuários"})]}),w.jsxs(lt,{onClick:()=>a(!0),className:"flex items-center gap-2",children:[w.jsx(ua,{className:"w-4 h-4"}),"Adicionar Usuário"]})]}),w.jsx("div",{className:"bg-[#1d1d1d] shadow-xl rounded-lg overflow-hidden",children:w.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[w.jsx("thead",{className:"bg-[#282828]",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Email"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Nome Completo"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Nível de Acesso"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Data de Criação"}),w.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Ações"})]})}),w.jsx("tbody",{className:"bg-[#1F1F1F] divide-y divide-[#282828]",children:t.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-400",children:"Nenhum usuário encontrado"})}):t.map((N,R)=>w.jsxs("tr",{className:"hover:bg-[#2A2A2A]",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:N.username}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:N.fullName||""}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N.role===Et.ADMIN?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:L(N.role)})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:N.created_at?new Date(N.created_at).toLocaleDateString("pt-BR"):"N/A"}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:w.jsxs("div",{className:"flex justify-end gap-2",children:[w.jsx(lt,{variant:"secondary",size:"sm",onClick:()=>C(N),iconLeft:w.jsx(oc,{className:"w-4 h-4"}),children:"Editar"}),w.jsx(lt,{variant:"danger",size:"sm",onClick:()=>P(N.id),iconLeft:w.jsx(so,{className:"w-4 h-4"}),children:"Excluir"})]})})]},N.id))})]})}),r&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 overflow-y-auto h-full w-full z-50",children:w.jsxs("div",{className:"relative top-20 mx-auto p-5 border border-[#282828] w-96 shadow-lg rounded-md bg-[#1d1d1d]",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h3",{className:"text-lg font-medium text-white",children:o?"Editar Usuário":"Adicionar Usuário"}),w.jsx("button",{onClick:M,className:"text-gray-400 hover:text-white",children:w.jsx(u_,{className:"w-6 h-6"})})]}),w.jsxs("form",{onSubmit:A,className:"space-y-4",children:[w.jsx("div",{children:w.jsx(bt,{type:"email",label:"Email",value:u.username,onChange:N=>f({...u,username:N.target.value}),placeholder:"usuario@exemplo.com",error:h.username,required:!0})}),w.jsx("div",{children:w.jsx(bt,{label:"Nome Completo",value:u.full_name,onChange:N=>f({...u,full_name:N.target.value}),placeholder:"Nome completo do usuário",error:h.full_name,required:!0})}),w.jsx("div",{children:w.jsx(bt,{type:"password",label:o?"Nova Senha (deixe em branco para manter)":"Senha",value:u.password,onChange:N=>f({...u,password:N.target.value}),placeholder:"Mínimo 6 caracteres",error:h.password,required:!o})}),w.jsx("div",{children:w.jsx(Yi,{label:"Nível de Acesso",value:u.role,onChange:N=>f({...u,role:N.target.value}),error:h.role,options:[{value:Et.SALES,label:"Vendas"},{value:Et.ADMIN,label:"Administrador"}],required:!0})}),h.submit&&w.jsx("div",{className:"text-red-400 text-sm",children:h.submit}),w.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[w.jsx(lt,{type:"button",variant:"secondary",onClick:M,children:"Cancelar"}),w.jsxs(lt,{type:"submit",variant:"primary",children:[o?"Atualizar":"Criar"," Usuário"]})]})]})]})})]})},kO=({openGlobalViewDetailsModal:t,currentUserRole:e})=>{const{quotes:n,loading:i,deleteQuote:r}=Oh(),a=Bf(),o=[...n].sort((f,h)=>new Date(h.createdAt).getTime()-new Date(f.createdAt).getTime()),c=async f=>{if(e!==Et.ADMIN){alert("Apenas administradores podem excluir orçamentos.");return}const h=`Tem certeza que deseja excluir o orçamento ${f.quoteNumber}?

Esta ação não pode ser desfeita.`;if(window.confirm(h))try{await r(f.id),alert("Orçamento excluído com sucesso!")}catch(g){console.error("Erro ao excluir orçamento:",g),alert("Erro ao excluir orçamento. Tente novamente.")}},u=f=>{switch(f){case"draft":return"bg-yellow-600 text-black";case"sent":return"bg-blue-600 text-white";case"accepted":case"converted_to_order":return"bg-green-600 text-white";case"rejected":case"cancelled":return"bg-red-600 text-white";default:return"bg-gray-600 text-gray-200"}};return i?w.jsxs("div",{className:"p-6 text-white flex items-center justify-center",children:[w.jsx(oo,{size:"lg"}),w.jsx("span",{className:"ml-3",children:"Carregando orçamentos..."})]}):w.jsxs("div",{className:"p-6 text-gray-300",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx(ro,{className:"h-8 w-8 text-yellow-500 mr-3"}),w.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Todos os Orçamentos"})]}),w.jsx(lt,{onClick:()=>a("/quotes/new"),variant:"primary",iconLeft:w.jsx(ua,{className:"w-5 h-5"}),children:"Criar Novo Orçamento"})]}),o.length===0?w.jsxs("div",{className:"text-center py-10 bg-[#282828] shadow-xl rounded-lg",children:[w.jsx(ro,{className:"mx-auto h-12 w-12 text-gray-500"}),w.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"Nenhum orçamento encontrado"}),w.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Comece criando um novo orçamento."}),w.jsx("div",{className:"mt-6",children:w.jsx(lt,{onClick:()=>a("/quotes/new"),variant:"primary",iconLeft:w.jsx(ua,{className:"w-4 h-4"}),children:"Criar Novo Orçamento"})})]}):w.jsx("div",{className:"bg-[#282828] shadow-xl rounded-lg overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-[#282828]",children:[w.jsx("thead",{className:"bg-[#282828]",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Número"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Cliente"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Data Criação"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Vendedor"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),w.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Valor (À Vista)"}),w.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Ações"})]})}),w.jsx("tbody",{className:"bg-[#282828] divide-y divide-[#282828]",children:o.map(f=>w.jsxs("tr",{className:"hover:bg-[#3a3a3a]/50",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-yellow-400",children:f.quoteNumber}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-200",children:f.clientName}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:new Date(f.createdAt).toLocaleDateString("pt-BR")}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:f.salespersonFullName||f.salespersonUsername}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:w.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-semibold ${u(f.status)}`,children:ig(f.status)})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:ct(f.totalCash)}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center space-x-2",children:w.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2",children:[w.jsx(lt,{onClick:()=>t(f),variant:"outline",size:"sm",className:"w-full sm:w-auto",children:"Ver Detalhes"}),e===Et.ADMIN&&w.jsxs(lt,{onClick:()=>c(f),variant:"danger",size:"sm",iconLeft:w.jsx(so,{className:"w-4 h-4"}),title:"Excluir Orçamento",className:"w-full sm:w-auto",children:[w.jsx("span",{className:"sm:hidden",children:"Excluir Orçamento"}),w.jsx("span",{className:"hidden sm:inline",children:"Excluir"})]})]})})]},f.id))})]})})]})};xu.register(zm,qm,mh,nS,tg,eg);const IO=({currentUser:t})=>{var L;const{users:e,loading:n}=hM(),{quotes:i,loading:r}=Oh(),[a,o]=pe.useState(new Date().getFullYear()),[c,u]=pe.useState(new Date().getMonth()+1),[f,h]=pe.useState([]),g=pe.useMemo(()=>i.filter(N=>N.status==="accepted"||N.status==="converted_to_order"),[i]);Of.useEffect(()=>{if(!g.length){h([new Date().getFullYear()]);return}if(g.length>0){const N=[...new Set(g.map(F=>new Date(F.createdAt).getFullYear()))].sort((F,Y)=>Y-F),R=[...new Set([...N,new Date().getFullYear()])].sort((F,Y)=>Y-F);h(R),!R.includes(a)&&R.length>0&&o(R[0])}},[g,a]);const x=Array.from({length:12},(N,R)=>({value:R+1,label:new Date(0,R).toLocaleString("pt-BR",{month:"long"})})),b=f.map(N=>({value:N,label:N.toString()})),A=(N,R)=>new Date(N,R,0).getDate(),C=pe.useMemo(()=>e.map(N=>{const R=g.filter(X=>{const K=new Date(X.createdAt);return X.salespersonUsername===N.username&&K.getFullYear()===a&&K.getMonth()+1===c}),F=A(a,c),Y=Array(F).fill(0),B=Array.from({length:F},(X,K)=>(K+1).toString());R.forEach(X=>{const K=new Date(X.createdAt).getDate();Y[K-1]+=X.totalCash});const V=Y.some(X=>X>0);return{userId:N.id,userName:N.fullName||N.username,hasSales:V,chartData:{labels:B,datasets:[{label:`Vendas Diárias (${ct(Y.reduce((X,K)=>X+K,0))})`,data:Y,backgroundColor:"rgba(234, 179, 8, 0.6)",borderColor:"rgba(234, 179, 8, 1)",borderWidth:1,borderRadius:4}]}}}),[e,g,a,c]),P={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#d1d5db",font:{family:"Inter"}}},tooltip:{backgroundColor:"#1d1d1d",titleColor:"#f3f4f6",bodyColor:"#d1d5db",callbacks:{label:function(N){let R=N.dataset.label||"";return(R.includes("Vendas Diárias")||N.parsed.y!==null)&&(R+=": "+ct(N.parsed.y)),R}}}},scales:{x:{ticks:{color:"#9ca3af",font:{family:"Inter"}},grid:{color:"rgba(75, 85, 99, 0.2)"}},y:{ticks:{color:"#9ca3af",font:{family:"Inter"},callback:N=>ct(Number(N))},grid:{color:"rgba(75, 85, 99, 0.3)"},beginAtZero:!0}}};if(t.role!==Et.ADMIN)return w.jsxs("div",{className:"p-6 text-gray-300 text-center",children:[w.jsx("h2",{className:"text-xl font-semibold text-red-500",children:"Acesso Negado"}),w.jsx("p",{className:"text-gray-400",children:"Você não tem permissão para visualizar esta página."})]});if(n||r)return w.jsxs("div",{className:"p-6 text-white flex items-center justify-center",children:[w.jsx(oo,{size:"lg"}),w.jsx("span",{className:"ml-3",children:"Carregando dados de performance..."})]});const M=C.every(N=>!N.hasSales);return w.jsxs("div",{className:"p-6 text-gray-300",children:[w.jsxs("div",{className:"flex items-center mb-6",children:[w.jsx(vm,{className:"h-8 w-8 text-yellow-500 mr-3"}),w.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Desempenho de Vendas por Usuário"})]}),w.jsx("div",{className:"bg-[#1d1d1d] p-4 rounded-lg shadow-md mb-6",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[w.jsx(Yi,{label:"Mês:",options:x,value:c,onChange:N=>u(Number(N.target.value))}),w.jsx(Yi,{label:"Ano:",options:b,value:a,onChange:N=>o(Number(N.target.value))})]})}),e.length===0?w.jsxs("div",{className:"text-center py-10 bg-[#1d1d1d] shadow-xl rounded-lg",children:[w.jsx(ou,{className:"mx-auto h-12 w-12 text-gray-500"}),w.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"Nenhum usuário cadastrado"}),w.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Adicione usuários na página de Gerenciamento de Usuários para ver seus desempenhos."})]}):M&&g.length>0?w.jsxs("div",{className:"text-center py-10 bg-[#1d1d1d] shadow-xl rounded-lg",children:[w.jsx(vm,{className:"mx-auto h-12 w-12 text-gray-500"}),w.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"Nenhuma Venda Registrada no Período"}),w.jsxs("p",{className:"mt-1 text-sm text-gray-400",children:["Não foram encontradas vendas (orçamentos aceitos) para o mês de ",(L=x.find(N=>N.value===c))==null?void 0:L.label," de ",a,"."]})]}):g.length===0&&e.length>0?w.jsxs("div",{className:"text-center py-10 bg-[#1d1d1d] shadow-xl rounded-lg",children:[w.jsx(vm,{className:"mx-auto h-12 w-12 text-gray-500"}),w.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"Nenhuma Venda Registrada"}),w.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Ainda não há orçamentos aceitos no sistema para exibir dados de vendas."})]}):w.jsx("div",{className:"space-y-8",children:C.map(N=>{var R;return w.jsxs("div",{className:"bg-[#1d1d1d] p-6 rounded-xl shadow-lg",children:[w.jsx("h3",{className:"text-xl font-semibold text-yellow-300 mb-1",children:N.userName}),w.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:["Vendas em ",(R=x.find(F=>F.value===c))==null?void 0:R.label," de ",a]}),N.hasSales?w.jsx("div",{className:"h-72 md:h-96 relative",children:w.jsx(lS,{options:{...P,plugins:{...P.plugins,title:{display:!1}}},data:N.chartData})}):w.jsx("p",{className:"text-gray-500 text-center py-10",children:"Nenhuma venda encontrada para este usuário no período selecionado."})]},N.userId)})})]})};xu.register(Nf,tg,eg);const FO={id:"",name:"",cnpj:"",phone:"",email:"",address:"",notes:""},Cw={description:"",totalAmount:0,dateAdded:mu(new Date)},Aw={amount:0,date:mu(new Date),description:""},OO=()=>{const{suppliers:t,debts:e,credits:n,loading:i,createSupplier:r,updateSupplier:a,deleteSupplier:o,createDebt:c,deleteDebt:u,createCredit:f,deleteCredit:h}=fM(),[g,x]=pe.useState(""),[b,A]=pe.useState(!1),[C,P]=pe.useState(null),[M,L]=pe.useState(!1),[N,R]=pe.useState(null),F=K=>{P(K),A(!0)},Y=async K=>{try{K.id?await a(K):await r(K),A(!1)}catch(O){console.error("Erro ao salvar fornecedor:",O),alert("Erro ao salvar fornecedor. Tente novamente.")}},B=async K=>{const O=e.filter(Q=>Q.supplierId===K).length,j=n.filter(Q=>Q.supplierId===K).length;if(!((O>0||j>0)&&!window.confirm(`Este fornecedor tem ${O} dívida(s) e ${j} pagamento(s) associado(s). Excluir o fornecedor também excluirá todos esses registros. Deseja continuar?`)))try{await o(K)}catch(Q){console.error("Erro ao excluir fornecedor:",Q),alert("Erro ao excluir fornecedor. Tente novamente.")}},V=K=>{R(K),L(!0)},X=pe.useMemo(()=>t.map(K=>{const j=e.filter(z=>z.supplierId===K.id).reduce((z,G)=>z+G.totalAmount,0),Z=n.filter(z=>z.supplierId===K.id).reduce((z,G)=>z+G.amount,0),me=j-Z;return{...K,totalDebtAmount:j,totalPaid:Z,balance:me}}).filter(K=>K.name.toLowerCase().includes(g.toLowerCase())),[t,e,n,g]);return i?w.jsxs("div",{className:"p-6 text-white flex items-center justify-center",children:[w.jsx(oo,{size:"lg"}),w.jsx("span",{className:"ml-3",children:"Carregando fornecedores..."})]}):w.jsxs("div",{className:"p-6 text-gray-300",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx(f1,{className:"h-8 w-8 text-yellow-500 mr-3"}),w.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Fornecedores"})]}),w.jsx(lt,{onClick:()=>F(null),variant:"primary",iconLeft:w.jsx(ua,{className:"w-5 h-5"}),children:"Adicionar Fornecedor"})]}),w.jsx(bt,{className:"mb-6 max-w-sm",type:"text",placeholder:"Buscar por nome...",value:g,onChange:K=>x(K.target.value)}),X.length===0?w.jsxs("div",{className:"text-center py-10 bg-[#1d1d1d] shadow-xl rounded-lg",children:[w.jsx(f1,{className:"mx-auto h-12 w-12 text-gray-500"}),w.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:t.length===0?"Nenhum fornecedor cadastrado":"Nenhum fornecedor encontrado"}),w.jsx("p",{className:"mt-1 text-sm text-gray-400",children:t.length===0?"Comece adicionando um novo fornecedor.":"Tente uma busca diferente."})]}):w.jsx("div",{className:"bg-[#1d1d1d] shadow-xl rounded-lg overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-[#1F1F1F]",children:[w.jsx("thead",{className:"bg-[#131313]",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Fornecedor"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Contato"}),w.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Dívida Total"}),w.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Saldo Devedor"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Ações"})]})}),w.jsx("tbody",{className:"bg-[#1d1d1d] divide-y divide-[#1F1F1F]",children:X.map(K=>w.jsxs("tr",{className:"hover:bg-[#1F1F1F]/50",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:K.name}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:K.phone||K.email||"-"}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:ct(K.totalDebtAmount)}),w.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-right font-semibold ${K.balance>0?"text-red-500":"text-green-500"}`,children:ct(K.balance)}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx(lt,{variant:"outline",size:"sm",onClick:()=>V(K),children:"Detalhes"}),w.jsx(lt,{variant:"secondary",size:"sm",onClick:()=>F(K),iconLeft:w.jsx(oc,{className:"w-4 h-4"}),title:"Editar Fornecedor"}),w.jsx(lt,{variant:"danger",size:"sm",onClick:()=>B(K.id),iconLeft:w.jsx(so,{className:"w-4 h-4"}),title:"Excluir Fornecedor"})]})})]},K.id))})]})}),b&&w.jsx(jO,{supplier:C,onSave:Y,onClose:()=>A(!1)}),M&&N&&w.jsx(UO,{supplier:N,debts:e.filter(K=>K.supplierId===N.id),payments:n.filter(K=>K.supplierId===N.id),onCreateDebt:c,onDeleteDebt:u,onCreateCredit:f,onDeleteCredit:h,onClose:()=>L(!1)})]})},jO=({supplier:t,onSave:e,onClose:n})=>{const[i,r]=pe.useState(t||FO),a=c=>{const{name:u,value:f}=c.target;r(u==="phone"?{...i,[u]:uS(f)}:{...i,[u]:f})},o=c=>{c.preventDefault(),e(i)};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-[#1d1d1d] p-6 md:p-8 rounded-lg shadow-xl w-full max-w-lg text-gray-300",children:[w.jsxs("h3",{className:"text-xl font-semibold mb-6 text-white",children:[t?"Editar":"Adicionar"," Fornecedor"]}),w.jsxs("form",{onSubmit:o,className:"space-y-4",children:[w.jsx(bt,{label:"Nome",name:"name",value:i.name,onChange:a,required:!0}),w.jsx(bt,{label:"CNPJ",name:"cnpj",value:i.cnpj||"",onChange:a}),w.jsx(bt,{label:"Telefone",name:"phone",value:i.phone||"",onChange:a}),w.jsx(bt,{label:"Email",name:"email",type:"email",value:i.email||"",onChange:a}),w.jsx(ao,{label:"Endereço",name:"address",value:i.address||"",onChange:a,rows:2}),w.jsx(ao,{label:"Observações",name:"notes",value:i.notes||"",onChange:a,rows:2}),w.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[w.jsx(lt,{type:"button",variant:"secondary",onClick:n,children:"Cancelar"}),w.jsx(lt,{type:"submit",variant:"primary",children:"Salvar"})]})]})]})})},UO=({supplier:t,debts:e,payments:n,onCreateDebt:i,onDeleteDebt:r,onCreateCredit:a,onDeleteCredit:o,onClose:c})=>{const u=pe.useRef(null),[f,h]=pe.useState(Cw),[g,x]=pe.useState(Aw),b=pe.useMemo(()=>{const F=e.reduce((V,X)=>V+X.totalAmount,0),Y=n.reduce((V,X)=>V+X.amount,0),B=F-Y;return{totalDebtAmount:F,totalPaid:Y,balance:B}},[e,n]),A=pe.useMemo(()=>{const F=[...e.map(B=>({id:B.id,date:B.dateAdded,description:B.description,debit:B.totalAmount,credit:0,type:"debt"})),...n.map(B=>({id:B.id,date:B.date,description:B.description,debit:0,credit:B.amount,type:"payment"}))];F.sort((B,V)=>new Date(B.date).getTime()-new Date(V.date).getTime());let Y=0;return F.map(B=>(Y+=B.debit-B.credit,{...B,balance:Y}))},[e,n]),C=pe.useMemo(()=>({labels:["Em Aberto","Pago"],datasets:[{data:[Math.max(0,b.balance),b.totalPaid],backgroundColor:["#ef4444","#22c55e"],borderColor:["#1d1d1d","#1d1d1d"],borderWidth:2}]}),[b]),P={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",labels:{color:"#d1d5db"}}}},M=async()=>{if(f.totalAmount<=0){alert("O valor da dívida deve ser positivo.");return}try{await i({supplierId:t.id,...f}),h(Cw)}catch(F){console.error("Erro ao adicionar dívida:",F),alert("Erro ao adicionar dívida. Tente novamente.")}},L=async()=>{if(g.amount<=0){alert("O valor do pagamento deve ser positivo.");return}try{await a({supplierId:t.id,...g}),x(Aw)}catch(F){console.error("Erro ao adicionar pagamento:",F),alert("Erro ao adicionar pagamento. Tente novamente.")}},N=async F=>{if(F.type==="debt"){if(window.confirm("Tem certeza que deseja excluir esta dívida?"))try{await r(F.id)}catch(Y){console.error("Erro ao excluir dívida:",Y),alert("Erro ao excluir dívida. Tente novamente.")}}else if(window.confirm("Tem certeza que deseja excluir este pagamento?"))try{await o(F.id)}catch(Y){console.error("Erro ao excluir pagamento:",Y),alert("Erro ao excluir pagamento. Tente novamente.")}},R=()=>{const F=new _t;F.setFontSize(18),F.text(`Relatório do Fornecedor: ${t.name}`,14,22),F.setFontSize(11),F.text(`Dívida Total: ${ct(b.totalDebtAmount)}`,14,35),F.text(`Total Pago: ${ct(b.totalPaid)}`,14,42),F.setFontSize(12).setFont(void 0,"bold"),F.text(`Saldo Devedor: ${ct(b.balance)}`,14,52),F.setFontSize(11).setFont(void 0,"normal");let Y=70;A.length>0&&(F.setFontSize(14).text("Extrato de Transações",14,Y),Y+=8,Uh(F,{startY:Y,head:[["Data","Descrição","Dívida (+)","Pagamento (-)","Saldo"]],body:A.map(B=>[new Date(B.date+"T00:00:00").toLocaleDateString("pt-BR"),B.description||"-",B.debit>0?ct(B.debit):"-",B.credit>0?ct(B.credit):"-",ct(B.balance)]),theme:"striped",headStyles:{fillColor:[40,40,40]},didParseCell:function(B){B.column.index===4&&(B.cell.styles.fontStyle="bold"),B.column.index===2&&B.row.raw&&B.row.raw[2]!=="-"&&(B.cell.styles.textColor="#dc2626"),B.column.index===3&&B.row.raw&&B.row.raw[3]!=="-"&&(B.cell.styles.textColor="#16a34a")}})),F.save(`Relatorio_${t.name.replace(/\s/g,"_")}.pdf`)};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-[60] flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-[#1d1d1d] p-4 md:p-6 rounded-lg shadow-2xl w-full max-w-6xl max-h-[95vh] text-gray-300 flex flex-col",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4 flex-shrink-0",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-semibold text-white",children:t.name}),w.jsxs("p",{className:"text-sm text-gray-400",children:[t.phone," ",t.email&&`| ${t.email}`]})]}),w.jsx(lt,{type:"button",variant:"secondary",onClick:c,children:"× Fechar"})]}),w.jsxs("div",{className:"flex-grow overflow-y-auto pr-4 -mr-4",children:[w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[w.jsxs("div",{className:"lg:col-span-2 bg-[#1d1d1d]/50 p-4 rounded-lg space-y-2",children:[w.jsx("h4",{className:"font-semibold text-lg text-white mb-2",children:"Resumo Financeiro"}),w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{children:"Dívida Total:"}),w.jsx("span",{children:ct(b.totalDebtAmount)})]}),w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{children:"Total Pago:"}),w.jsx("span",{className:"text-green-400",children:ct(b.totalPaid)})]}),w.jsx("hr",{className:"border-gray-600 my-2"}),w.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[w.jsx("span",{children:"Saldo Devedor:"}),w.jsx("span",{className:b.balance>0?"text-red-400":"text-green-400",children:ct(b.balance)})]})]}),w.jsx("div",{className:"bg-[#1d1d1d]/50 p-4 rounded-lg h-64",children:b.totalDebtAmount>0&&w.jsx(cS,{ref:u,data:C,options:P})})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[w.jsxs("div",{className:"bg-black p-4 rounded-lg border border-[#1F1F1F]",children:[w.jsx("h4",{className:"font-semibold text-lg text-white mb-3",children:"Adicionar Dívida"}),w.jsxs("div",{className:"space-y-3",children:[w.jsx(ao,{label:"Descrição (Opcional)",value:f.description,onChange:F=>h({...f,description:F.target.value}),rows:1}),w.jsx(bt,{label:"Data da Dívida",type:"date",value:f.dateAdded,onChange:F=>h({...f,dateAdded:F.target.value})}),w.jsx(bt,{label:"Valor da Dívida",type:"number",step:"0.01",value:f.totalAmount>0?f.totalAmount:"",onChange:F=>h({...f,totalAmount:parseFloat(F.target.value)||0}),placeholder:"0.00"}),w.jsx(lt,{onClick:M,variant:"primary",className:"w-full",children:"Adicionar Dívida"})]})]}),w.jsxs("div",{className:"bg-black p-4 rounded-lg border border-[#1F1F1F]",children:[w.jsx("h4",{className:"font-semibold text-lg text-white mb-3",children:"Adicionar Pagamento"}),w.jsxs("div",{className:"space-y-3",children:[w.jsx(ao,{label:"Descrição (Opcional)",value:g.description,onChange:F=>x({...g,description:F.target.value}),rows:1}),w.jsx(bt,{label:"Data do Pagamento",type:"date",value:g.date,onChange:F=>x({...g,date:F.target.value})}),w.jsx(bt,{label:"Valor do Pagamento",type:"number",step:"0.01",value:g.amount>0?g.amount:"",onChange:F=>x({...g,amount:parseFloat(F.target.value)||0}),placeholder:"0.00"}),w.jsx(lt,{onClick:L,variant:"success",className:"w-full",children:"Adicionar Pagamento"})]})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold text-lg text-white mb-2",children:"Extrato de Transações"}),w.jsx("div",{className:"overflow-x-auto bg-[#1d1d1d]/50 rounded-lg max-h-96",children:w.jsxs("table",{className:"min-w-full divide-y divide-[#1F1F1F]",children:[w.jsx("thead",{className:"bg-[#1F1F1F]/50 sticky top-0",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium uppercase",children:"Data"}),w.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium uppercase",children:"Descrição"}),w.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium uppercase",children:"Dívida (+)"}),w.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium uppercase",children:"Pagamento (-)"}),w.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium uppercase",children:"Saldo"}),w.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium uppercase",children:"Ação"})]})}),w.jsx("tbody",{className:"divide-y divide-[#1F1F1F]",children:A.length>0?A.map((F,Y)=>w.jsxs("tr",{className:"hover:bg-[#1F1F1F]/50",children:[w.jsx("td",{className:"px-3 py-2 text-sm whitespace-nowrap",children:new Date(F.date+"T00:00:00").toLocaleDateString("pt-BR")}),w.jsx("td",{className:"px-3 py-2 text-sm",children:F.description||"-"}),w.jsx("td",{className:"px-3 py-2 text-sm text-right text-red-400",children:F.debit>0?ct(F.debit):"-"}),w.jsx("td",{className:"px-3 py-2 text-sm text-right text-green-400",children:F.credit>0?ct(F.credit):"-"}),w.jsx("td",{className:"px-3 py-2 text-sm text-right font-semibold",children:ct(F.balance)}),w.jsx("td",{className:"px-3 py-2 text-center",children:w.jsx(lt,{size:"xs",variant:"danger",title:"Excluir Transação",onClick:()=>N(F),children:w.jsx(so,{className:"w-4 h-4"})})})]},`${F.type}-${F.id}-${Y}`)):w.jsx("tr",{children:w.jsx("td",{colSpan:6,className:"text-center py-4 text-gray-500",children:"Nenhuma transação registrada."})})})]})})]})]}),w.jsxs("div",{className:"mt-6 text-right border-t border-[#1F1F1F] pt-4 flex-shrink-0",children:[w.jsx(lt,{onClick:R,variant:"outline",className:"mr-2",children:"Exportar Relatório (PDF)"}),w.jsx(lt,{onClick:c,variant:"primary",children:"Fechar"})]})]})})};xu.register(Nf,tg,eg);const Z0={name:"",totalAmount:0,dueDate:mu(new Date),isPaid:!1,parcelType:"none",numberOfInstallments:1,notes:""},BO=()=>{const{entries:t,loading:e,createEntries:n,updateEntry:i,deleteEntry:r,deleteEntriesBySeries:a}=dM(),{company:o}=Vf(),[c,u]=pe.useState(!1),[f,h]=pe.useState(Z0),[g,x]=pe.useState(null),[b,A]=pe.useState(!1),[C,P]=pe.useState("pending"),[M,L]=pe.useState(""),[N,R]=pe.useState("all"),[F,Y]=pe.useState(new Date().getFullYear()),[B,V]=pe.useState(new Date().getMonth()+1),X=()=>{var Ue,ot;if(U.length===0){alert("Nenhuma conta encontrada para gerar o relatório.");return}const ce=new _t,ve=ce.internal.pageSize.width,_e=10;let Te=15;if(o){let qe=_e,Xe=0;const Qe=o.logoUrlLightBg;if(Qe&&Qe.startsWith("data:image"))try{const yt=(Ue=Qe.substring(Qe.indexOf(":")+1,Qe.indexOf(";")).split("/")[1])==null?void 0:Ue.toUpperCase();yt&&(yt==="PNG"||yt==="JPEG"||yt==="JPG")&&(ce.addImage(Qe,yt,_e,Te,35,20),qe=_e+35+5,Xe=20)}catch(dt){console.error("Erro ao adicionar logo ao PDF:",dt)}let Ze=Te;if(ce.setFontSize(12),ce.setFont("helvetica","bold"),ce.setTextColor(0,0,0),ce.text(o.name,qe,Ze),Ze+=6,ce.setFontSize(9),ce.setFont("helvetica","normal"),o.address){const dt=ce.splitTextToSize(o.address,ve-qe-_e);ce.text(dt,qe,Ze),Ze+=dt.length*4}let ft="";o.phone&&(ft+=`Tel: ${o.phone}`),o.email&&(ft+=`${o.phone?" | ":""}Email: ${o.email}`),ft&&(ce.text(ft,qe,Ze),Ze+=4),o.cnpj&&(ce.text(`CNPJ: ${o.cnpj}`,qe,Ze),Ze+=4);let Ct="";o.website&&(Ct+=`Site: ${o.website}`),o.instagram&&(Ct+=`${o.website?" | ":""}Instagram: ${o.instagram}`),Ct&&(ce.text(Ct,qe,Ze),Ze+=4),Te=Math.max(Ze,Te+Xe)+10}ce.setFontSize(16),ce.setFont("helvetica","bold"),ce.setTextColor(0,0,0),ce.text("Relatório de Contas a Pagar",ve/2,Te,{align:"center"}),Te+=10,ce.setFontSize(10),ce.setFont("helvetica","normal");let Oe="Filtros aplicados: ";if(Oe+=`Status: ${{all:"Todas",pending:"Pendentes",paid:"Pagas"}[C]}`,N!=="all"){const qe={week:"Esta Semana",month:"Este Mês",specific_month:`${(ot=te.find(Xe=>Xe.value===B))==null?void 0:ot.label} de ${F}`};Oe+=` | Período: ${qe[N]}`}M&&(Oe+=` | Busca: "${M}"`),ce.text(Oe,_e,Te),Te+=8,ce.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,_e,Te),Te+=15,ce.setFontSize(12),ce.setFont("helvetica","bold"),ce.text("Resumo:",_e,Te),Te+=8,ce.setFontSize(10),ce.setFont("helvetica","normal"),ce.text(`Total de contas: ${U.length}`,_e,Te),Te+=5,ce.text(`Total geral: ${ct(le)}`,_e,Te),Te+=5,ce.text(`Total pago: ${ct(k)}`,_e,Te),Te+=5,ce.text(`Total pendente: ${ct($)}`,_e,Te),Te+=15;const Ke=U.map(qe=>[qe.name,new Date(qe.dueDate+"T00:00:00").toLocaleDateString("pt-BR"),ct(qe.amount),qe.isPaid?"Paga":"Pendente",qe.notes||"-"]);Uh(ce,{startY:Te,head:[["Nome da Conta","Vencimento","Valor","Status","Observações"]],body:Ke,theme:"striped",headStyles:{fillColor:[40,40,40]},margin:{left:_e,right:_e},styles:{fontSize:8},columnStyles:{0:{cellWidth:"auto"},1:{cellWidth:25,halign:"center"},2:{cellWidth:25,halign:"right"},3:{cellWidth:20,halign:"center"},4:{cellWidth:"auto"}},didParseCell:function(qe){qe.column.index===3&&(qe.cell.text[0]==="Paga"?qe.cell.styles.textColor=[34,197,94]:qe.cell.styles.textColor=[239,68,68])}});const ge=ce.lastAutoTable.finalY+10;ce.setFontSize(8),ce.setFont("helvetica","italic"),ce.text("Relatório gerado pelo sistema MaxControl",ve/2,ge,{align:"center"});let oe="Contas_a_Pagar";N==="specific_month"?oe+=`_${B.toString().padStart(2,"0")}_${F}`:N!=="all"&&(oe+=`_${N}`),oe+=`_${new Date().toISOString().slice(0,10)}.pdf`,ce.save(oe)},K=ce=>{const{name:ve,value:_e,type:Te}=ce.target;if(Te==="checkbox"){const{checked:Oe}=ce.target;h(je=>({...je,[ve]:Oe}))}else h(ve==="parcelType"?Oe=>({...Oe,parcelType:_e}):Oe=>({...Oe,[ve]:ve==="totalAmount"||ve==="numberOfInstallments"?parseFloat(_e)||0:_e}))},O=()=>{x(null),h(Z0),u(!0)},j=ce=>{x(ce),h({name:ce.name,totalAmount:ce.amount,dueDate:ce.dueDate,isPaid:ce.isPaid,parcelType:"none",numberOfInstallments:1,notes:ce.notes||""}),u(!0)},Q=()=>{u(!1),x(null),h(Z0)},Z=async ce=>{ce.preventDefault(),A(!0);try{if(g){const ve={...g,name:f.name,amount:f.totalAmount,dueDate:f.dueDate,isPaid:f.isPaid,notes:f.notes};await i(ve)}else{const ve=[],_e=new Date().toISOString(),Te=`series-${Date.now()}`;if(f.parcelType==="none"||f.numberOfInstallments<=0)ve.push({name:f.name,amount:f.totalAmount,dueDate:f.dueDate,isPaid:f.isPaid,createdAt:_e,notes:f.notes});else{const Oe=parseFloat((f.totalAmount/f.numberOfInstallments).toFixed(2));let je=new Date(f.dueDate+"T00:00:00");for(let Ke=0;Ke<f.numberOfInstallments;Ke++){let ge;Ke===0?ge=je:ge=f.parcelType==="weekly"?uM(je,Ke):cM(je,Ke),ve.push({name:`${f.name} - Parcela ${Ke+1}/${f.numberOfInstallments}`,amount:Ke===f.numberOfInstallments-1&&f.numberOfInstallments>1&&Oe*f.numberOfInstallments!==f.totalAmount?parseFloat((f.totalAmount-Oe*(f.numberOfInstallments-1)).toFixed(2)):Oe,dueDate:mu(ge),isPaid:!1,seriesId:Te,totalInstallmentsInSeries:f.numberOfInstallments,installmentNumberOfSeries:Ke+1,createdAt:_e,notes:Ke===0?f.notes:void 0})}}await n(ve)}Q()}catch(ve){console.error("Erro ao salvar conta a pagar:",ve),alert("Erro ao salvar conta a pagar. Tente novamente.")}A(!1)},me=async ce=>{const ve=t.find(_e=>_e.id===ce);if(ve)try{ve.seriesId?window.confirm(`Esta é uma parcela. Deseja excluir apenas esta parcela ou todas as ${ve.totalInstallmentsInSeries} parcelas desta dívida? 

OK = Excluir TODAS as parcelas da série.
Cancelar = Excluir APENAS esta parcela.`)?await a(ve.seriesId):await r(ce):window.confirm("Tem certeza que deseja excluir esta dívida?")&&await r(ce)}catch(_e){console.error("Erro ao excluir conta a pagar:",_e),alert("Erro ao excluir conta a pagar. Tente novamente.")}},z=async ce=>{const ve=t.find(_e=>_e.id===ce);if(ve)try{await i({...ve,isPaid:!ve.isPaid})}catch(_e){console.error("Erro ao atualizar status da conta:",_e),alert("Erro ao atualizar status da conta. Tente novamente.")}},G=pe.useMemo(()=>{if(t.length===0)return[new Date().getFullYear()];const ce=[...new Set(t.map(_e=>new Date(_e.dueDate).getFullYear()))].sort((_e,Te)=>Te-_e);return[...new Set([...ce,new Date().getFullYear()])].sort((_e,Te)=>Te-_e)},[t]),te=pe.useMemo(()=>Array.from({length:12},(ce,ve)=>({value:ve+1,label:new Date(0,ve).toLocaleString("pt-BR",{month:"long"})})),[]),H=pe.useMemo(()=>G.map(ce=>({value:ce,label:ce.toString()})),[G]),U=pe.useMemo(()=>{const ce=new Date,ve=ce.getFullYear(),_e=ce.getMonth(),Te=new Date(ce);Te.setDate(ce.getDate()-ce.getDay()+(ce.getDay()===0?-6:1)),Te.setHours(0,0,0,0);const Oe=new Date(Te);return Oe.setDate(Te.getDate()+6),Oe.setHours(23,59,59,999),t.filter(je=>{const Ke=C==="all"||C==="paid"&&je.isPaid||C==="pending"&&!je.isPaid,ge=je.name.toLowerCase().includes(M.toLowerCase());let oe=!0;const Ue=new Date(je.dueDate+"T00:00:00");switch(N){case"week":oe=Ue>=Te&&Ue<=Oe;break;case"month":oe=Ue.getFullYear()===ve&&Ue.getMonth()===_e;break;case"specific_month":oe=Ue.getFullYear()===F&&Ue.getMonth()+1===B;break;case"all":default:oe=!0;break}return Ke&&ge&&oe})},[t,C,M,N,B,F]),{totalVisible:le,totalPaid:k,totalPending:$}=pe.useMemo(()=>{const ce=U.reduce((Te,Oe)=>Te+Oe.amount,0),ve=U.filter(Te=>Te.isPaid).reduce((Te,Oe)=>Te+Oe.amount,0),_e=U.filter(Te=>!Te.isPaid).reduce((Te,Oe)=>Te+Oe.amount,0);return{totalVisible:ce,totalPaid:ve,totalPending:_e}},[U]),ie=pe.useMemo(()=>{const ce=new Date,ve=ce.getFullYear(),_e=ce.getMonth(),Te=t.filter(Ke=>{const ge=new Date(Ke.dueDate+"T00:00:00");return ge.getFullYear()===ve&&ge.getMonth()===_e}),Oe=Te.filter(Ke=>Ke.isPaid).reduce((Ke,ge)=>Ke+ge.amount,0),je=Te.filter(Ke=>!Ke.isPaid).reduce((Ke,ge)=>Ke+ge.amount,0);return{totalPaidThisMonth:Oe,totalPendingThisMonth:je}},[t]),ue=pe.useMemo(()=>({labels:["Pendentes no Mês","Pagas no Mês"],datasets:[{label:"Valor (R$)",data:[ie.totalPendingThisMonth,ie.totalPaidThisMonth],backgroundColor:["rgba(239, 68, 68, 0.7)","rgba(34, 197, 94, 0.7)"],borderColor:["rgba(239, 68, 68, 1)","rgba(34, 197, 94, 1)"],borderWidth:1,hoverOffset:8}]}),[ie]),fe=pe.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#d1d5db",font:{size:12,family:"Inter"}}},title:{display:!0,text:`Resumo de Contas para ${new Date().toLocaleString("pt-BR",{month:"long",year:"numeric"}).replace(/^\w/,ce=>ce.toUpperCase())}`,color:"#f3f4f6",font:{size:16,weight:600,family:"Inter"}},tooltip:{backgroundColor:"#1d1d1d",titleColor:"#f3f4f6",bodyColor:"#d1d5db",callbacks:{label:function(ce){const ve=ce.label||"",_e=ce.raw,Te=ce.dataset.data.reduce((je,Ke)=>je+Ke,0)||1,Oe=Te>0?(_e/Te*100).toFixed(2):0;return`${ve}: ${ct(_e)} (${Oe}%)`}}}}}),[]),we=[{value:"none",label:"Não Parcelar (Pagamento Único)"},{value:"weekly",label:"Semanalmente"},{value:"monthly",label:"Mensalmente"}];return e?w.jsxs("div",{className:"p-6 text-white flex items-center justify-center",children:[w.jsx(oo,{size:"lg"}),w.jsx("span",{className:"ml-3",children:"Carregando contas a pagar..."})]}):w.jsxs("div",{className:"p-6 text-gray-300",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx(nh,{className:"h-8 w-8 text-yellow-500 mr-3"}),w.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Contas a Pagar"})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx(lt,{onClick:X,variant:"outline",iconLeft:w.jsx(ro,{className:"w-5 h-5"}),disabled:U.length===0,children:"Gerar Relatório PDF"}),w.jsx(lt,{onClick:O,variant:"primary",iconLeft:w.jsx(ua,{className:"w-5 h-5"}),children:"Adicionar Nova Conta"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[w.jsx("div",{className:"lg:col-span-2 p-4 bg-[#1d1d1d] rounded-lg shadow flex items-center justify-center",children:ie.totalPaidThisMonth>0||ie.totalPendingThisMonth>0?w.jsx("div",{className:"h-80 w-full relative",children:w.jsx(cS,{data:ue,options:fe})}):w.jsxs("div",{className:"text-center text-gray-500 h-80 flex flex-col justify-center items-center",children:[w.jsx(nh,{className:"h-12 w-12 mx-auto mb-2"}),w.jsx("p",{children:"Nenhuma conta com vencimento este mês para exibir no gráfico."})]})}),w.jsx("div",{className:"lg:col-span-3 space-y-4",children:w.jsxs("div",{className:"p-4 bg-[#1d1d1d] rounded-lg shadow text-center h-full flex flex-col justify-around",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-md font-medium text-gray-400",children:"Total na Lista Atual"}),w.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:ct(le)})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-md font-medium text-gray-400",children:"Total Pago (na lista)"}),w.jsx("p",{className:"text-2xl font-bold text-green-500",children:ct(k)})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-md font-medium text-gray-400",children:"Total Pendente (na lista)"}),w.jsx("p",{className:"text-2xl font-bold text-red-500",children:ct($)})]})]})})]}),w.jsxs("div",{className:"space-y-4 mb-6 p-4 bg-[#1d1d1d] rounded-lg shadow",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsx("div",{children:w.jsx(bt,{id:"searchTerm",type:"text",placeholder:"Pesquisar por nome...",value:M,onChange:ce=>L(ce.target.value),label:"Pesquisar Conta"})}),w.jsx("div",{children:w.jsx(Yi,{label:"Filtrar Status",options:[{value:"all",label:"Todas"},{value:"pending",label:"Pendentes"},{value:"paid",label:"Pagas"}],value:C,onChange:ce=>P(ce.target.value)})}),w.jsx("div",{children:w.jsx(Yi,{label:"Filtrar Vencimento",options:[{value:"all",label:"Qualquer Data"},{value:"week",label:"Esta Semana"},{value:"month",label:"Este Mês"},{value:"specific_month",label:"Mês Específico..."}],value:N,onChange:ce=>R(ce.target.value)})})]}),N==="specific_month"&&w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-[#1F1F1F]",children:[w.jsx("div",{className:"md:col-start-2",children:w.jsx(Yi,{label:"Mês Específico",options:te,value:B,onChange:ce=>V(Number(ce.target.value))})}),w.jsx("div",{children:w.jsx(Yi,{label:"Ano",options:H,value:F,onChange:ce=>Y(Number(ce.target.value))})})]})]}),U.length===0&&t.length>0&&w.jsxs("div",{className:"text-center py-10 bg-[#1d1d1d] shadow-xl rounded-lg",children:[w.jsx(nh,{className:"mx-auto h-12 w-12 text-gray-500"}),w.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"Nenhuma conta encontrada"}),w.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Verifique os filtros aplicados ou adicione novas contas."})]}),t.length===0?w.jsxs("div",{className:"text-center py-10 bg-[#1d1d1d] shadow-xl rounded-lg",children:[w.jsx(nh,{className:"mx-auto h-12 w-12 text-gray-500"}),w.jsx("h3",{className:"mt-2 text-sm font-medium text-white",children:"Nenhuma conta a pagar registrada"}),w.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Comece adicionando suas contas a pagar."})]}):w.jsx("div",{className:"bg-[#1d1d1d] shadow-xl rounded-lg overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-[#1F1F1F]",children:[w.jsx("thead",{className:"bg-[#1F1F1F]",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider w-16",children:"Paga?"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Nome da Conta"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Vencimento"}),w.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Valor (R$)"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Ações"})]})}),w.jsx("tbody",{className:"bg-[#1d1d1d] divide-y divide-[#1F1F1F]",children:U.map(ce=>w.jsxs("tr",{className:`${ce.isPaid?"bg-green-900/30":"hover:bg-[#1F1F1F]/50"}`,children:[w.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-center",children:w.jsx(bt,{type:"checkbox",checked:ce.isPaid,onChange:()=>z(ce.id),className:"form-checkbox h-5 w-5 text-yellow-500 bg-gray-600 border-gray-500 rounded focus:ring-yellow-400 cursor-pointer","aria-label":`Marcar como ${ce.isPaid?"não paga":"paga"}`})}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[w.jsx("div",{className:`text-sm font-medium ${ce.isPaid?"text-gray-500 line-through":"text-white"}`,children:ce.name}),ce.notes&&w.jsx("div",{className:"text-xs text-gray-400 truncate max-w-xs",children:ce.notes})]}),w.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${ce.isPaid?"text-gray-500 line-through":"text-gray-300"}`,children:new Date(ce.dueDate+"T00:00:00").toLocaleDateString("pt-BR")}),w.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-right font-semibold ${ce.isPaid?"text-gray-500 line-through":"text-yellow-400"}`,children:ct(ce.amount)}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2 flex items-center",children:[w.jsx(lt,{onClick:()=>j(ce),variant:"secondary",size:"xs",iconLeft:w.jsx(oc,{className:"w-4 h-4"}),title:"Editar Conta"}),w.jsx(lt,{onClick:()=>me(ce.id),variant:"danger",size:"xs",iconLeft:w.jsx(so,{className:"w-4 h-4"}),title:"Excluir Conta"})]})]},ce.id))})]})}),c&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-[#1d1d1d] p-6 md:p-8 rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto text-gray-300",children:[w.jsx("h3",{className:"text-xl font-semibold mb-6 text-white",children:g?"Editar Conta a Pagar":"Adicionar Nova Conta a Pagar"}),w.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[w.jsx(bt,{label:"Nome da Conta/Dívida",name:"name",value:f.name,onChange:K,required:!0}),w.jsx(bt,{label:g||f.parcelType==="none"?"Valor da Conta/Parcela":"Valor Total da Dívida (a ser parcelado)",name:"totalAmount",type:"number",step:"0.01",min:"0.01",value:f.totalAmount===0&&!g?"":f.totalAmount,onChange:K,required:!0}),w.jsx(bt,{label:g||f.parcelType==="none"?"Data de Vencimento":"Data de Vencimento da Primeira Parcela",name:"dueDate",type:"date",value:f.dueDate,onChange:K,required:!0,className:"text-gray-300",style:{colorScheme:"dark"}}),w.jsx(ao,{label:"Observações (Opcional)",name:"notes",value:f.notes,onChange:K,rows:2}),!g&&w.jsxs(w.Fragment,{children:[w.jsx(Yi,{label:"Parcelamento",name:"parcelType",options:we,value:f.parcelType,onChange:K}),f.parcelType!=="none"&&w.jsx(bt,{label:"Número de Parcelas",name:"numberOfInstallments",type:"number",min:"2",step:"1",value:f.numberOfInstallments<=1?"":f.numberOfInstallments,onChange:K,required:!0})]}),w.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[w.jsx(bt,{id:"isPaid",name:"isPaid",type:"checkbox",checked:f.isPaid,onChange:K,className:"form-checkbox h-5 w-5 text-yellow-500 bg-gray-600 border-gray-500 rounded focus:ring-yellow-400"}),w.jsx("label",{htmlFor:"isPaid",className:"text-sm font-medium text-gray-300",children:"Marcar como Paga?"})]}),w.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[w.jsx(lt,{type:"button",variant:"secondary",onClick:Q,children:"Cancelar"}),w.jsx(lt,{type:"submit",variant:"primary",isLoading:b,children:b?"Salvando...":g?"Salvar Alterações":"Adicionar Conta"})]})]})]})})]})},zO=()=>{const[t,e]=pe.useState(!1),[n,i]=pe.useState(null),{company:r}=Vf(),a=pe.useRef(!1),[o,c]=pe.useState(null),[u,f]=pe.useState(!1),[h,g]=pe.useState(!1);pe.useEffect(()=>{a.current||(console.log("🚀 App: Starting Supabase connection test..."),Fi()?o_().then(L=>{L?(console.log("✅ App: Supabase connection successful - all systems ready"),a.current||(a.current=!0,x())):(console.error("❌ App: Supabase connection failed - check CORS settings"),alert("Erro de conexão: Verifique se http://localhost:5173 está nas configurações CORS do Supabase"))}).catch(L=>{console.error("❌ App: Initial Supabase connection test failed - CORS issue:",L),alert("Erro de CORS: Adicione http://localhost:5173 às configurações CORS do Supabase")}):console.error("❌ App: Supabase not configured - check environment variables"))},[]);const x=async()=>{if(!a.current){a.current=!0;try{console.log("🔄 Checking for existing admin user...");const L=await Ea.getUserByUsername("admin@maxcontrol.com");if(L){console.log("✅ Admin user already exists, updating password..."),await Ea.updateUser({...L,password:"admin123"}),console.log("✅ Admin user password updated successfully");return}console.log("📝 Creating new admin user..."),await Ea.createUser({username:"admin@maxcontrol.com",fullName:"Administrador",password:"admin123",role:"admin"}),console.log("✅ Default admin user created successfully")}catch(L){console.error("❌ Error with admin user setup:",L)}}};pe.useEffect(()=>{(()=>{const N=localStorage.getItem("currentUser");if(N)try{const R=JSON.parse(N);i(R),e(!0)}catch(R){console.warn("Error parsing saved user data:",R),localStorage.removeItem("currentUser")}})()},[]),pe.useEffect(()=>{const L=N=>{N.key==="currentUser"&&(N.newValue?i(JSON.parse(N.newValue)):(i(null),e(!1)))};return window.addEventListener("storage",L),()=>{window.removeEventListener("storage",L)}},[]);const b=L=>{const N=localStorage.getItem("currentUser");if(N){const R=JSON.parse(N);i(R),e(!0)}},A=async()=>{i(null),e(!1),localStorage.removeItem("currentUser")},C=L=>{c(L),f(!0)},P=()=>{f(!1),c(null)},M=({children:L,requiredRole:N})=>!t||!n?w.jsx(zd,{to:"/login",replace:!0}):N&&!(Array.isArray(N)?N:[N]).includes(n.role)?(alert("Você não tem permissão para acessar esta página."),w.jsx(zd,{to:"/",replace:!0})):w.jsx(w.Fragment,{children:L});return!t||!n?w.jsx(W2,{children:w.jsxs(G2,{children:[w.jsx(ki,{path:"/login",element:w.jsx(bN,{onLogin:b})}),w.jsx(ki,{path:"*",element:w.jsx(zd,{to:"/login",replace:!0})})]})}):w.jsxs(W2,{children:[w.jsxs("div",{className:"flex flex-col min-h-screen bg-black",children:[w.jsx(nN,{userName:n.username,userFullName:n.fullName,userRole:n.role,onLogout:A,companyInfo:r,isSidebarOpen:h,onToggleSidebar:()=>g(!h)}),w.jsxs("div",{className:"flex flex-1 pt-16",children:[w.jsx(aN,{currentRole:n.role,isOpen:h,setIsOpen:g}),w.jsx("main",{className:"flex-1 p-4 md:p-6 bg-black md:ml-64 overflow-y-auto",children:w.jsxs(G2,{children:[w.jsx(ki,{path:"/login",element:w.jsx(zd,{to:"/",replace:!0})}),w.jsx(ki,{path:"/",element:w.jsx(M,{children:w.jsx(pM,{userName:n.fullName||n.username,userRole:n.role,openGlobalViewDetailsModal:C})})}),w.jsx(ki,{path:"/products",element:w.jsx(M,{requiredRole:[Et.ADMIN,Et.SALES],children:w.jsx(TO,{})})}),w.jsx(ki,{path:"/categories",element:w.jsx(M,{requiredRole:[Et.ADMIN,Et.SALES],children:w.jsx(NO,{})})}),w.jsx(ki,{path:"/customers",element:w.jsx(M,{requiredRole:[Et.ADMIN,Et.SALES],children:w.jsx(DO,{openGlobalViewDetailsModal:C})})}),w.jsx(ki,{path:"/quotes/new",element:w.jsx(M,{requiredRole:[Et.ADMIN,Et.SALES],children:w.jsx(_w,{currentUser:n})})}),w.jsx(ki,{path:"/quotes/edit/:quoteId",element:w.jsx(M,{requiredRole:[Et.ADMIN,Et.SALES],children:w.jsx(_w,{currentUser:n})})}),w.jsx(ki,{path:"/quotes/all",element:w.jsx(M,{requiredRole:[Et.ADMIN,Et.SALES],children:w.jsx(kO,{openGlobalViewDetailsModal:C,currentUserRole:n.role})})}),w.jsx(ki,{path:"/suppliers",element:w.jsx(M,{requiredRole:[Et.ADMIN,Et.SALES],children:w.jsx(OO,{})})}),w.jsx(ki,{path:"/accounts-payable",element:w.jsx(M,{requiredRole:Et.ADMIN,children:w.jsx(BO,{})})}),w.jsx(ki,{path:"/sales/user-performance",element:w.jsx(M,{requiredRole:Et.ADMIN,children:w.jsx(IO,{currentUser:n})})}),w.jsx(ki,{path:"/users",element:w.jsx(M,{requiredRole:Et.ADMIN,children:w.jsx(RO,{loggedInUser:n})})}),w.jsx(ki,{path:"/settings",element:w.jsx(M,{requiredRole:Et.ADMIN,children:w.jsx(EO,{})})}),w.jsx(ki,{path:"/orders",element:w.jsx(M,{requiredRole:[Et.ADMIN,Et.SALES],children:w.jsx(MO,{})})}),w.jsx(ki,{path:"/cashflow",element:w.jsx(M,{requiredRole:Et.ADMIN,children:w.jsx(PO,{})})}),w.jsx(ki,{path:"*",element:w.jsx(zd,{to:"/",replace:!0})})]})})]})]}),w.jsx(f3,{isOpen:u,onClose:P,quote:o})]})},d3=document.getElementById("root");if(!d3)throw new Error("Could not find root element to mount to");const qO=E4.createRoot(d3);qO.render(w.jsx(Of.StrictMode,{children:w.jsx(zO,{})}));export{wn as _,y4 as c,Wm as g};
